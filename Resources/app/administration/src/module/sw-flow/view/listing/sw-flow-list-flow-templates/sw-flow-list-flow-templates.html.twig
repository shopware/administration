<div class="sw-flow-list-my-templates">
    <div class="sw-flow-list-my-templates__content sw-data-grid--light">
        <sw-entity-listing
            class="sw-flow-list-my-templates__grid"
            :show-settings="false"
            :allow-column-edit="false"
            :allow-view="false"
            :allow-edit="false"
            :allow-delete="false"
            :allow-bulk-edit="false"
            :columns="flowColumns"
            :sort-by="sortBy"
            :sort-direction="sortDirection"
            :repository="flowRepository"
            :items="flows"
            :is-loading="isLoading"
            :full-page="false"
            :show-selection="false"
            :show-actions="false"
            @column-sort="onSortColumn"
            @page-change="onPageChange"
            @update-records="updateRecords"
        >
            <template #column-eventName="{ item }">
                <strong>
                    {{ $tc('global.businessEvents.' + getTranslatedEventName(item.eventName)) }}
                </strong>
                <p>{{ item.eventName }}</p>
            </template>

            <template #column-createFlow="{ item }">
                <!-- eslint-disable-next-line vuejs-accessibility/click-events-have-key-events -->
                <a
                    class="sw-flow-list-my-flows__content__create-flow-link"
                    :disabled="!acl.can('flow.creator')"
                    @click="createFlowFromTemplate(item)"
                >
                    {{ $tc('sw-flow.template.create') }}
                    <sw-icon
                        name="default-arrow-simple-right"
                        small
                    />
                </a>
            </template>
        </sw-entity-listing>

        <sw-empty-state
            v-if="!total && !isLoading"
            class="sw-flow-list-my_templates__empty-state"
            :title="$tc('sw-flow.list.emptyStateTitle')"
            :subline="$tc('sw-flow.list.emptyStateSubTitle')"
        >
            <template #icon>
                <img
                    :alt="$tc('sw-flow.list.emptyStateTitle')"
                    :src="'/administration/static/img/empty-states/settings-empty-state.svg' | asset"
                >
            </template>
        </sw-empty-state>
    </div>
</div>
