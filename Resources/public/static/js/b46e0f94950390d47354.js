(this.webpackJsonpAdministration=this.webpackJsonpAdministration||[]).push([[166],{"0Hcb":function(e,i,t){var n=t("LlnH");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,t("P8hj").default)("36a27572",n,!0,{})},"8iWb":function(e,i,t){"use strict";t.r(i);var n=t("D03b"),l=(t("0Hcb"),Shopware),a=l.Mixin,s=l.Filter;i.default={template:'\n{% block sw_cms_element_image_gallery %}\n<div\n    class="sw-cms-el-image-gallery"\n    :class="[galleryPositionClass, currentDeviceViewClass]"\n    :style="verticalAlignStyle"\n>\n\n    \n    {% block sw_cms_element_image_gallery_grid %}\n    <div\n        ref="galleryItemHolder"\n        class="sw-cms-el-image-gallery__grid"\n    >\n\n        <template v-if="mediaUrls && mediaUrls.length">\n            <div class="sw-cms-el-image-gallery__item-holder">\n                \n                {% block sw_cms_element_image_gallery_selection %}\n                \n                <template v-for="(sliderItem, index) in mediaUrls">\n                    <sw-media-list-selection-item-v2\n                        v-if="index < galleryLimit"\n                        :key="index"\n                        :item="sliderItem.media"\n                        :class="activeMediaClass(sliderItem.media)"\n                        hide-actions\n                        hide-tooltip\n                        @click="onChangeGalleryImage(sliderItem.media, index)"\n                    />\n                </template>\n                {% endblock %}\n            </div>\n        </template>\n\n        <template v-else>\n            \n            {% block sw_cms_element_image_gallery_empty %}\n            <div class="sw-cms-el-image-gallery__item-holder">\n                <img\n                    v-for="mediaItem in getPlaceholderItems()"\n                    :key="mediaItem.url"\n                    class="sw-cms-el-image-gallery__item-placeholder"\n                    :src="mediaItem.url"\n                    alt=""\n                >\n            </div>\n            {% endblock %}\n        </template>\n\n        \n        {% block sw_cms_element_image_gallery_nav_arrow %}\n        <div\n            v-if="element.config.sliderItems.value.length > galleryLimit"\n            class="sw-cms-el-image-gallery__grid-arrow"\n        >\n            <sw-icon\n                name="regular-chevron-down"\n                size="20"\n            />\n        </div>\n        {% endblock %}\n    </div>\n    {% endblock %}\n\n    \n    {% block sw_cms_element_image_gallery_slider %}\n    <sw-cms-el-image-slider\n        :element="element"\n        :active-media="activeMedia"\n        @active-image-change="onChangeGalleryImage"\n    />\n    {% endblock %}\n</div>\n{% endblock %}\n',mixins:[a.getByName("cms-element")],data:function(){return{galleryLimit:3,activeMedia:null}},computed:{currentDeviceView:function(){return this.cmsPageState.currentCmsDeviceView},galleryPositionClass:function(){return"is--preview-".concat(this.element.config.galleryPosition.value)},currentDeviceViewClass:function(){return this.currentDeviceView?"is--".concat(this.currentDeviceView):null},verticalAlignStyle:function(){return this.element.config.verticalAlign.value?"align-content: ".concat(this.element.config.verticalAlign.value,";"):null},mediaUrls:function(){var e,i,t,n=null===(e=this.element)||void 0===e?void 0:e.config;return n&&"default"!==n.source?"mapped"===n.source?this.getDemoValue(n.sliderItems.value)||[]:(null===(i=this.element)||void 0===i||null===(t=i.data)||void 0===t?void 0:t.sliderItems)||[]:[]},isProductPage:function(){var e,i,t;return"product_detail"===(null!==(e=null===(i=this.cmsPageState)||void 0===i||null===(t=i.currentPage)||void 0===t?void 0:t.type)&&void 0!==e?e:"")},assetFilter:function(){return s.getByName("asset")}},watch:{currentDeviceView:function(){var e=this;"mobile"===this.currentDeviceView&&(this.galleryLimit=0),setTimeout((function(){e.setGalleryLimit()}),400)},"element.config.galleryPosition.value":{deep:!0,handler:function(){var e=this;this.$nextTick((function(){e.setGalleryLimit()}))}},"element.config.sliderItems.value":{handler:function(e){var i=this;e?this.$nextTick((function(){i.setGalleryLimit()})):this.element.config.sliderItems.value=[]}}},created:function(){this.createdComponent()},mounted:function(){this.mountedComponent()},methods:{createdComponent:function(){var e,i,t,n,l;this.initElementConfig("image-gallery"),this.initElementData("image-gallery"),!this.isProductPage||null!==(e=this.element)&&void 0!==e&&null!==(i=e.translated)&&void 0!==i&&null!==(t=i.config)&&void 0!==t&&t.sliderItems||null!==(n=this.element)&&void 0!==n&&null!==(l=n.data)&&void 0!==l&&l.sliderItems||(this.element.config.sliderItems.source="mapped",this.element.config.sliderItems.value="product.media",this.element.config.navigationDots.value="inside",this.element.config.zoom.value=!0,this.element.config.fullScreen.value=!0,this.element.config.displayMode.value="contain",this.element.config.minHeight.value="430px")},mountedComponent:function(){this.setGalleryLimit()},getPlaceholderItems:function(){var e,i,t=this;if("default"!==(null===(e=this.element)||void 0===e||null===(i=e.config)||void 0===i?void 0:i.source)){var l=n.a.MEDIA.previewMountain.slice(n.a.MEDIA.previewMountain.lastIndexOf("/")+1),a=n.a.MEDIA.previewGlasses.slice(n.a.MEDIA.previewGlasses.lastIndexOf("/")+1),s=n.a.MEDIA.previewPlant.slice(n.a.MEDIA.previewPlant.lastIndexOf("/")+1);return[{url:this.assetFilter("administration/static/img/cms/".concat(l))},{url:this.assetFilter("administration/static/img/cms/".concat(a))},{url:this.assetFilter("administration/static/img/cms/".concat(s))}]}return this.element.config.sliderItems.value.map((function(e){var i=e.fileName.slice(e.fileName.lastIndexOf("/")+1);return{url:t.assetFilter("/administration/static/img/cms/".concat(i))}}))},onChangeGalleryImage:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.sliderIndex=i,this.activeMedia=e},activeMediaClass:function(e){return this.activeMedia?{"is--active":e.id===this.activeMedia.id}:null},setGalleryLimit:function(){if(0!==this.element.config.sliderItems.value.length){var e=0,i=0;"underneath"===this.element.config.galleryPosition.value?(e=this.$refs.galleryItemHolder.offsetWidth-36,i=92):(e=this.$refs.galleryItemHolder.offsetHeight,i=64),this.galleryLimit=Math.floor(e/(i+8))}}}}},LlnH:function(e,i,t){}}]);