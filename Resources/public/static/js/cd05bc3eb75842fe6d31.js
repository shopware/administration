(window.webpackJsonpAdministration=window.webpackJsonpAdministration||[]).push([[37640],{830900:function(){},937640:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return r}}),i(299773);let n=Shopware.Data.Criteria;var r={template:'\n{% block sw_import_export_edit_profile_modal_identifiers %}\n<div class="sw-import-export-edit-profile-modal-identifiers">\n    \n    {% block sw_import_export_edit_profile_modal_identifiers_grid %}\n    <sw-data-grid\n        v-if="identifiers && identifiers.length"\n        :data-source="identifiers"\n        :compact-mode="false"\n        :show-selection="false"\n        :show-actions="false"\n        :columns="identifierColumns"\n        plain-appearance\n        class="sw-import-export-edit-profile-modal-identifiers__grid"\n    >\n\n        \n        {% block sw_import_export_edit_profile_modal_identifiers_grid_entity_name_column %}\n        <template #column-identifierName="{ item }">\n            {{ item.propertyNames.join(\', \') }}\n        </template>\n        {% endblock %}\n\n        \n        {% block sw_import_export_edit_profile_modal_identifiers_grid_mapped_column %}\n        <template #column-mapped="{ item }">\n            <sw-single-select\n                v-if="item.relation !== \'many_to_many\'"\n                required\n                :value="item.selected"\n                :options="item.options"\n                :disabled="profile.systemDefault"\n                :show-clearable-button="item.selected !== \'id\'"\n                @update:value="onChangeIdentifier($event, item.entityName)"\n            />\n            <sw-import-export-entity-path-select\n                v-else\n                :value="item.selected"\n                :languages="languages"\n                :currencies="currencies"\n                :entity-type="item.entityName"\n                :disabled="profile.systemDefault"\n                :custom-field-sets="customFieldSets"\n                @update:value="onChangeIdentifier($event, item.entityName)"\n            >\n                <template #before-item-list>\n                    <span></span>\n                </template>\n            </sw-import-export-entity-path-select>\n        </template>\n        {% endblock %}\n    </sw-data-grid>\n    {% endblock %}\n\n    \n    {% block sw_import_export_edit_profile_modal_identifiers_empty_state %}\n    <sw-empty-state\n        v-else\n        class="sw-import-export-edit-profile-modal-identifiers__empty-state"\n        :title="$tc(\'sw-import-export.profile.mappingEmptyState\')"\n        :absolute="false"\n    />\n    {% endblock %}\n</div>\n{% endblock %}\n',inject:["repositoryFactory","importExportUpdateByMapping"],props:{profile:{type:Object,required:!1,default:null}},data(){return{currencies:[],languages:[],customFieldSets:[]}},computed:{languageRepository(){return this.repositoryFactory.create("language")},currencyRepository(){return this.repositoryFactory.create("currency")},customFieldSetRepository(){return this.repositoryFactory.create("custom_field_set")},languageCriteria(){let e=new n(1,500);return e.addAssociation("locale"),e},currencyCriteria(){return new n(1,500)},customFieldSetCriteria(){let e=new n(1,500);return e.addAssociation("relations"),e.addAssociation("customFields"),e},identifierColumns(){return[{property:"identifierName",label:"sw-import-export.profile.identifiers.identifierNameLabel",allowResize:!1,primary:!0},{property:"mapped",label:"sw-import-export.profile.identifiers.mappedKeyLabel",allowResize:!1,width:"100%"}]},identifiers(){let e={};return this.profile.mapping?(this.profile.mapping.forEach(t=>{let{entity:i,path:n,relation:r,name:o}=this.importExportUpdateByMapping.getEntity(this.profile.sourceEntity,t.key);if(!i||"one_to_many"===r)return;e[i]=e[i]??{entityName:i,options:[],selected:this.importExportUpdateByMapping.getSelected(i,this.profile.updateBy),relation:r,propertyNames:[]};let s=""!==n?t.key.replace(RegExp(`^(${n}.)`),""):t.key;e[i].options.push({label:s,value:s}),e[i].propertyNames.includes(o)||e[i].propertyNames.push(o)}),Object.values(e)):[]}},created(){this.createdComponent()},methods:{createdComponent(){this.languageRepository.search(this.languageCriteria).then(e=>{this.languages=e,this.languages.push({locale:{code:"DEFAULT"}})}),this.currencyRepository.search(this.currencyCriteria).then(e=>{this.currencies=e,this.currencies.push({isoCode:"DEFAULT"})}),this.customFieldSetRepository.search(this.customFieldSetCriteria).then(e=>{this.customFieldSets=e})},onChangeIdentifier(e,t){this.importExportUpdateByMapping.updateMapping(this.profile,e,t)}}}},299773:function(e,t,i){var n=i(830900);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),i(745346).Z("26113dac",n,!0,{})}}]);