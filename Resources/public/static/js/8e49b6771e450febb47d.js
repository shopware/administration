(this.webpackJsonpAdministration=this.webpackJsonpAdministration||[]).push([[421],{F8eb:function(e,t,i){"use strict";i.r(t);var n=i("J58c"),s=i.n(n);i("zOwT");function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){s()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var c=Shopware.Mixin;t.default={template:'\n{% block sw_custom_field_detail %}\n<sw-modal\n    class="sw-custom-field-detail"\n    :title="modalTitle"\n    @modal-close="onCancel"\n>\n    \n    {% block sw_custom_field_detail_modal %}\n    <sw-container\n        columns="1fr 1fr"\n        gap="20px"\n    >\n        \n        {% block sw_custom_field_detail_modal_type %}\n        <sw-select-field\n            v-model="currentCustomField.config.customFieldType"\n            :label="$tc(\'sw-settings-custom-field.customField.detail.labelCustomFieldType\')"\n            :placeholder="$tc(\'sw-settings-custom-field.customField.detail.placeholderCustomFieldType\')"\n            class="sw-custom-field-detail__modal-type"\n            type="select"\n            :help-text="$tc(\'sw-settings-custom-field.general.tooltipType\')"\n            :disabled="!currentCustomField._isNew || !acl.can(\'custom_field.editor\')"\n        >\n            <option\n                v-for="(option, key) in fieldTypes"\n                :key="key"\n                :value="key"\n            >\n                {{ $tc(`sw-settings-custom-field.types.${key}`) }}\n            </option>\n        </sw-select-field>\n        {% endblock %}\n\n        \n        {% block sw_custom_field_detail_modal_technical_name %}\n        <sw-field\n            v-model="currentCustomField.name"\n            type="text"\n            class="sw-custom-field-detail__technical-name"\n            :label="$tc(\'sw-settings-custom-field.customField.detail.labelTechnicalName\')"\n            :help-text="$tc(\'sw-settings-custom-field.general.tooltipTechnicalName\')"\n            :disabled="!currentCustomField._isNew || !acl.can(\'custom_field.editor\')"\n        />\n        {% endblock %}\n\n        \n        {% block sw_custom_field_detail_modal_position %}\n        <sw-field\n            v-model="currentCustomField.config.customFieldPosition"\n            type="number"\n            class="sw-custom-field-detail__modal-position"\n            :help-text="$tc(\'sw-settings-custom-field.customField.detail.tooltipCustomFieldPosition\')"\n            number-type="int"\n            :label="$tc(\'sw-settings-custom-field.customField.detail.labelCustomFieldPosition\')"\n            :disabled="!acl.can(\'custom_field.editor\')"\n        />\n        {% endblock %}\n\n        \n        {% block sw_custom_field_detail_modal_required %}\n        <sw-field\n            v-model="required"\n            type="switch"\n            bordered\n            :help-text="$tc(\'sw-settings-custom-field.customField.detail.tooltipRequired\')"\n            class="sw-custom-field-detail__switch"\n            :label="$tc(\'sw-settings-custom-field.customField.detail.labelRequired\')"\n            required\n            :disabled="!acl.can(\'custom_field.editor\')"\n        />\n        {% endblock %}\n\n        \n        {% block sw_custom_field_detail_modal_allow_customer_write %}\n        <sw-field\n            v-model="currentCustomField.allowCustomerWrite"\n            type="switch"\n            bordered\n            :help-text="$tc(\'sw-settings-custom-field.customField.detail.tooltipAllowCustomerWrite\')"\n            class="sw-custom-field-detail__allow-customer-write"\n            :label="$tc(\'sw-settings-custom-field.customField.detail.labelAllowCustomerWrite\')"\n            :disabled="!acl.can(\'custom_field.editor\')"\n        />\n        {% endblock %}\n\n        \n        {% block sw_custom_field_detail_modal_snippet_info  %}\n        <sw-alert class="sw-custom-field-detail__info">\n            {{ $tc(\'sw-settings-custom-field.customField.detail.infoText\', 0, { name: currentCustomField.name }) }}\n        </sw-alert>\n        {% endblock %}\n    </sw-container>\n\n    \n    {% block sw_custom_field_detail_modal_render_component %}\n    <div v-if="currentCustomField.config.customFieldType.length > 0">\n        <component\n            :is="renderComponentName"\n            :current-custom-field="currentCustomField"\n            :set="set"\n        />\n    </div>\n    {% endblock %}\n\n    \n    {% block sw_custom_field_detail_modal_footer %}\n    <template #modal-footer>\n        \n        {% block sw_custom_field_detail_modal_footer_cancel %}\n        <sw-button\n            size="small"\n            @click="onCancel"\n        >\n            {{ $tc(\'sw-settings-custom-field.customField.detail.buttonCancel\') }}\n        </sw-button>\n        {% endblock %}\n\n        \n        {% block sw_custom_field_detail_modal_footer_save %}\n        <sw-button\n            class="sw-custom-field-detail__footer-save"\n            variant="primary"\n            size="small"\n            :disabled="!canSave || !acl.can(\'custom_field.editor\')"\n            @click="onSave"\n        >\n            {{ labelSaveButton }}\n        </sw-button>\n        {% endblock %}\n    </template>\n    {% endblock %}\n    {% endblock %}\n</sw-modal>\n{% endblock %}\n',inject:["customFieldDataProviderService","SwCustomFieldListIsCustomFieldNameUnique","acl"],mixins:[c.getByName("notification")],props:{currentCustomField:{type:Object,required:!0},set:{type:Object,required:!0}},data:function(){return{fieldTypes:{},required:!1}},computed:{locales:function(){return this.set.config.translated&&!0===this.set.config.translated?Object.keys(this.$root.$i18n.messages):[this.$root.$i18n.fallbackLocale]},canSave:function(){return this.currentCustomField.config.customFieldType},renderComponentName:function(){return this.fieldTypes[this.currentCustomField.config.customFieldType].configRenderComponent},modalTitle:function(){return this.currentCustomField._isNew?this.$tc("sw-settings-custom-field.customField.detail.titleNewCustomField"):this.$tc("sw-settings-custom-field.customField.detail.titleEditCustomField")},labelSaveButton:function(){return this.currentCustomField._isNew?this.$tc("sw-settings-custom-field.customField.detail.buttonSaveApply"):this.$tc("sw-settings-custom-field.customField.detail.buttonEditApply")}},watch:{required:function(e){e?this.currentCustomField.config.validation="required":this.currentCustomField.config.hasOwnProperty("validation")&&this.$delete(this.currentCustomField.config,"validation")}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.fieldTypes=this.customFieldDataProviderService.getTypes(),this.currentCustomField.config||this.$set(this.currentCustomField,"config",{}),this.currentCustomField.config.hasOwnProperty("customFieldType")||this.$set(this.currentCustomField.config,"customFieldType",""),this.currentCustomField.name||(this.currentCustomField.name="".concat(this.set.name.toLowerCase(),"_")),this.currentCustomField.config.hasOwnProperty("validation")&&(this.required="required"===this.currentCustomField.config.validation),this.currentCustomField.config.hasOwnProperty("customFieldPosition")||this.$set(this.currentCustomField.config,"customFieldPosition",1)},onCancel:function(){this.$emit("custom-field-edit-cancel",this.currentCustomField)},onSave:function(){var e=this;this.applyTypeConfiguration(),this.currentCustomField._isNew?"entity"!==this.currentCustomField.config.customFieldType||this.currentCustomField.config.entity?this.SwCustomFieldListIsCustomFieldNameUnique(this.currentCustomField).then((function(t){t?e.$emit("custom-field-edit-save",e.currentCustomField):e.createNameNotUniqueNotification()})):this.createEntityTypeRequiredNotification():this.$emit("custom-field-edit-save",this.currentCustomField)},createNameNotUniqueNotification:function(){var e=this.$tc("global.default.error"),t=this.$tc("sw-settings-custom-field.set.detail.messageNameNotUnique");this.createNotificationError({title:e,message:t})},createEntityTypeRequiredNotification:function(){var e=this.$tc("global.default.error"),t=this.$tc("sw-settings-custom-field.set.detail.entityTypeRequired");this.createNotificationError({title:e,message:t})},applyTypeConfiguration:function(){var e=this.currentCustomField.config.customFieldType;this.currentCustomField.type||(this.currentCustomField.type=this.fieldTypes[e].type||e),this.currentCustomField.config=l(l({},this.currentCustomField.config),this.fieldTypes[e].config)}}}},fnOn:function(e,t,i){},zOwT:function(e,t,i){var n=i("fnOn");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,i("ydqr").default)("391cf949",n,!0,{})}}]);