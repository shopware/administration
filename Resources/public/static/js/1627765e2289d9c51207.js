(this.webpackJsonpAdministration=this.webpackJsonpAdministration||[]).push([[136],{"9mMs":function(n,s,e){},Ac8j:function(n,s,e){var t=e("9mMs");t.__esModule&&(t=t.default),"string"==typeof t&&(t=[[n.i,t,""]]),t.locals&&(n.exports=t.locals);(0,e("P8hj").default)("256ad055",t,!0,{})},lHs8:function(n,s,e){"use strict";e.r(s);var t=e("7yzw"),a=e.n(t),o=e("6lmj"),i=e.n(o),c=e("92Mt"),l=e.n(c),m=e("Vax+"),g=(e("Ac8j"),Shopware.Utils.object.cloneDeep),r=Shopware.Data,d=r.EntityCollection,p=r.Criteria;s.default={template:'\n{% block sw_cms_layout_assignment_modal %}\n<sw-modal\n    :title="$tc(\'sw-cms.detail.sidebar.titleLayoutAssignment\')"\n    class="sw-cms-layout-assignment-modal"\n    @modal-close="onAbort"\n>\n\n    \n    {% block sw_cms_layout_assignment_modal_loader %}\n    <sw-loader\n        v-if="isLoading"\n        class="sw-cms-layout-assignment-modal__loader"\n    />\n    {% endblock %}\n\n    \n    {% block sw_cms_layout_assignment_modal_info_text_general %}\n    <p\n        v-if="page.type !== \'page\' && page.type !== \'product_detail\'"\n        class="sw-cms-layout-assignment-modal__info-text"\n    >\n        {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.infoText\') }}\n    </p>\n    {% endblock %}\n\n    \n    {% block sw_cms_layout_assignment_modal_info_text_shop_pages %}\n    <p\n        v-if="page.type === \'page\'"\n        class="sw-cms-layout-assignment-modal__info-text"\n    >\n        {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.infoTextShopPages\') }}\n    </p>\n    {% endblock %}\n\n    \n    {% block sw_cms_layout_assignment_modal_info_text_product_detail_pages %}\n    <p\n        v-if="page.type === \'product_detail\'"\n        class="sw-cms-layout-assignment-modal__info-text"\n    >\n        {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.infoTextProductDetailPages\') }}\n    </p>\n    {% endblock %}\n\n    \n    {% block sw_cms_layout_assignment_modal_tabs %}\n    <sw-tabs\n        position-identifier="sw-cms-layout-assignment-modal"\n        class="sw-cms-layout-assignment-modal__tabs"\n        default-item="categories"\n    >\n\n        <template #default="{ active }">\n            \n            {% block sw_cms_layout_assignment_modal_tab_categories %}\n            <sw-tabs-item\n                v-if="page.type === \'page\' || page.type === \'landingpage\'"\n                :active-tab="active"\n                :title="$tc(\'sw-cms.components.cmsLayoutAssignmentModal.tabCategories\')"\n                class="sw-cms-layout-assignment-modal__tab-categories"\n                name="categories"\n            >\n                {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.tabCategories\') }}\n            </sw-tabs-item>\n            {% endblock %}\n\n            \n            {% block sw_cms_layout_assignment_modal_tab_shop_pages %}\n            <sw-tabs-item\n                v-if="page.type === \'page\'"\n                v-tooltip="{\n                    message: $tc(\'sw-privileges.tooltip.warning\'),\n                    showOnDisabledElements: true,\n                    disabled: acl.can(\'system.system_config\')\n                }"\n                :active-tab="active"\n                :title="$tc(\'sw-cms.components.cmsLayoutAssignmentModal.tabShopPages\')"\n                :disabled="!acl.can(\'system.system_config\')"\n                class="sw-cms-layout-assignment-modal__tab-shop-pages"\n                name="shop_pages"\n            >\n                {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.tabShopPages\') }}\n            </sw-tabs-item>\n            {% endblock %}\n\n            \n            {% block sw_cms_layout_assignment_modal_tab_landing_pages %}\n            <sw-tabs-item\n                v-if="page.type === \'landingpage\'"\n                v-tooltip="{\n                    message: $tc(\'sw-privileges.tooltip.warning\'),\n                    showOnDisabledElements: true,\n                    disabled: acl.can(\'system.system_config\')\n                }"\n                :active-tab="active"\n                :title="$tc(\'sw-cms.components.cmsLayoutAssignmentModal.tabLandingPages\')"\n                :disabled="!acl.can(\'system.system_config\')"\n                class="sw-cms-layout-assignment-modal__tab-landing-pages"\n                name="landing_pages"\n            >\n                {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.tabLandingPages\') }}\n            </sw-tabs-item>\n            {% endblock %}\n        </template>\n\n        <template #content="{ active }">\n            \n            {% block sw_cms_layout_assignment_modal_landing_page_select %}\n            <template v-if="active === \'landing_pages\'">\n\n                \n                {% block sw_cms_layout_assignment_modal_landing_page_select_field %}\n                <sw-entity-multi-select\n                    {% if VUE3 %}\n                    v-model:entityCollection="page.landingPages"\n                    {% else %}\n                    v-model="page.landingPages"\n                    {% endif %}\n                    class="sw-cms-layout-assignment-modal__landing-page-select"\n                    :label="$tc(\'global.entities.landing_page\')"\n                    :placeholder="$tc(\'sw-cms.components.cmsLayoutAssignmentModal.placeholderLandingPages\')"\n                    entity-name="landing_page"\n                />\n                {% endblock %}\n            </template>\n            {% endblock %}\n\n            \n            {% block sw_cms_layout_assignment_modal_category_select %}\n            <template v-if="!isProductDetailPage && active === \'categories\'">\n\n                \n                {% block sw_cms_layout_assignment_modal_category_select_field %}\n                <sw-category-tree-field\n                    key="categorySelect"\n                    :categories-collection="page.categories"\n                    :label="$tc(\'sw-cms.components.cmsLayoutAssignmentModal.labelCategories\')"\n                    :placeholder="$tc(\'sw-cms.components.cmsLayoutAssignmentModal.placeholderCategories\')"\n                    class="sw-cms-layout-assignment-modal__category-select"\n                />\n                {% endblock %}\n            </template>\n            {% endblock %}\n\n            \n            {% block sw_cms_layout_assignment_modal_shop_pages_select %}\n            <template v-if="!isProductDetailPage && active === \'shop_pages\'">\n\n                \n                {% block sw_cms_layout_assignment_modal_shop_pages_select_sales_channel_field %}\n                <sw-entity-single-select\n                    {% if VUE3 %}\n                    v-model:value="shopPageSalesChannelId"\n                    {% else %}\n                    v-model="shopPageSalesChannelId"\n                    {% endif %}\n                    class="sw-cms-layout-assignment-modal__sales-channel-select"\n                    entity="sales_channel"\n                    :label="$tc(\'sw-cms.components.cmsLayoutAssignmentModal.labelSalesChannel\')"\n                    :placeholder="$tc(\'sw-cms.components.cmsLayoutAssignmentModal.placeholderSalesChannel\')"\n                    :reset-option="$tc(\'sw-cms.components.cmsLayoutAssignmentModal.resetOptionSalesChannel\')"\n                    :help-text="$tc(\'sw-cms.components.cmsLayoutAssignmentModal.helpTextSalesChannel\')"\n                    show-clearable-button\n                    {% if VUE3 %}\n                    @update:value="onInputSalesChannelSelect"\n                    {% else %}\n                    @change="onInputSalesChannelSelect"\n                    {% endif %}\n                />\n                {% endblock %}\n\n                \n                {% block sw_cms_layout_assignment_modal_shop_pages_select_field %}\n                <sw-inherit-wrapper\n                    {% if VUE3 %}\n                    v-model:value="selectedShopPages[shopPageSalesChannelId]"\n                    {% else %}\n                    v-model="selectedShopPages[shopPageSalesChannelId]"\n                    {% endif %}\n                    :inherited-value="selectedShopPages.null"\n                    :has-parent="shopPageSalesChannelId !== null"\n                    :label="$tc(\'sw-cms.components.cmsLayoutAssignmentModal.labelShopPages\')"\n                >\n                    <template #content="props">\n                        <sw-multi-select\n                            class="sw-cms-layout-assignment-modal__shop-page-select"\n                            :options="shopPages"\n                            :disabled="props.isInherited"\n                            :value="props.currentValue"\n                            :map-inheritance="props"\n                            {% if VUE3 %}\n                            @update:value="props.updateCurrentValue"\n                            {% else %}\n                            @change="props.updateCurrentValue"\n                            {% endif %}\n                        />\n                    </template>\n                </sw-inherit-wrapper>\n                {% endblock %}\n            </template>\n            {% endblock %}\n\n            \n            {% block sw_cms_layout_assignment_modal_product_detail_pages_select %}\n            <template v-if="page.type === \'product_detail\'">\n                \n                {% block sw_entity_many_to_many_assignment_card_select %}\n                <sw-cms-product-assignment\n                    class="sw-cms-layout-assignment-modal__product-select"\n                    :local-mode="true"\n                    :entity-collection="page.products"\n                    :columns="productColumns"\n                    :criteria="productCriteria"\n                    :select-label="$tc(\'sw-cms.components.cmsLayoutAssignmentModal.products.productAssignmentLabel\')"\n                    :placeholder="$tc(\'sw-cms.components.cmsLayoutAssignmentModal.products.productAssignmentPlaceholder\')"\n                >\n\n                    \n                    {% block sw_cms_layout_assignment_modal_product_detail_pages_column_name %}\n                    <template #column-name="{ item, column }">\n                        <router-link\n                            :to="{ name: column.routerLink, params: { id: item.id } }"\n                        >\n                            <sw-product-variant-info\n                                :variations="item.options"\n                                @click.native="onAbort"\n                            >\n                                {{ item.translated.name }}\n                            </sw-product-variant-info>\n                        </router-link>\n                    </template>\n                    {% endblock %}\n\n                    \n                    {% block sw_cms_layout_assignment_modal_product_detail_pages_column_manufacturer %}\n                    <template #column-manufacturer.name="{ item, column }">\n                        <router-link\n                            v-if="item.manufacturerId"\n                            :to="{ name: column.routerLink, params: { id: item.manufacturerId } }"\n                        >\n                            <p\n                                role="button"\n                                tabindex="0"\n                                @click="onAbort"\n                                @keydown.enter="onAbort"\n                            >\n                                {{ item.manufacturer.translated.name }}\n                            </p>\n                        </router-link>\n                        <span v-else></span>\n                    </template>\n\n                    {% endblock %}\n\n                    \n                    {% block sw_cms_layout_assignment_modal_product_detail_pages_empty_state %}\n                    <template #empty-state>\n                        <img\n                            :src="assetFilter(\'/administration/static/img/empty-states/products-empty-state.svg\')"\n                            alt=""\n                        >\n                        <p>{{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.products.productAssignmentEmptyStateDescription\') }}</p>\n                    </template>\n                    {% endblock %}\n                </sw-cms-product-assignment>\n                {% endblock %}\n            </template>\n            {% endblock %}\n\n        </template>\n    </sw-tabs>\n    {% endblock %}\n\n    \n    {% block sw_cms_layout_assignment_modal_confirm_changes %}\n    <sw-modal\n        v-if="showConfirmChangesModal"\n        class="sw-cms-layout-assignment-modal__confirm-changes-modal"\n        size="650px"\n        :title="$tc(\'sw-cms.components.cmsLayoutAssignmentModal.confirmChangesTitle\')"\n        @modal-close="closeConfirmChangesModal"\n    >\n\n        \n        {% block sw_cms_layout_assignment_modal_confirm_changes_text_categories %}\n        <p\n            v-if="hasDeletedCategories"\n            class="sw-cms-layout-assignment-modal__confirm-text-categories"\n        >\n            {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.confirmChangesTextCategories\') }}\n        </p>\n        {% endblock %}\n\n        \n        {% block sw_cms_layout_assignment_modal_confirm_changes_text_assigned_layouts %}\n        <p\n            v-if="hasCategoriesWithAssignedLayouts"\n            class="sw-cms-layout-assignment-modal__confirm-text-assigned-layouts"\n        >\n            {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.confirmChangesTextCategoriesAssignedLayouts\') }}\n        </p>\n        {% endblock %}\n\n        \n        {% block sw_cms_layout_assignment_modal_confirm_changes_text_landing_pages %}\n        <p\n            v-if="hasDeletedLandingPages"\n            class="sw-cms-layout-assignment-modal__confirm-text-landing-pages"\n        >\n            {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.confirmChangesTextLandingPages\') }}\n        </p>\n        {% endblock %}\n\n        \n        {% block sw_cms_layout_assignment_modal_confirm_changes_text_assigned_layouts_landing_pages %}\n        <p\n            v-if="hasLandingPagesWithAssignedLayouts"\n            class="sw-cms-layout-assignment-modal__confirm-text-assigned-layouts"\n        >\n            {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.confirmChangesTextLandingPagesAssignedLayouts\') }}\n        </p>\n        {% endblock %}\n\n        \n        {% block sw_cms_layout_assignment_modal_confirm_changes_text_shop_pages %}\n        <p\n            v-if="hasDeletedShopPages"\n            class="sw-cms-layout-assignment-modal__confirm-text-shop-pages"\n        >\n            {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.confirmChangesTextShopPages\') }}\n        </p>\n        {% endblock %}\n\n        \n        {% block sw_cms_layout_assignment_modal_confirm_changes_text_products %}\n        <p\n            v-if="hasDeletedProducts"\n            class="sw-cms-layout-assignment-modal__confirm-text-products"\n        >\n            {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.confirmChangesTextProducts\') }}\n        </p>\n        {% endblock %}\n\n        \n        {% block sw_cms_layout_assignment_modal_confirm_changes_text_products_assigned_layouts %}\n        <p\n            v-if="hasProductsWithAssignedLayouts"\n            class="sw-cms-layout-assignment-modal__confirm-text-products-assigned-layouts"\n        >\n            {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.confirmChangesTextProductsAssignedLayouts\') }}\n        </p>\n        {% endblock %}\n\n        \n        {% block sw_cms_layout_assignment_modal_confirm_changes_text %}\n        <p><strong>{{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.confirmChangesText\') }}</strong></p>\n        {% endblock %}\n\n        <template #modal-footer>\n            \n            {% block sw_cms_layout_assignment_modal_confirm_changes_keep_editing %}\n            <sw-button\n                class="sw-cms-layout-assignment-modal__action-keep-editing"\n                size="small"\n                @click="onKeepEditing"\n            >\n                {{ $tc(\'global.default.cancel\') }}\n            </sw-button>\n            {% endblock %}\n\n            <div class="sw-cms-layout-assignment-modal__confirm-changes-modal-main-actions">\n                \n                {% block sw_cms_layout_assignment_modal_confirm_changes_discard %}\n                <sw-button\n                    class="sw-cms-layout-assignment-modal__action-changes-discard"\n                    variant="ghost"\n                    size="small"\n                    @click="onDiscardChanges"\n                >\n                    {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.confirmChangesRestorePrev\') }}\n                </sw-button>\n                {% endblock %}\n\n                \n                {% block sw_cms_layout_assignment_modal_confirm_changes_confirm %}\n                <sw-button\n                    class="sw-cms-layout-assignment-modal__action-changes-confirm"\n                    variant="primary"\n                    size="small"\n                    @click="onConfirmChanges"\n                >\n                    {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.confirmChangesConfirm\') }}\n                </sw-button>\n                {% endblock %}\n            </div>\n        </template>\n    </sw-modal>\n    {% endblock %}\n\n    \n    {% block sw_cms_layout_assignment_modal_actions %}\n    <template #modal-footer>\n        \n        {% block sw_cms_layout_assignment_action_abort %}\n        <sw-button\n            :disabled="isLoading"\n            class="sw-cms-layout-assignment-modal__action-cancel"\n            size="small"\n            @click="onAbort"\n        >\n            {{ $tc(\'global.default.cancel\') }}\n        </sw-button>\n        {% endblock %}\n\n        \n        {% block sw_cms_layout_assignment_action_confirm %}\n        <sw-button\n            :disabled="isLoading"\n            class="sw-cms-layout-assignment-modal__action-confirm"\n            size="small"\n            variant="primary"\n            @click="onConfirm"\n        >\n            {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.confirmChanges\') }}\n        </sw-button>\n        {% endblock %}\n    </template>\n    {% endblock %}\n</sw-modal>\n{% endblock %}\n',inject:["systemConfigApiService","acl"],mixins:[Shopware.Mixin.getByName("notification")],props:{page:{type:Object,required:!0}},data:function(){return{shopPageSalesChannelId:null,previousCategories:null,previousLandingPages:null,showConfirmChangesModal:!1,isLoading:!1,systemConfig:null,selectedShopPages:{},previousShopPages:{},confirmedCategories:!1,confirmedShopPages:!1,confirmedProducts:!1,confirmedLandingPages:!1,hasDeletedCategories:!1,hasDeletedShopPages:!1,hasDeletedProducts:!1,hasDeletedLandingPages:!1,hasCategoriesWithAssignedLayouts:!1,hasProductsWithAssignedLayouts:!1,hasLandingPagesWithAssignedLayouts:!1,previousProducts:null}},computed:{systemConfigDomain:function(){return"core.basicInformation"},shopPages:function(){return[{label:this.$tc("sw-cms.components.cmsLayoutAssignmentModal.shopPages.tosPage"),value:"core.basicInformation.tosPage"},{label:this.$tc("sw-cms.components.cmsLayoutAssignmentModal.shopPages.revocationPage"),value:"core.basicInformation.revocationPage"},{label:this.$tc("sw-cms.components.cmsLayoutAssignmentModal.shopPages.shippingPaymentInfoPage"),value:"core.basicInformation.shippingPaymentInfoPage"},{label:this.$tc("sw-cms.components.cmsLayoutAssignmentModal.shopPages.privacyPage"),value:"core.basicInformation.privacyPage"},{label:this.$tc("sw-cms.components.cmsLayoutAssignmentModal.shopPages.imprintPage"),value:"core.basicInformation.imprintPage"},{label:this.$tc("sw-cms.components.cmsLayoutAssignmentModal.shopPages.404Page"),value:"core.basicInformation.404Page"},{label:this.$tc("sw-cms.components.cmsLayoutAssignmentModal.shopPages.maintenancePage"),value:"core.basicInformation.maintenancePage"},{label:this.$tc("sw-cms.components.cmsLayoutAssignmentModal.shopPages.contactPage"),value:"core.basicInformation.contactPage"},{label:this.$tc("sw-cms.components.cmsLayoutAssignmentModal.shopPages.newsletterPage"),value:"core.basicInformation.newsletterPage"}]},productColumns:function(){return[{property:"name",label:this.$tc("sw-cms.components.cmsLayoutAssignmentModal.products.columnNameLabel"),dataIndex:"name",routerLink:"sw.product.detail",sortable:!1},{property:"manufacturer.name",label:this.$tc("sw-cms.components.cmsLayoutAssignmentModal.products.columnManufacturerLabel"),routerLink:"sw.manufacturer.detail",sortable:!1}]},productCriteria:function(){var n=new p(1,5);return n.addAssociation("options.group").addAssociation("manufacturer").addFilter(p.equals("parentId",null)),n},isProductDetailPage:function(){return"product_detail"===this.page.type},assetFilter:function(){return Shopware.Filter.getByName("asset")}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.previousCategories=i()(this.page.categories),this.previousCategoryIds=this.page.categories.getIds(),this.previousLandingPages=i()(this.page.landingPages),this.previousLandingPageIds=this.page.landingPages.getIds(),this.previousProducts=i()(this.page.products),this.previousProductIds=this.page.products.getIds(),this.loadSystemConfig()},onModalClose:function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$emit("modal-close",n)},saveShopPages:function(){var n=this;if("page"!==this.page.type||!this.acl.can("system.system_config"))return Promise.resolve();var s={},e=0;return Object.keys(this.selectedShopPages).forEach((function(e){s[e]={},null!==n.selectedShopPages[e]&&n.selectedShopPages[e].forEach((function(t){s[e][t]=n.page.id}))})),Object.keys(this.previousShopPages).forEach((function(t){null!==n.previousShopPages[t]&&n.previousShopPages[t].forEach((function(n){void 0===s[t][n]&&(s[t][n]=null,e+=1)}))})),!this.confirmedShopPages&&e>0?(this.hasDeletedShopPages=!0,this.openConfirmChangesModal(),Promise.reject()):this.systemConfigApiService.batchSave(s).catch((function(){n.createNotificationError({message:n.$tc("sw-cms.components.cmsLayoutAssignmentModal.shopPagesSaveError")})}))},loadSystemConfig:function(){var n=this;return!("page"!==this.page.type||!this.acl.can("system.system_config"))&&(!this.selectedShopPages.hasOwnProperty(this.shopPageSalesChannelId)&&(this.isLoading=!0,this.systemConfigApiService.getValues(this.systemConfigDomain,this.shopPageSalesChannelId).then((function(s){var e=[];Object.keys(s).forEach((function(t){n.shopPages.find((function(n){return n.value===t}))&&s[t]===n.page.id&&e.push(t)})),e.length>0?n.$set(n.selectedShopPages,n.shopPageSalesChannelId,e):n.$set(n.selectedShopPages,n.shopPageSalesChannelId,null),n.previousShopPages=g(n.selectedShopPages)})).catch((function(){n.createNotificationError({message:n.$tc("sw-cms.components.cmsLayoutAssignmentModal.shopPagesLoadError")})})).finally((function(){n.isLoading=!1}))))},validateCategories:function(){var n=this;if(this.confirmedCategories)return Promise.resolve();var s=this.page.categories.getIds(),e=Object(m.difference)(s,this.previousCategoryIds);return this.previousCategoryIds.length>s.length||this.previousCategoryIds.length===s.length&&e.length?(this.hasDeletedCategories=!0,this.openConfirmChangesModal(),Promise.reject()):this.page.categories.find((function(s){return s.hasOwnProperty("cmsPageId")&&null!==s.cmsPageId&&s.cmsPageId!==n.page.id}))?(this.hasCategoriesWithAssignedLayouts=!0,this.openConfirmChangesModal(),Promise.reject()):Promise.resolve()},validateLandingPages:function(){var n=this;if(this.confirmedLandingPages)return Promise.resolve();var s=this.page.landingPages.getIds(),e=Object(m.difference)(s,this.previousLandingPageIds);return this.previousLandingPageIds.length>s.length||this.previousLandingPageIds.length===s.length&&e.length?(this.hasDeletedLandingPages=!0,this.openConfirmChangesModal(),Promise.reject()):this.page.landingPages.find((function(s){return s.hasOwnProperty("cmsPageId")&&null!==s.cmsPageId&&s.cmsPageId!==n.page.id}))?(this.hasLandingPagesWithAssignedLayouts=!0,this.openConfirmChangesModal(),Promise.reject()):Promise.resolve()},validateProducts:function(){var n=this;if(this.confirmedProducts)return Promise.resolve();var s=this.page.products.getIds(),e=Object(m.difference)(s,this.previousProductIds);return this.previousProductIds.length>s.length||this.previousProductIds.length===s.length&&e.length?(this.hasDeletedProducts=!0,this.openConfirmChangesModal(),Promise.reject()):this.page.products.find((function(s){return s.hasOwnProperty("cmsPageId")&&null!==s.cmsPageId&&s.cmsPageId!==n.page.id}))?(this.hasProductsWithAssignedLayouts=!0,this.openConfirmChangesModal(),Promise.reject()):Promise.resolve()},onConfirm:function(){var n=this;this.isLoading=!0,Promise.all([this.validateCategories(),this.saveShopPages(),this.validateProducts(),this.validateLandingPages()]).then((function(){n.onModalClose(!0)})).catch((function(){n.isLoading=!1}))},openConfirmChangesModal:function(){this.showConfirmChangesModal=!0},closeConfirmChangesModal:function(){this.showConfirmChangesModal=!1},onDiscardChanges:function(){var n=this;return a()(l.a.mark((function s(){return l.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n.discardCategoryChanges(),n.discardShopPageChanges(),n.discardProductChanges(),n.discardLandingPageChanges(),n.closeConfirmChangesModal(),s.next=7,n.$nextTick();case 7:n.onModalClose();case 8:case"end":return s.stop()}}),s)})))()},discardCategoryChanges:function(){this.page.categories=new d(this.page.categories.source,this.page.categories.entity,Shopware.Context.api,null,this.previousCategories)},discardLandingPageChanges:function(){this.page.landingPages=new d(this.page.landingPages.source,this.page.landingPages.entity,Shopware.Context.api,null,this.previousLandingPages)},discardShopPageChanges:function(){"page"===this.page.type&&(this.selectedShopPages=this.previousShopPages)},discardProductChanges:function(){this.page.products=new d(this.page.products.source,this.page.products.entity,Shopware.Context.api,null,this.previousProducts)},onAbort:function(){this.discardCategoryChanges(),this.discardShopPageChanges(),this.discardProductChanges(),this.discardLandingPageChanges(),this.onModalClose()},onKeepEditing:function(){this.closeConfirmChangesModal()},onConfirmChanges:function(){var n=this;return a()(l.a.mark((function s(){return l.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n.closeConfirmChangesModal(),n.confirmedCategories=!0,n.confirmedLandingPages=!0,n.confirmedShopPages=!0,n.confirmedProducts=!0,s.next=7,n.$nextTick();case 7:n.onConfirm();case 8:case"end":return s.stop()}}),s)})))()},onInputSalesChannelSelect:function(){this.loadSystemConfig()}}}}}]);
//# sourceMappingURL=1627765e2289d9c51207.js.map