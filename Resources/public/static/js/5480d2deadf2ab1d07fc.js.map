{"version":3,"sources":["webpack:///./src/module/sw-import-export/component/sw-import-export-activity-result-modal/index.js","webpack:///./src/module/sw-import-export/component/sw-import-export-activity-result-modal/sw-import-export-activity-result-modal.html.twig","webpack:///./src/module/sw-import-export/component/sw-import-export-activity-result-modal/sw-import-export-activity-result-modal.scss"],"names":["format","Shopware","Utils","template","inject","props","logEntity","type","Object","required","default","computed","mainEntity","this","profile","sourceEntity","mainEntityResult","result","_this","keys","reduce","items","entityName","push","_objectSpread","logTypeText","$tc","concat","activity","dateFilter","Filter","getByName","methods","calculateFileSize","size","fileSize","openDownload","id","_this2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","t0","window","importExport","getDownloadUrl","t1","sent","abrupt","open","call","stop","getStateLabel","state","translationKey","$te","content","__esModule","module","i","locals","exports","add"],"mappings":"uaAMA,IAAQA,EAAWC,SAASC,MAApBF,OAGO,WACXG,SCVW,gxbDYXC,OAAQ,CAAC,gBAETC,MAAO,CACHC,UAAW,CACPC,KAAMC,OACNC,UAAU,EACVC,QAAO,WACH,MAAO,MAKnBC,SAAU,CACNC,WAAU,WACN,OAAOC,KAAKP,UAAUQ,QAAQC,cAGlCC,iBAAgB,WACZ,OAAOH,KAAKP,UAAUW,OAAOJ,KAAKD,aAGtCK,OAAM,WAAI,IAADC,EAAA,KACL,OAAOV,OAAOW,KAAKN,KAAKP,UAAUW,QAAQG,QAAO,SAACC,EAAOC,GAQrD,OAPIA,IAAeJ,EAAKN,YACpBS,EAAME,K,iWAAIC,CAAC,CACPF,cACGJ,EAAKZ,UAAUW,OAAOK,KAI1BD,IACR,KAGPI,YAAW,WACP,OAAOZ,KAAKa,IAAI,oCAADC,OAAqCd,KAAKP,UAAUsB,SAAQ,WAG/EC,WAAU,WACN,OAAO5B,SAAS6B,OAAOC,UAAU,UAIzCC,QAAS,CACLC,kBAAiB,SAACC,GACd,OAAOlC,EAAOmC,SAASD,IAGrBE,aAAY,SAACC,GAAK,IAADC,EAAA,YAAAC,IAAAC,IAAAC,MAAA,SAAAC,IAAA,OAAAF,IAAAG,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACN,OADMF,EAAAG,GACZC,OAAMJ,EAAAE,KAAA,EAAYR,EAAKW,aAAaC,eAAeb,GAAG,cAAAO,EAAAO,GAAAP,EAAAQ,KAAAR,EAAAS,OAAA,SAAAT,EAAAG,GAA/CO,KAAIC,KAAAX,EAAAG,GAAAH,EAAAO,GAA6C,WAAQ,wBAAAP,EAAAY,UAAAd,MADpDH,IAIvBkB,cAAa,SAACC,GACV,IAAMC,EAAc,oCAAAhC,OAAuC+B,GAE3D,OAAO7C,KAAK+C,IAAID,GAAkB9C,KAAKa,IAAIiC,GAAkBD,M,4CEhEzE,IAAIG,EAAU,EAAQ,QACnBA,EAAQC,aAAYD,EAAUA,EAAQnD,SACnB,iBAAZmD,IAAsBA,EAAU,CAAC,CAACE,EAAOC,EAAIH,EAAS,MAC7DA,EAAQI,SAAQF,EAAOG,QAAUL,EAAQI,SAG/BE,EADH,EAAQ,QAAwEzD,SACzE,WAAYmD,GAAS,EAAM","file":"static/js/5480d2deadf2ab1d07fc.js","sourcesContent":["/**\n * @package services-settings\n */\nimport template from './sw-import-export-activity-result-modal.html.twig';\nimport './sw-import-export-activity-result-modal.scss';\n\nconst { format } = Shopware.Utils;\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    inject: ['importExport'],\n\n    props: {\n        logEntity: {\n            type: Object,\n            required: false,\n            default() {\n                return {};\n            },\n        },\n    },\n\n    computed: {\n        mainEntity() {\n            return this.logEntity.profile.sourceEntity;\n        },\n\n        mainEntityResult() {\n            return this.logEntity.result[this.mainEntity];\n        },\n\n        result() {\n            return Object.keys(this.logEntity.result).reduce((items, entityName) => {\n                if (entityName !== this.mainEntity) {\n                    items.push({\n                        entityName,\n                        ...this.logEntity.result[entityName],\n                    });\n                }\n\n                return items;\n            }, []);\n        },\n\n        logTypeText() {\n            return this.$tc(`sw-import-export.activity.detail.${this.logEntity.activity}Label`);\n        },\n\n        dateFilter() {\n            return Shopware.Filter.getByName('date');\n        },\n    },\n\n    methods: {\n        calculateFileSize(size) {\n            return format.fileSize(size);\n        },\n\n        async openDownload(id) {\n            return window.open(await this.importExport.getDownloadUrl(id), '_blank');\n        },\n\n        getStateLabel(state) {\n            const translationKey = `sw-import-export.activity.status.${state}`;\n\n            return this.$te(translationKey) ? this.$tc(translationKey) : state;\n        },\n    },\n};\n","export default \"\\n{% block sw_import_export_activity_result_modal %}\\n<sw-modal\\n    class=\\\"sw-import-export-activity-result-modal\\\"\\n    :title=\\\"$tc('sw-import-export.activity.result.modalTitle')\\\"\\n    variant=\\\"large\\\"\\n    @modal-close=\\\"$emit('result-close')\\\"\\n>\\n    \\n    {% block sw_import_export_activity_result_modal_info %}\\n    <div class=\\\"sw-import-export-activity-result-modal__info\\\">\\n        \\n        {% block sw_import_export_activity_result_modal_info_mainEntity %}\\n        <sw-card\\n            class=\\\"sw-import-export-activity-result-modal__main-activity\\\"\\n            position-identifier=\\\"sw-import-export-activity-result-modal-main-activity\\\"\\n            :title=\\\"$tc('sw-import-export.activity.result.mainEntity.title', 0, { entity: mainEntity })\\\"\\n        >\\n            \\n            {% block sw_import_export_activity_result_modal_info_mainEntity_list %}\\n            <dl class=\\\"sw-import-export-activity-result-modal__main-activity-content\\\">\\n                \\n                {% block sw_import_export_activity_result_modal_info_mainEntity_list_insert %}\\n                <div class=\\\"sw-import-export-activity-result-modal__list-item sw-import-export-activity-result-modal__main-activity-insert\\\">\\n                    <dt>{{ $tc('sw-import-export.activity.result.mainEntity.insert') }}</dt>\\n                    <dd>{{ mainEntityResult.insert }}</dd>\\n                </div>\\n                {% endblock %}\\n                \\n                {% block sw_import_export_activity_result_modal_info_mainEntity_list_update %}\\n                <div class=\\\"sw-import-export-activity-result-modal__list-item sw-import-export-activity-result-modal__main-activity-update\\\">\\n                    <dt>{{ $tc('sw-import-export.activity.result.mainEntity.update') }}</dt>\\n                    <dd>{{ mainEntityResult.update }}</dd>\\n                </div>\\n                {% endblock %}\\n                \\n                {% block sw_import_export_activity_result_modal_info_mainEntity_list_insert_error %}\\n                <div class=\\\"sw-import-export-activity-result-modal__list-item sw-import-export-activity-result-modal__main-activity-insert-error\\\">\\n                    <dt>{{ $tc('sw-import-export.activity.result.mainEntity.insertError') }}</dt>\\n                    <dd>{{ mainEntityResult.insertError }}</dd>\\n                </div>\\n                {% endblock %}\\n                \\n                {% block sw_import_export_activity_result_modal_info_mainEntity_list_update_error %}\\n                <div class=\\\"sw-import-export-activity-result-modal__list-item sw-import-export-activity-result-modal__main-activity-update-error\\\">\\n                    <dt>{{ $tc('sw-import-export.activity.result.mainEntity.updateError') }}</dt>\\n                    <dd>{{ mainEntityResult.updateError }}</dd>\\n                </div>\\n                {% endblock %}\\n                \\n                {% block sw_import_export_activity_result_modal_info_mainEntity_list_insert_skip %}\\n                <div class=\\\"sw-import-export-activity-result-modal__list-item sw-import-export-activity-result-modal__main-activity-insert-skip\\\">\\n                    <dt>{{ $tc('sw-import-export.activity.result.mainEntity.insertSkip') }}</dt>\\n                    <dd>{{ mainEntityResult.insertSkip }}</dd>\\n                </div>\\n                {% endblock %}\\n                \\n                {% block sw_import_export_activity_result_modal_info_mainEntity_list_update_skip %}\\n                <div class=\\\"sw-import-export-activity-result-modal__list-item sw-import-export-activity-result-modal__main-activity-update-skip\\\">\\n                    <dt>{{ $tc('sw-import-export.activity.result.mainEntity.updateSkip') }}</dt>\\n                    <dd>{{ mainEntityResult.updateSkip }}</dd>\\n                </div>\\n                {% endblock %}\\n                \\n                {% block sw_import_export_activity_result_modal_info_mainEntity_list_other_error %}\\n                <div class=\\\"sw-import-export-activity-result-modal__list-item sw-import-export-activity-result-modal__main-activity-other-error\\\">\\n                    <dt>{{ $tc('sw-import-export.activity.result.mainEntity.otherError') }}</dt>\\n                    <dd>{{ mainEntityResult.otherError }}</dd>\\n                </div>\\n                {% endblock %}\\n            </dl>\\n            {% endblock %}\\n        </sw-card>\\n        {% endblock %}\\n\\n        \\n        {% block sw_import_export_activity_result_modal_info_log %}\\n        <sw-card\\n            class=\\\"sw-import-export-activity-result-modal__log-info\\\"\\n            position-identifier=\\\"sw-import-export-activity-result-modal-log-info\\\"\\n            :title=\\\"$tc('sw-import-export.activity.result.logInfo.title')\\\"\\n        >\\n            \\n            {% block sw_import_export_activity_result_modal_info_log_list %}\\n            <dl class=\\\"sw-import-export-activity-result-modal__log-info-content\\\">\\n                \\n                {% block sw_import_export_activity_result_modal_info_log_list_file_name %}\\n                <div class=\\\"sw-import-export-activity-result-modal__list-item sw-import-export-activity-result-modal__log-info-file-name\\\">\\n                    <dt>{{ $tc('sw-import-export.activity.result.logInfo.labelFilename') }}</dt>\\n                    <dd>{{ logEntity.file.originalName }}</dd>\\n                </div>\\n                {% endblock %}\\n                \\n                {% block sw_import_export_activity_result_modal_info_log_list_profile %}\\n                <div class=\\\"sw-import-export-activity-result-modal__list-item sw-import-export-activity-result-modal__log-info-profile\\\">\\n                    <dt>{{ $tc('sw-import-export.activity.result.logInfo.labelProfile') }}</dt>\\n                    <dd>{{ logEntity.profile.label }}</dd>\\n                </div>\\n                {% endblock %}\\n                \\n                {% block sw_import_export_activity_result_modal_info_log_list_imported %}\\n                <div class=\\\"sw-import-export-activity-result-modal__list-item sw-import-export-activity-result-modal__log-info-imported\\\">\\n                    <dt>{{ $tc('sw-import-export.activity.result.logInfo.labelImported') }}</dt>\\n                    <dd>{{ logEntity.records }}</dd>\\n                </div>\\n                {% endblock %}\\n                \\n                {% block sw_import_export_activity_result_modal_info_log_list_file_size %}\\n                <div class=\\\"sw-import-export-activity-result-modal__list-item sw-import-export-activity-result-modal__log-info-file-size\\\">\\n                    <dt>{{ $tc('sw-import-export.activity.result.logInfo.labelSize') }}</dt>\\n                    <dd>{{ calculateFileSize(logEntity.file.size) }}</dd>\\n                </div>\\n                {% endblock %}\\n                \\n                {% block sw_import_export_activity_result_modal_info_log_list_date %}\\n                <div class=\\\"sw-import-export-activity-result-modal__list-item sw-import-export-activity-result-modal__log-info-date\\\">\\n                    <dt>{{ $tc('sw-import-export.activity.result.logInfo.labelDate') }}</dt>\\n                    <dd>{{ dateFilter(logEntity.createdAt, { hour: '2-digit', minute: '2-digit' }) }}</dd>\\n                </div>\\n                {% endblock %}\\n                \\n                {% block sw_import_export_activity_result_modal_info_log_user %}\\n                <div class=\\\"sw-import-export-activity-result-modal__list-item sw-import-export-activity-result-modal__log-info-user\\\">\\n                    <dt>{{ $tc('sw-import-export.activity.result.logInfo.labelUser') }}</dt>\\n                    <dd>{{ logEntity.username }}</dd>\\n                </div>\\n                {% endblock %}\\n                \\n                {% block sw_import_export_activity_result_modal_info_log_list_state %}\\n                <div class=\\\"sw-import-export-activity-result-modal__list-item sw-import-export-activity-result-modal__log-info-state\\\">\\n                    <dt>{{ $tc('sw-import-export.activity.result.logInfo.labelState') }}</dt>\\n                    <dd>\\n                        <sw-color-badge\\n                            v-if=\\\"logEntity.state === 'failed'\\\"\\n                            class=\\\"sw-import-export-activity-result-modal__color-badge\\\"\\n                            variant=\\\"error\\\"\\n                            rounded\\n                        />\\n                        <sw-color-badge\\n                            v-else-if=\\\"logEntity.state === 'succeeded'\\\"\\n                            class=\\\"sw-import-export-activity-result-modal__color-badge\\\"\\n                            variant=\\\"success\\\"\\n                            rounded\\n                        />\\n                        <sw-color-badge\\n                            v-else\\n                            class=\\\"sw-import-export-activity-result-modal__color-badge\\\"\\n                            rounded\\n                        />\\n                        {{ getStateLabel(logEntity.state) }}\\n                    </dd>\\n                </div>\\n                {% endblock %}\\n                \\n                {% block sw_import_export_activity_result_modal_info_log_list_type %}\\n                <div class=\\\"sw-import-export-activity-result-modal__list-item sw-import-export-activity-result-modal__log-info-type\\\">\\n                    <dt>{{ $tc('sw-import-export.activity.result.logInfo.labelType') }}</dt>\\n                    <dd>{{ logTypeText }}</dd>\\n                </div>\\n                {% endblock %}\\n            </dl>\\n            {% endblock %}\\n        </sw-card>\\n        {% endblock %}\\n    </div>\\n    {% endblock %}\\n\\n    \\n    {% block sw_import_export_activity_result_modal_download %}\\n    <div class=\\\"sw-import-export-activity-result-modal__download-section\\\">\\n        \\n        {% block sw_import_export_activity_result_modal_download_records_button %}\\n        <sw-button\\n            class=\\\"sw-import-export-activity-result-modal__download-button\\\"\\n            size=\\\"small\\\"\\n            @click=\\\"openDownload(logEntity.file.id)\\\"\\n        >\\n            {{ $tc('sw-import-export.activity.result.labelDownloadFile') }}\\n        </sw-button>\\n        {% endblock %}\\n\\n        \\n        {% block sw_import_export_activity_result_modal_download_invalid_records_button %}\\n        <sw-button\\n            v-if=\\\"logEntity.invalidRecordsLog\\\"\\n            class=\\\"sw-import-export-activity-result-modal__download-failed\\\"\\n            size=\\\"small\\\"\\n            @click=\\\"openDownload(logEntity.invalidRecordsLog.file.id)\\\"\\n        >\\n            {{ $tc('sw-import-export.activity.result.labelDownloadInvalidFile') }}\\n        </sw-button>\\n        {% endblock %}\\n    </div>\\n    {% endblock %}\\n\\n    \\n    {% block sw_import_export_activity_result_modal_activity %}\\n    <div class=\\\"sw-import-export-activity-result-modal__acitvity\\\">\\n\\n        \\n        {% block sw_import_export_activity_result_modal_activity_headline %}\\n        <h3 class=\\\"sw-import-export-activity-result-modal__acitvity-headline\\\">\\n            {{ $tc('sw-import-export.activity.result.activityHeadline') }}\\n        </h3>\\n        {% endblock %}\\n\\n        \\n        {% block sw_import_export_activity_result_modal_activity_description %}\\n        <p class=\\\"sw-import-export-activity-result-modal__acitvity-description\\\">\\n            {{ $tc('sw-import-export.activity.result.activityDescription', 0, { entity: mainEntity }) }}\\n        </p>\\n        {% endblock %}\\n\\n        \\n        {% block sw_import_export_activity_result_modal_activity_table %}\\n        <sw-grid\\n            table\\n            :items=\\\"result\\\"\\n            :selectable=\\\"false\\\"\\n        >\\n            \\n            {% block sw_import_export_activity_result_modal_activity_table_columns %}\\n            <template #columns=\\\"{ item }\\\">\\n                \\n                {% block sw_import_export_activity_result_modal_activity_table_columns_label %}\\n                <sw-grid-column\\n                    flex=\\\"minmax(100px, 2fr)\\\"\\n                    :label=\\\"$tc('sw-import-export.activity.result.entityName')\\\"\\n                    :class=\\\"`sw-import-export-activity-result-modal__column-${item.entityName}-label`\\\"\\n                >\\n                    {{ item.entityName }}\\n                </sw-grid-column>\\n                {% endblock %}\\n                \\n                {% block sw_import_export_activity_result_modal_activity_table_columns_changes %}\\n                <sw-grid-column\\n                    flex=\\\"minmax(50px, 1fr)\\\"\\n                    :label=\\\"$tc('sw-import-export.activity.result.changes')\\\"\\n                    :class=\\\"`sw-import-export-activity-result-modal__column-${item.entityName}-changes`\\\"\\n                >\\n                    {{ item.insert + item.update }}\\n                </sw-grid-column>\\n                {% endblock %}\\n                \\n                {% block sw_import_export_activity_result_modal_activity_table_columns_errors %}\\n                <sw-grid-column\\n                    flex=\\\"minmax(50px, 1fr)\\\"\\n                    :label=\\\"$tc('sw-import-export.activity.result.errors')\\\"\\n                    :class=\\\"`sw-import-export-activity-result-modal__column-${item.entityName}-errors`\\\"\\n                >\\n                    {{ item.insertError + item.updateError }}\\n                </sw-grid-column>\\n                {% endblock %}\\n                \\n                {% block sw_import_export_activity_result_modal_activity_table_columns_skipped %}\\n                <sw-grid-column\\n                    flex=\\\"minmax(50px, 1fr)\\\"\\n                    :label=\\\"$tc('sw-import-export.activity.result.skipped')\\\"\\n                    :class=\\\"`sw-import-export-activity-result-modal__column-${item.entityName}-skipped`\\\"\\n                >\\n                    {{ item.insertSkip + item.updateSkip }}\\n                </sw-grid-column>\\n                {% endblock %}\\n            </template>\\n            {% endblock %}\\n        </sw-grid>\\n        {% endblock %}\\n    </div>\\n    {% endblock %}\\n</sw-modal>\\n{% endblock %}\\n\";","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--15-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--15-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--15-3!./sw-import-export-activity-result-modal.scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"b7981180\", content, true, {});"],"sourceRoot":""}