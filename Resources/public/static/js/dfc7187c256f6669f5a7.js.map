{"version":3,"sources":["webpack:///./src/module/sw-order/component/sw-order-promotion-tag-field/sw-order-promotion-tag-field.scss","webpack:///./src/module/sw-order/component/sw-order-promotion-tag-field/index.js","webpack:///./src/module/sw-order/component/sw-order-promotion-tag-field/sw-order-promotion-tag-field.html.twig"],"names":["content","__esModule","default","module","i","locals","exports","add","format","Shopware","Utils","template","props","currency","type","Object","required","disabled","Boolean","computed","taggedFieldListClasses","this","methods","performAddTag","event","_this","noTriggerKey","newTagName","value","find","item","code","newTagItem","feature","isActive","$emit","concat","_toConsumableArray","dismissTag","setFocus","hasFocus","$refs","taggedFieldInput","focus","getPromotionCodeDescription","discountId","discountScope","discountType","groupId","discountValue","Number","shortName","$tc"],"mappings":"+HAGA,IAAIA,EAAU,EAAQ,QACnBA,EAAQC,aAAYD,EAAUA,EAAQE,SACnB,iBAAZF,IAAsBA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAC7DA,EAAQK,SAAQF,EAAOG,QAAUN,EAAQK,SAG/BE,EADH,EAAQ,QAAwEL,SACzE,WAAYF,GAAS,EAAM,K,kECDpCQ,G,UADUC,SAAVC,MACAF,QAGO,WACXG,SCZW,29FDcXC,MAAO,CACHC,SAAU,CACNC,KAAMC,OACNC,UAAU,GAGdC,SAAU,CACNH,KAAMI,QACNF,UAAU,EACVd,SAAS,IAIjBiB,SAAU,CACNC,uBAAsB,WAClB,MAAO,CACH,sCAAuCC,KAAKJ,YAKxDK,QAAS,CACLC,cAAa,SAACC,GAAQ,IAADC,EAAA,KACjB,IAAIJ,KAAKJ,WAAYI,KAAKK,aAAaF,KAIR,iBAApBH,KAAKM,YAA+C,KAApBN,KAAKM,aAIpCN,KAAKO,MAAMC,MAAK,SAAAC,GAAI,OAAIA,EAAKC,OAASN,EAAKE,eAEvD,CAIA,IAAMK,EAAa,CACfD,KAAMV,KAAKM,YAGXN,KAAKY,QAAQC,SAAS,QACtBb,KAAKc,MAAM,eAAe,GAADC,OAAAC,IAAMhB,KAAKO,OAAK,CAAEI,KAE3CX,KAAKc,MAAM,SAAS,GAADC,OAAAC,IAAMhB,KAAKO,OAAK,CAAEI,KAGzCX,KAAKM,WAAa,KAGtBW,WAAU,SAACR,GACPT,KAAKc,MAAM,iBAAkBL,IAGjCS,SAAQ,SAACC,GACDnB,KAAKJ,WAITI,KAAKmB,SAAWA,EACZA,GACAnB,KAAKoB,MAAMC,iBAAiBC,UAIpCC,4BAA2B,SAACd,GACxB,IAAKA,EAAKe,WAAY,OAAOf,EAAKC,KAElC,IAAQH,EAAgDE,EAAhDF,MAAOkB,EAAyChB,EAAzCgB,cAAeC,EAA0BjB,EAA1BiB,aAAcC,EAAYlB,EAAZkB,QAEtCC,EAAiC,eAAjBF,EAChBnB,EACApB,EAAOK,SAASqC,OAAOtB,GAAQP,KAAKR,SAASsC,WAEnD,OAAO9B,KAAK+B,IAAI,gDAADhB,OACqCU,EAAa,KAAAV,OAAIW,GACjE,EACA,CAAEnB,MAAOqB,EAAeD","file":"static/js/dfc7187c256f6669f5a7.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--15-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--15-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--15-3!./sw-order-promotion-tag-field.scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"5c0e3f3c\", content, true, {});","import './sw-order-promotion-tag-field.scss';\nimport template from './sw-order-promotion-tag-field.html.twig';\n\n/**\n * @package checkout\n */\n\nconst { Utils } = Shopware;\nconst { format } = Utils;\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    props: {\n        currency: {\n            type: Object,\n            required: true,\n        },\n\n        disabled: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n    },\n\n    computed: {\n        taggedFieldListClasses() {\n            return {\n                'sw-tagged-field__tag-list--disabled': this.disabled,\n            };\n        },\n    },\n\n    methods: {\n        performAddTag(event) {\n            if (this.disabled || this.noTriggerKey(event)) {\n                return;\n            }\n\n            if (typeof this.newTagName !== 'string' || this.newTagName === '') {\n                return;\n            }\n\n            const tag = this.value.find(item => item.code === this.newTagName);\n\n            if (tag) {\n                return;\n            }\n\n            const newTagItem = {\n                code: this.newTagName,\n            };\n\n            if (this.feature.isActive('VUE3')) {\n                this.$emit('update:value', [...this.value, newTagItem]);\n            } else {\n                this.$emit('change', [...this.value, newTagItem]);\n            }\n\n            this.newTagName = '';\n        },\n\n        dismissTag(item) {\n            this.$emit('on-remove-code', item);\n        },\n\n        setFocus(hasFocus) {\n            if (this.disabled) {\n                return;\n            }\n\n            this.hasFocus = hasFocus;\n            if (hasFocus) {\n                this.$refs.taggedFieldInput.focus();\n            }\n        },\n\n        getPromotionCodeDescription(item) {\n            if (!item.discountId) return item.code;\n\n            const { value, discountScope, discountType, groupId } = item;\n\n            const discountValue = discountType === 'percentage'\n                ? value\n                : format.currency(Number(value), this.currency.shortName);\n\n            return this.$tc(\n                `sw-order.createBase.textPromotionDescription.${discountScope}.${discountType}`,\n                0,\n                { value: discountValue, groupId },\n            );\n        },\n    },\n};\n","export default \"\\n{% block sw_tagged_field %}\\n\\n{% block sw_order_promotion_tag_field %}\\n<sw-block-field\\n    class=\\\"sw-tagged-field sw-order-promotion-tag-field\\\"\\n    :class=\\\"taggedFieldClasses\\\"\\n    v-bind=\\\"$attrs\\\"\\n    :disabled=\\\"disabled\\\"\\n    v-on=\\\"$listeners\\\"\\n>\\n    <template #sw-field-input=\\\"{ identification, error, disabled, size, setFocusClass, removeFocusClass }\\\">\\n\\n        \\n        {% block sw_tagged_field_inner %}\\n        <ul\\n            class=\\\"sw-tagged-field__tag-list\\\"\\n            :class=\\\"taggedFieldListClasses\\\"\\n            role=\\\"listbox\\\"\\n            tabindex=\\\"0\\\"\\n            @click=\\\"setFocus(true)\\\"\\n            @keydown.enter=\\\"setFocus(true)\\\"\\n        >\\n\\n            \\n            {% block sw_order_promotion_tag_field_tag_list %}\\n            <li\\n                v-for=\\\"(item, index) in value\\\"\\n                :key=\\\"`sw-tagged-field-value--${index}`\\\"\\n            >\\n\\n                \\n                {% block sw_order_promotion_tag_field_tag_item %}\\n                <sw-label\\n                    v-if=\\\"item.isInvalid\\\"\\n                    {% if VUE2 %}\\n                    :key=\\\"item.code + item.isInvalid\\\"\\n                    {% endif %}\\n                    :size=\\\"size\\\"\\n                    :dismissable=\\\"!disabled\\\"\\n                    variant=\\\"danger\\\"\\n                    @selected=\\\"setFocus(true)\\\"\\n                    @dismiss=\\\"dismissTag(item)\\\"\\n                >\\n                    {{ item.code }}\\n                </sw-label>\\n\\n                <sw-label\\n                    v-else\\n                    {% if VUE2 %}\\n                    :key=\\\"item.code + item.isInvalid\\\"\\n                    {% endif %}\\n                    v-tooltip=\\\"{\\n                        message: getPromotionCodeDescription(item),\\n                        width: 220\\n                    }\\\"\\n                    :size=\\\"size\\\"\\n                    :dismissable=\\\"!disabled\\\"\\n                    @selected=\\\"setFocus(true)\\\"\\n                    @dismiss=\\\"dismissTag(item)\\\"\\n                >\\n                    {{ item.code }}\\n                </sw-label>\\n                {% endblock %}\\n            </li>\\n            {% endblock %}\\n\\n            \\n            {% block sw_order_promotion_tag_field_item_input %}\\n            <li>\\n                \\n                {% block sw_order_promotion_tag_field_input %}\\n                \\n                <input\\n                    ref=\\\"taggedFieldInput\\\"\\n                    v-model=\\\"newTagName\\\"\\n                    type=\\\"text\\\"\\n                    class=\\\"sw-tagged-field__input\\\"\\n                    :class=\\\"taggedFieldInputClasses\\\"\\n                    :disabled=\\\"disabled\\\"\\n                    :placeholder=\\\"placeholder\\\"\\n                    @focus=\\\"setFocus(true)\\\"\\n                    @blur=\\\"setFocus(false)\\\"\\n                    @keydown=\\\"performAddTag\\\"\\n                >\\n                {% endblock %}\\n            </li>\\n            {% endblock %}\\n        </ul>\\n        {% endblock %}\\n    </template>\\n</sw-block-field>\\n{% endblock %}\\n{% endblock %}\\n\";"],"sourceRoot":""}