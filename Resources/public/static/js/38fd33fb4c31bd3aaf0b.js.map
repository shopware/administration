{"version":3,"sources":["webpack:///./src/module/sw-first-run-wizard/component/sw-first-run-wizard-modal/index.js","webpack:///./src/module/sw-first-run-wizard/component/sw-first-run-wizard-modal/sw-first-run-wizard-modal.html.twig","webpack:///./src/module/sw-first-run-wizard/component/sw-first-run-wizard-modal/sw-first-run-wizard-modal.scss"],"names":["template","inject","data","title","buttonConfig","showLoader","wasNewExtensionActivated","stepVariant","currentStep","name","variant","navigationIndex","stepper","welcome","defaults","plugins","store","finish","metaInfo","this","computed","columns","showSteps","buttons","right","filter","button","position","left","stepIndex","stepInitialItemVariants","maxIndex","Object","values","reduce","accumulator","step","Math","max","currentSteps","Array","fill","every","index","splice","isClosable","Shopware","Context","app","firstRunWizard","watch","to","toName","replace","mounted","$route","created","createdComponent","methods","firstRunWizardService","setFRWStart","updateButtons","onButtonClick","action","call","redirect","routeName","$router","push","setTitle","finishFRW","setFRWFinish","then","document","location","href","origin","pathname","onExtensionActivated","closeModal","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","abrupt","$nextTick","window","reload","stop","content","__esModule","default","module","i","locals","exports","add"],"mappings":"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","file":"static/js/38fd33fb4c31bd3aaf0b.js","sourcesContent":["import template from './sw-first-run-wizard-modal.html.twig';\nimport './sw-first-run-wizard-modal.scss';\n\n/**\n * @package services-settings\n * @deprecated tag:v6.6.0 - Will be private\n */\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    inject: ['firstRunWizardService'],\n\n    data() {\n        return {\n            title: 'No title defined',\n            buttonConfig: [],\n            showLoader: false,\n            wasNewExtensionActivated: false,\n            stepVariant: 'info',\n            currentStep: {\n                name: '',\n                variant: 'large',\n                navigationIndex: 0,\n            },\n            stepper: {\n                welcome: {\n                    name: 'sw.first.run.wizard.index.welcome',\n                    variant: 'large',\n                    navigationIndex: 0,\n                },\n                'data-import': {\n                    name: 'sw.first.run.wizard.index.data-import',\n                    variant: 'large',\n                    navigationIndex: 1,\n                },\n                defaults: {\n                    name: 'sw.first.run.wizard.index.defaults',\n                    variant: 'large',\n                    navigationIndex: 2,\n                },\n                'mailer.selection': {\n                    name: 'sw.first.run.wizard.index.mailer.selection',\n                    variant: 'large',\n                    navigationIndex: 3,\n                },\n                'mailer.smtp': {\n                    name: 'sw.first.run.wizard.index.mailer.setup',\n                    variant: 'large',\n                    navigationIndex: 3,\n                },\n                'paypal.info': {\n                    name: 'sw.first.run.wizard.index.paypal.info',\n                    variant: 'large',\n                    navigationIndex: 4,\n                },\n                'paypal.credentials': {\n                    name: 'sw.first.run.wizard.index.paypal.credentials',\n                    variant: 'large',\n                    navigationIndex: 4,\n                },\n                plugins: {\n                    name: 'sw.first.run.wizard.index.plugins',\n                    variant: 'large',\n                    navigationIndex: 5,\n                },\n                'shopware.account': {\n                    name: 'sw.first.run.wizard.index.shopware.account',\n                    variant: 'large',\n                    navigationIndex: 6,\n                },\n                'shopware.domain': {\n                    name: 'sw.first.run.wizard.index.shopware.domain',\n                    variant: 'large',\n                    navigationIndex: 6,\n                },\n                store: {\n                    name: 'sw.first.run.wizard.index.store',\n                    variant: 'large',\n                    navigationIndex: 7,\n                },\n                finish: {\n                    name: 'sw.first.run.wizard.index.finish',\n                    variant: 'large',\n                    navigationIndex: 8,\n                },\n            },\n        };\n    },\n\n    metaInfo() {\n        return {\n            title: this.title,\n        };\n    },\n\n    computed: {\n        columns() {\n            const res = this.showSteps\n                ? '1fr 4fr'\n                : '1fr';\n\n            return res;\n        },\n\n        variant() {\n            const { variant } = this.currentStep;\n\n            return variant;\n        },\n\n        showSteps() {\n            const { navigationIndex } = this.currentStep;\n\n            return navigationIndex !== 0;\n        },\n\n        buttons() {\n            return {\n                right: this.buttonConfig.filter((button) => button.position === 'right'),\n                left: this.buttonConfig.filter((button) => button.position === 'left'),\n            };\n        },\n\n        stepIndex() {\n            const { navigationIndex } = this.currentStep;\n\n            if (navigationIndex < 1) {\n                return 0;\n            }\n\n            return navigationIndex - 1;\n        },\n\n        stepInitialItemVariants() {\n            const { navigationIndex } = this.currentStep;\n            const maxIndex = Object.values(this.stepper).reduce(\n                (accumulator, step) => Math.max(accumulator, step.navigationIndex),\n                0,\n            );\n\n            const currentSteps = Array(maxIndex + 1).fill('disabled');\n            currentSteps.every((step, index) => {\n                if (index > navigationIndex) {\n                    return false;\n                }\n\n                currentSteps[index] = 'info';\n\n                if (index > 0) {\n                    currentSteps[index - 1] = 'success';\n                }\n\n                return true;\n            });\n            currentSteps.splice(0, 1);\n\n            return currentSteps;\n        },\n\n        isClosable() {\n            return !Shopware.Context.app.firstRunWizard;\n        },\n    },\n\n    watch: {\n        '$route'(to) {\n            const toName = to.name.replace('sw.first.run.wizard.index.', '');\n\n            this.currentStep = this.stepper[toName];\n        },\n    },\n\n    mounted() {\n        const step = this.$route.name.replace('sw.first.run.wizard.index.', '');\n\n        this.currentStep = this.stepper[step];\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.firstRunWizardService.setFRWStart();\n        },\n\n        updateButtons(buttonConfig) {\n            this.buttonConfig = buttonConfig;\n        },\n\n        onButtonClick(action) {\n            if (typeof action === 'string') {\n                this.redirect(action);\n                return;\n            }\n\n            if (typeof action !== 'function') {\n                return;\n            }\n\n            action.call();\n        },\n\n        redirect(routeName) {\n            this.$router.push({ name: routeName });\n        },\n\n        setTitle(title) {\n            this.title = title;\n        },\n\n        finishFRW() {\n            this.firstRunWizardService.setFRWFinish()\n                .then(() => {\n                    document.location.href = document.location.origin + document.location.pathname;\n                });\n        },\n\n        onExtensionActivated() {\n            this.wasNewExtensionActivated = true;\n        },\n\n        async closeModal() {\n            if (!this.isClosable) {\n                return;\n            }\n\n            this.showLoader = true;\n\n            await this.$nextTick();\n\n            await this.$router.push({ name: 'sw.settings.index.system' });\n\n            // reload page when new extension was activated and modal is closed\n            if (this.wasNewExtensionActivated) {\n                window.location.reload();\n            }\n        },\n    },\n};\n","export default \"\\n{% block sw_first_run_wizard_modal %}\\n<sw-modal\\n    :title=\\\"title\\\"\\n    :variant=\\\"variant\\\"\\n    :closable=\\\"isClosable\\\"\\n    class=\\\"sw-first-run-wizard-modal\\\"\\n    @modal-close=\\\"closeModal\\\"\\n>\\n    \\n    {% block sw_first_run_wizard_modal_content %}\\n    <div class=\\\"sw-first-run-wizard-modal-content\\\">\\n        <sw-container\\n            :class=\\\"{'one': !showSteps, 'two': showSteps}\\\"\\n            class=\\\"sw-first-run-wizard-modal-content__columns\\\"\\n        >\\n            \\n            {% block sw_first_run_wizard_modal_content_steps %}\\n            <div\\n                v-if=\\\"showSteps\\\"\\n                class=\\\"sw-first-run-wizard-modal-content__steps\\\"\\n            >\\n                <sw-step-display\\n                    :item-index=\\\"stepIndex\\\"\\n                    :item-variant=\\\"stepVariant\\\"\\n                    :initial-item-variants=\\\"stepInitialItemVariants\\\"\\n                >\\n                    <sw-step-item>\\n                        {{ $tc('sw-first-run-wizard.stepItemTitle.dataImport') }}\\n                    </sw-step-item>\\n                    <sw-step-item>\\n                        {{ $tc('sw-first-run-wizard.stepItemTitle.defaults') }}\\n                    </sw-step-item>\\n                    <sw-step-item>\\n                        {{ $tc('sw-first-run-wizard.stepItemTitle.mailer') }}\\n                    </sw-step-item>\\n                    <sw-step-item>\\n                        {{ $tc('sw-first-run-wizard.stepItemTitle.setupPaypal') }}\\n                    </sw-step-item>\\n                    <sw-step-item>\\n                        {{ $tc('sw-first-run-wizard.stepItemTitle.plugins') }}\\n                    </sw-step-item>\\n                    <sw-step-item>\\n                        {{ $tc('sw-first-run-wizard.stepItemTitle.shopware') }}\\n                    </sw-step-item>\\n                    <sw-step-item>\\n                        {{ $tc('sw-first-run-wizard.stepItemTitle.store') }}\\n                    </sw-step-item>\\n                </sw-step-display>\\n            </div>\\n            {% endblock %}\\n\\n            \\n            {% block sw_first_run_wizard_modal_content_page %}\\n            <div class=\\\"sw-first-run-wizard-modal-content__page\\\">\\n                {% if VUE3 %}\\n                <router-view\\n                    v-slot=\\\"{ Component }\\\"\\n                >\\n                    <component\\n                        :is=\\\"Component\\\"\\n                        @buttons-update=\\\"updateButtons\\\"\\n                        @frw-redirect=\\\"redirect\\\"\\n                        @frw-set-title=\\\"setTitle\\\"\\n                        @frw-finish=\\\"finishFRW\\\"\\n                        @extension-activated=\\\"onExtensionActivated\\\"\\n                    />\\n                </router-view>\\n                {% else %}\\n                <router-view\\n                    @buttons-update=\\\"updateButtons\\\"\\n                    @frw-redirect=\\\"redirect\\\"\\n                    @frw-set-title=\\\"setTitle\\\"\\n                    @frw-finish=\\\"finishFRW\\\"\\n                    @extension-activated=\\\"onExtensionActivated\\\"\\n                />\\n                {% endif %}\\n            </div>\\n            {% endblock %}\\n\\n            <sw-loader\\n                v-if=\\\"showLoader\\\"\\n                class=\\\"sw-first-run-wizard-modal__loader\\\"\\n            />\\n        </sw-container>\\n    </div>\\n    {% endblock %}\\n\\n    \\n    {% block sw_first_run_wizard_modal_footer %}\\n    <template #modal-footer>\\n        <div class=\\\"sw-first-run-wizard-modal__footer\\\">\\n            \\n            {% block sw_first_run_wizard_modal_footer_left %}\\n            <div class=\\\"footer-left\\\">\\n                <sw-button\\n                    v-for=\\\"button in buttons.left\\\"\\n                    :key=\\\"button.key\\\"\\n                    :variant=\\\"button.variant\\\"\\n                    :disabled=\\\"button.disabled\\\"\\n                    size=\\\"small\\\"\\n                    @click=\\\"onButtonClick(button.action)\\\"\\n                >\\n                    {{ button.label }}\\n                </sw-button>\\n            </div>\\n            {% endblock %}\\n\\n            \\n            {% block sw_first_run_wizard_modal_footer_right %}\\n            <div class=\\\"footer-right\\\">\\n                <sw-button\\n                    v-for=\\\"button in buttons.right\\\"\\n                    :key=\\\"button.key\\\"\\n                    :variant=\\\"button.variant\\\"\\n                    :disabled=\\\"button.disabled\\\"\\n                    size=\\\"small\\\"\\n                    @click=\\\"onButtonClick(button.action)\\\"\\n                >\\n                    {{ button.label }}\\n                </sw-button>\\n            </div>\\n            {% endblock %}\\n        </div>\\n    </template>\\n    {% endblock %}\\n</sw-modal>\\n{% endblock %}\\n\";","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--15-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--15-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--15-3!./sw-first-run-wizard-modal.scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"2a42b7cc\", content, true, {});"],"sourceRoot":""}