(window.webpackJsonpAdministration=window.webpackJsonpAdministration||[]).push([[20140],{80598:function(){},20140:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return i}}),n(69493);let{mapState:s}=Shopware.Component.getComponentHelper();var i={template:'<div class="sw-extension-my-extensions-listing">\n    <sw-skeleton\n        v-if="isLoading"\n        :variant="skeletonVariant"\n    />\n\n    <div\n        v-else\n        class="sw-extension-my-extensions-listing__listing-grid"\n    >\n        <sw-alert\n            v-if="!isAppUrlReachable"\n            class="sw-extension-my-extensions-listing__app-url-warning"\n            variant="warning"\n            :title="$tc(\'sw-app.component.sw-app-wrong-app-url-modal.title\')"\n        >\n\n            <template #default>\n                <div>\n                    {{ $tc(\'sw-app.component.sw-app-wrong-app-url-modal.explanation\') }}\n                </div>\n                <div>\n                    {{ $tc(\'sw-app.component.sw-app-wrong-app-url-modal.textGetSupport\') }}\n                </div>\n            </template>\n\n            <template #actions>\n                <sw-button\n                    class="sw-app-wrong-app-url-modal__content-link-button"\n                    variant="ghost"\n                    :link="$tc(\'sw-app.component.sw-app-wrong-app-url-modal.linkToDocsArticle\')"\n                >\n                    {{ $tc(\'sw-app.component.sw-app-wrong-app-url-modal.labelLearnMoreButton\') }}\n                </sw-button>\n            </template>\n\n        </sw-alert>\n        <sw-meteor-card\n            v-if="!extensionListPaginated.length && !filterByActiveState"\n            class="sw-extension-my-extensions-listing__empty-state"\n        >\n            <img\n                :src="assetFilter(\'administration/static/img/empty-states/extensions-empty-state.svg\')"\n                alt=""\n            >\n\n            <h3 v-if="isThemeRoute">\n                {{ $tc(\'sw-extension-store.component.sw-extension-my-extensions-listing.themes.titleEmptyState\') }}\n            </h3>\n            <h3 v-else>\n                {{ $tc(\'sw-extension-store.component.sw-extension-my-extensions-listing.apps.titleEmptyState\') }}\n            </h3>\n\n            <p v-if="isThemeRoute">\n                {{ $tc(\'sw-extension-store.component.sw-extension-my-extensions-listing.themes.textEmptyState\') }}\n            </p>\n            <p v-else>\n                {{ $tc(\'sw-extension-store.component.sw-extension-my-extensions-listing.apps.textEmptyState\') }}\n            </p>\n\n            <sw-button\n                variant="ghost"\n                @click="isThemeRoute ? openThemesStore() : openStore()"\n            >\n                {{ $tc(\'sw-extension-store.component.sw-extension-my-extensions-listing.btnOpenStore\') }}\n            </sw-button>\n        </sw-meteor-card>\n\n        <template v-else>\n            <div class="sw-extension-my-extensions-listing__container">\n                <sw-extension-my-extensions-listing-controls\n                    @update:active-state="changeActiveState"\n                    @update:sorting-option="changeSortingOption"\n                />\n\n                <sw-meteor-card\n                    v-if="!extensionListPaginated.length && filterByActiveState"\n                    class="sw-extension-my-extensions-listing__empty-state"\n                >\n                    <img\n                        :src="assetFilter(\'administration/static/img/empty-states/extensions-empty-state.svg\')"\n                        alt=""\n                    >\n\n                    <h3 v-if="isThemeRoute">\n                        {{ $tc(\'sw-extension-store.component.sw-extension-my-extensions-listing.themes.noActivePlugins\') }}\n                    </h3>\n                    <h3 v-else>\n                        {{ $tc(\'sw-extension-store.component.sw-extension-my-extensions-listing.apps.noActivePlugins\') }}\n                    </h3>\n                </sw-meteor-card>\n\n                <template v-else>\n                    <template\n                        v-for="entry in extensionListPaginated"\n                        :key="entry.name"\n                    >\n                        <component\n                            :is="entry.storeLicense ? \'sw-extension-card-bought\' : \'sw-self-maintained-extension-card\'"\n                            :extension="entry"\n                            @update-list="updateList"\n                        />\n                    </template>\n\n                    <sw-pagination\n                        :total="total"\n                        :limit="limit"\n                        :page="page"\n                        @page-change="changePage"\n                    />\n                </template>\n            </div>\n        </template>\n    </div>\n</div>\n',inject:["shopwareExtensionService"],data(){return{filterByActiveState:!1,sortingOption:"updated-at"}},computed:{...s("context",{isAppUrlReachable:t=>t.app.config.settings.appUrlReachable}),isLoading(){return Shopware.State.get("shopwareExtensions").myExtensions.loading},myExtensions(){return Shopware.State.get("shopwareExtensions").myExtensions.data},extensionList(){let t=this.filterExtensionsByType(this.myExtensions),e=this.sortExtensions(t,this.sortingOption);return this.filterByActiveState?this.filterExtensionsByActiveState(e):e},extensionListPaginated(){let t=(this.page-1)*this.limit;return this.extensionListSearched.slice(t,t+this.limit)},extensionListSearched(){return this.extensionList.filter(t=>{let e=this.term&&this.term.toLowerCase();if(!this.term)return!0;let n=t.label||"",s=t.name||"";return n.toLowerCase().includes(e)||s.toLowerCase().includes(e)})},isAppRoute(){return"sw.extension.my-extensions.listing.app"===this.$route.name},isThemeRoute(){return"sw.extension.my-extensions.listing.theme"===this.$route.name},total(){return this.extensionListSearched.length||0},limit:{get(){return Number(this.$route.query.limit)||25},set(t){this.updateRouteQuery({limit:t})}},page:{get(){return Number(this.$route.query.page)||1},set(t){this.updateRouteQuery({page:t})}},term:{get(){return this.$route.query.term||void 0},set(t){this.updateRouteQuery({term:t,page:1})}},skeletonVariant(){return this.isThemeRoute?"extension-themes":"extension-apps"},assetFilter(){return Shopware.Filter.getByName("asset")}},watch:{"$route.name"(){this.updateList(),this.filterByActiveState=!1}},mounted(){this.mountedComponent()},methods:{mountedComponent(){this.updateList(),this.updateRouteQuery()},updateList(){this.shopwareExtensionService.updateExtensionData()},openStore(){this.$router.push({name:"sw.extension.store.listing"})},openThemesStore(){this.$router.push({name:"sw.extension.store.listing.theme"})},updateRouteQuery(t={}){let e=this.$route.query,n=t.limit||this.$route.query.limit,s=t.page||this.$route.query.page,i=t.term||this.$route.query.term,o={name:this.$route.name,params:this.$route.params,query:{limit:n||25,page:s||1,term:i||void 0}};Shopware.Utils.types.isEmpty(e)?this.$router.replace(o):this.$router.push(o)},changePage({page:t,limit:e}){this.updateRouteQuery({page:t,limit:e})},filterExtensionsByType(t){return t.filter(t=>!!this.isAppRoute&&!t.isTheme||!!this.isThemeRoute&&!!t.isTheme)},sortExtensions(t,e){return t.sort((t,n)=>{if("name-asc"===e)return t.label.localeCompare(n.label,{sensitivity:"base"});if("name-desc"===e)return -1*t.label.localeCompare(n.label,{sensitivity:"base"});if("updated-at"===e){if(null===t.updatedAt&&null!==n.updatedAt)return 1;if(null!==t.updatedAt&&null===n.updatedAt)return -1;if(null===n.updatedAt&&null===t.updatedAt)return 0;let e=new Date(t.updatedAt.date),s=new Date(n.updatedAt.date);if(e>s)return -1;if(e<s)return 1}return 0})},changeSortingOption(t){this.sortingOption=t},changeActiveState(t){this.filterByActiveState=t},filterExtensionsByActiveState(t){return t.filter(t=>t.active)}}}},69493:function(t,e,n){var s=n(80598);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals),n(45346).Z("0fa72215",s,!0,{})}}]);