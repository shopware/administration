{"version":3,"sources":["webpack:///./src/module/sw-product/component/sw-product-variants/sw-product-modal-delivery/sw-product-modal-delivery.scss","webpack:///./src/module/sw-product/component/sw-product-variants/sw-product-modal-delivery/index.js","webpack:///./src/module/sw-product/component/sw-product-variants/sw-product-modal-delivery/sw-product-modal-delivery.html.twig"],"names":["content","__esModule","default","module","i","locals","exports","add","template","inject","props","product","type","Object","required","selectedGroups","Array","data","activeTab","isLoading","computed","productRepository","this","repositoryFactory","create","created","createdComponent","methods","variantListingConfig","$set","displayParent","configuratorGroupConfig","mainVariantId","saveDeliveryConfiguration","_this","handleExpandedListing","save","then","$emit","cancelDeliveryConfiguration","listingMode","_product$variantListi"],"mappings":"wGAGA,IAAIA,EAAU,EAAQ,QACnBA,EAAQC,aAAYD,EAAUA,EAAQE,SACnB,iBAAZF,IAAsBA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAC7DA,EAAQK,SAAQF,EAAOG,QAAUN,EAAQK,SAG/BE,EADH,EAAQ,QAA2EL,SAC5E,WAAYF,GAAS,EAAM,K,mDCD7B,WACXQ,SCTW,g9HDWXC,OAAQ,CAAC,oBAAqB,OAE9BC,MAAO,CACHC,QAAS,CACLC,KAAMC,OACNC,UAAU,GAGdC,eAAgB,CACZH,KAAMI,MACNF,UAAU,IAIlBG,KAAI,WACA,MAAO,CACHC,UAAW,QACXC,WAAW,IAInBC,SAAU,CACNC,kBAAiB,WACb,OAAOC,KAAKC,kBAAkBC,OAAO,aAI7CC,QAAO,WACHH,KAAKI,oBAGTC,QAAS,CACLD,iBAAgB,WACPJ,KAAKX,QAAQiB,sBACdN,KAAKO,KACDP,KAAKX,QACL,uBACA,CAAEmB,cAAe,KAAMC,wBAAyB,GAAIC,cAAe,QAK/EC,0BAAyB,WAAI,IAADC,EAAA,KACxBZ,KAAKH,WAAY,EAGjBG,KAAKX,QAAUW,KAAKa,sBAAsBb,KAAKX,SAG/CW,KAAKD,kBAAkBe,KAAKd,KAAKX,SAAS0B,MAAK,WAC3CH,EAAKI,MAAM,2BAInBC,4BAA2B,WACvBjB,KAAKgB,MAAM,wBAGfH,sBAAqB,SAACxB,GAClB,GAAIA,GAAmC,aAAxBA,EAAQ6B,YAA4B,CAAC,IAADC,EACzCV,EAA8E,QAAvDU,EAAG9B,EAAQiB,qBAAqBG,+BAAuB,IAAAU,IAAI,GAGxF9B,EAAQiB,qBAAqBI,cAAgB,KAC7CrB,EAAQiB,qBAAqBE,cAAgB,KAC7CnB,EAAQiB,qBAAqBG,wBAA0BA,EAK3D,cAFOpB,EAAQ6B,YAER7B,M","file":"static/js/b0ae7439d106182a74ac.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--15-1!../../../../../../node_modules/css-loader/dist/cjs.js??ref--15-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--15-3!./sw-product-modal-delivery.scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"9dac804c\", content, true, {});","/*\n * @package inventory\n */\n\nimport template from './sw-product-modal-delivery.html.twig';\nimport './sw-product-modal-delivery.scss';\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    inject: ['repositoryFactory', 'acl'],\n\n    props: {\n        product: {\n            type: Object,\n            required: true,\n        },\n\n        selectedGroups: {\n            type: Array,\n            required: true,\n        },\n    },\n\n    data() {\n        return {\n            activeTab: 'order',\n            isLoading: false,\n        };\n    },\n\n    computed: {\n        productRepository() {\n            return this.repositoryFactory.create('product');\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            if (!this.product.variantListingConfig) {\n                this.$set(\n                    this.product,\n                    'variantListingConfig',\n                    { displayParent: null, configuratorGroupConfig: [], mainVariantId: null },\n                );\n            }\n        },\n\n        saveDeliveryConfiguration() {\n            this.isLoading = true;\n\n            // Handle variant listing modes (single, expanded) if exists\n            this.product = this.handleExpandedListing(this.product);\n\n            // Save the product after generating\n            this.productRepository.save(this.product).then(() => {\n                this.$emit('configuration-close');\n            });\n        },\n\n        cancelDeliveryConfiguration() {\n            this.$emit('configuration-close');\n        },\n\n        handleExpandedListing(product) {\n            if (product && product.listingMode === 'expanded') {\n                const configuratorGroupConfig = product.variantListingConfig.configuratorGroupConfig ?? [];\n\n                // remove main_variant_id and display_parent from configuratorGroupConfig\n                product.variantListingConfig.mainVariantId = null;\n                product.variantListingConfig.displayParent = null;\n                product.variantListingConfig.configuratorGroupConfig = configuratorGroupConfig;\n            }\n\n            delete product.listingMode;\n\n            return product;\n        },\n    },\n};\n","export default \"\\n{% block sw_product_modal_delivery %}\\n<sw-modal\\n    :title=\\\"$tc('sw-product.variations.deliveryModal.modalHeadline')\\\"\\n    class=\\\"sw-product-modal-delivery\\\"\\n    :is-loading=\\\"isLoading\\\"\\n    @modal-close=\\\"$emit('modal-close')\\\"\\n>\\n\\n    \\n    {% block sw_product_modal_delivery_sidebar %}\\n    <div class=\\\"sw-product-modal-delivery__sidebar\\\">\\n        \\n        {% block sw_product_modal_delivery_sidebar_tabs %}\\n        <sw-tabs\\n            is-vertical\\n            position-identifier=\\\"sw-product-modal-delivery\\\"\\n        >\\n            \\n            {% block sw_product_modal_delivery_sidebar_tabs_items %}\\n            <sw-tabs-item\\n                :active=\\\"activeTab == 'order'\\\"\\n                @click=\\\"activeTab = 'order'\\\"\\n            >\\n                {{ $tc('sw-product.variations.deliveryModal.order') }}\\n            </sw-tabs-item>\\n            <sw-tabs-item\\n                :active=\\\"activeTab == 'media'\\\"\\n                @click=\\\"activeTab = 'media'\\\"\\n            >\\n                {{ $tc('sw-product.variations.deliveryModal.media') }}\\n            </sw-tabs-item>\\n            <sw-tabs-item\\n                :active=\\\"activeTab == 'listing'\\\"\\n                @click=\\\"activeTab = 'listing'\\\"\\n            >\\n                {{ $tc('sw-product.variations.deliveryModal.listing') }}\\n            </sw-tabs-item>\\n            {% endblock %}\\n        </sw-tabs>\\n        {% endblock %}\\n\\n        \\n        {% block sw_product_modal_delivery_sidebar_descriptions %}\\n        <p v-if=\\\"activeTab == 'order'\\\">\\n            {{ $tc('sw-product.variations.deliveryModal.orderExplanation') }}\\n        </p>\\n        <p v-if=\\\"activeTab == 'media'\\\">\\n            {{ $tc('sw-product.variations.deliveryModal.mediaExplanation') }}\\n        </p>\\n        <p v-if=\\\"activeTab == 'listing'\\\">\\n            {{ $tc('sw-product.variations.deliveryModal.listingExplanation') }}\\n        </p>\\n        {% endblock %}\\n    </div>\\n    {% endblock %}\\n\\n    \\n    {% block sw_product_modal_delivery_main %}\\n    <div class=\\\"sw-product-modal-delivery__main\\\">\\n        \\n        {% block sw_product_modal_delivery_main_order %}\\n        <sw-product-variants-delivery-order\\n            v-if=\\\"activeTab == 'order'\\\"\\n            :product=\\\"product\\\"\\n            :selected-groups=\\\"selectedGroups\\\"\\n        />\\n        {% endblock %}\\n\\n        \\n        {% block sw_product_modal_delivery_media %}\\n        <sw-product-variants-delivery-media\\n            v-if=\\\"activeTab == 'media'\\\"\\n            :product=\\\"product\\\"\\n            :selected-groups=\\\"selectedGroups\\\"\\n        />\\n        {% endblock %}\\n\\n        \\n        {% block sw_product_modal_delivery_listing %}\\n        <sw-product-variants-delivery-listing\\n            v-if=\\\"activeTab == 'listing'\\\"\\n            :product=\\\"product\\\"\\n            :selected-groups=\\\"selectedGroups\\\"\\n        />\\n        {% endblock %}\\n    </div>\\n    {% endblock %}\\n\\n    \\n    {% block sw_product_modal_delivery_footer %}\\n    <template #modal-footer>\\n        \\n        {% block sw_product_modal_delivery_footer_button_cancel %}\\n        <sw-button\\n            size=\\\"small\\\"\\n            @click=\\\"cancelDeliveryConfiguration\\\"\\n        >\\n            {{ $tc('sw-product.variations.deliveryModal.cancel') }}\\n        </sw-button>\\n        {% endblock %}\\n\\n        \\n        {% block sw_product_modal_delivery_footer_button_save %}\\n        <sw-button\\n            v-tooltip=\\\"{\\n                message: $tc('sw-privileges.tooltip.warning'),\\n                disabled: acl.can('product.editor'),\\n                showOnDisabledElements: true\\n            }\\\"\\n            class=\\\"sw-product-modal-delivery__save-button\\\"\\n            :disabled=\\\"!acl.can('product.editor')\\\"\\n            variant=\\\"primary\\\"\\n            size=\\\"small\\\"\\n            @click=\\\"saveDeliveryConfiguration\\\"\\n        >\\n            {{ $tc('sw-product.variations.deliveryModal.save') }}\\n        </sw-button>\\n        {% endblock %}\\n    </template>\\n    {% endblock %}\\n\\n</sw-modal>\\n{% endblock %}\\n\";"],"sourceRoot":""}