(window.webpackJsonpAdministration=window.webpackJsonpAdministration||[]).push([[96186],{191892:function(){},596186:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return a}}),t(931313);let{Component:s,State:o}=Shopware,{Criteria:r}=Shopware.Data;var a=s.wrapComponentConfig({template:'\n{% block sw_order_create_options %}\n<div class="sw-order-create-options">\n    \n    {% block sw_order_create_options_container %}\n    \n    {% block sw_order_create_options_order %}\n    \n    {% block sw_order_create_options_order_headline %}\n    <h3 class="sw-order-create-options__headline">\n        {{ $tc(\'sw-order.initialModal.options.textHeadlineOrder\') }}\n    </h3>\n    {% endblock %}\n\n    \n    {% block sw_order_create_options_order_switch_disable_auto_promotion %}\n    <sw-switch-field\n        class="sw-order-create-options__disable-auto-promotion"\n        :value="disabledAutoPromotion"\n        :label="$tc(\'sw-order.createBase.labelToggleAutomaticPromotions\')"\n        @update:value="onToggleAutoPromotion"\n    />\n    {% endblock %}\n\n    \n    {% block sw_order_create_options_order_field_container %}\n    <sw-container\n        class="sw-order-create-options__order-container"\n        gap="0px 32px"\n        columns="1fr 1fr"\n    >\n        \n        {% block sw_order_create_options_order_language %}\n        <sw-entity-single-select\n            v-model:value="context.languageId"\n            entity="language"\n            class="sw-order-create-options__order-language"\n            :criteria="salesChannelCriteria"\n            :label="$tc(\'sw-order.createBase.labelOrderLanguage\')"\n            :placeholder="$tc(\'sw-order.createBase.placeholderOrderLanguage\')"\n            show-clearable-button\n        />\n        {% endblock %}\n\n        \n        {% block sw_order_create_options_promotions %}\n        <sw-multi-tag-select\n            class="sw-order-create-options__promotion-code"\n            :value="promotionCodes"\n            :label="$tc(\'sw-order.createBase.labelPromotions\')"\n            :validate="validatePromotions"\n            @update:value="changePromotionCodes"\n        >\n            <template #message-add-data>\n                <span>{{ $tc(\'sw-order.initialModal.options.placeholderAddPromotion\') }}</span>\n            </template>\n            <template #message-enter-valid-data>\n                <span>{{ $tc(\'sw-order.createBase.placeholderAddPromotion\') }}</span>\n            </template>\n        </sw-multi-tag-select>\n        {% endblock %}\n    </sw-container>\n    {% endblock %}\n    {% endblock %}\n\n    \n    {% block sw_order_create_options_payment %}\n    \n    {% block sw_order_create_options_payment_headline %}\n    <h3>{{ $tc(\'sw-order.initialModal.options.textHeadlinePayment\') }}</h3>\n    {% endblock %}\n\n    \n    {% block sw_order_create_options_payment_container %}\n    <sw-container\n        class="sw-order-create-options__payment-container"\n        gap="0px 32px"\n        columns="1fr 1fr"\n    >\n        \n        {% block sw_order_create_options_payment_method %}\n        <sw-entity-single-select\n            v-model:value="context.paymentMethodId"\n            entity="payment_method"\n            label-property="distinguishableName"\n            class="sw-order-create-options__payment-method"\n            :criteria="paymentMethodCriteria"\n            :label="$tc(\'sw-order.createBase.labelPaymentMethod\')"\n            :placeholder="$tc(\'sw-order.createBase.placeholderPaymentMethod\')"\n            show-clearable-button\n        />\n        {% endblock %}\n\n        \n        {% block sw_order_create_options_billing_address %}\n        <sw-order-customer-address-select\n            v-model:value="context.billingAddressId"\n            class="sw-order-create-options__billing-address"\n            :label="$tc(\'sw-order.createBase.labelBillingAddress\')"\n            :placeholder="$tc(\'sw-order.createBase.placeholderBillingAddress\')"\n            :same-address-value="context.shippingAddressId"\n            :customer="customer"\n        />\n        {% endblock %}\n\n        \n        {% block sw_order_create_options_order_currency %}\n        <sw-entity-single-select\n            v-model:value="context.currencyId"\n            class="sw-order-create-options__currency-select"\n            entity="currency"\n            :criteria="salesChannelCriteria"\n            :label="$tc(\'sw-order.createBase.labelCurrency\')"\n            :placeholder="$tc(\'sw-order.createBase.placeholderCurrency\')"\n            show-clearable-button\n        />\n        {% endblock %}\n    </sw-container>\n    {% endblock %}\n    {% endblock %}\n\n    \n    {% block sw_order_create_options_shipment %}\n    \n    {% block sw_order_create_options_shipment_headline %}\n    <h3>{{ $tc(\'sw-order.initialModal.options.textHeadlineShipment\') }}</h3>\n    {% endblock %}\n\n    <sw-container\n        class="sw-order-create-options__shipping-container"\n        gap="0px 32px"\n        columns="1fr 1fr"\n    >\n        \n        {% block sw_order_create_options_shipping_method %}\n        <sw-entity-single-select\n            v-model:value="context.shippingMethodId"\n            class="sw-order-create-options__shipping-method"\n            entity="shipping_method"\n            show-clearable-button\n            :criteria="shippingMethodCriteria"\n            :label="$tc(\'sw-order.createBase.labelShippingMethod\')"\n            :placeholder="$tc(\'sw-order.createBase.placeholderShippingMethod\')"\n        />\n        {% endblock %}\n\n        <sw-number-field\n            v-model:value="shippingCost"\n            class="sw-order-create-options__shipping-cost"\n            :label="$tc(\'sw-order.initialModal.options.labelShippingCosts\')"\n            @update:value="onChangeShippingCost"\n        >\n            <template #suffix>\n                {{ currency.symbol }}\n            </template>\n        </sw-number-field>\n\n        <sw-switch-field\n            v-model:value="isSameAsBillingAddress"\n            name="sw-field--isSameAsBillingAddress"\n            :label="$tc(\'sw-order.initialModal.options.labelSameAsBillingAddress\')"\n        />\n\n        \n        {% block sw_order_create_options_shipping_address %}\n        <sw-order-customer-address-select\n            v-model:value="context.shippingAddressId"\n            class="sw-order-create-options__shipping-address"\n            :label="$tc(\'sw-order.createBase.labelShippingAddress\')"\n            :placeholder="$tc(\'sw-order.createBase.placeholderShippingAddress\')"\n            :same-address-label="$tc(\'sw-order.initialModal.options.textSameAsBillingAddress\')"\n            :same-address-value="context.billingAddressId"\n            :customer="customer"\n            :disabled="isSameAsBillingAddress"\n        />\n        {% endblock %}\n    </sw-container>\n    {% endblock %}\n    {% endblock %}\n</div>\n{% endblock %}\n',compatConfig:Shopware.compatConfig,props:{promotionCodes:{type:Array,required:!0},disabledAutoPromotion:{type:Boolean,required:!0},context:{type:Object,required:!0}},data(){return{shippingCost:0,isSameAsBillingAddress:!1,promotionCodeTags:[]}},computed:{salesChannelId(){return o.get("swOrder").context?.salesChannel?.id??""},salesChannelCriteria(){let e=new r;return this.salesChannelId&&e.addFilter(r.equals("salesChannels.id",this.salesChannelId)),e},shippingMethodCriteria(){let e=new r;return e.addFilter(r.equals("active",1)),this.salesChannelId&&e.addFilter(r.equals("salesChannels.id",this.salesChannelId)),e},paymentMethodCriteria(){let e=new r;return e.addFilter(r.equals("active",1)),this.salesChannelId&&e.addFilter(r.equals("salesChannels.id",this.salesChannelId)),e},customer(){return o.get("swOrder").customer},currency(){return o.get("swOrder").context.currency},cart(){return o.get("swOrder").cart},cartDelivery(){return this.cart?.deliveries[0]}},watch:{cartDelivery:{immediate:!0,handler(e){this.shippingCost=e?.shippingCosts?.totalPrice??0}},"context.currencyId":{async handler(){await this.updateCartContext()}},"context.shippingAddressId":{handler(){this.updateSameAsBillingAddressToggle()}},"context.billingAddressId":{handler(){this.updateSameAsBillingAddressToggle()}},"context.shippingMethodId":{async handler(){await this.updateCartContext()}},"context.languageId"(e){e&&o.commit("context/setLanguageId",e)},isSameAsBillingAddress(e){e&&(this.context.shippingAddressId=this.context.billingAddressId)}},created(){this.createdComponent()},methods:{updateSameAsBillingAddressToggle(){this.isSameAsBillingAddress=this.context.shippingAddressId===this.context.billingAddressId},createdComponent(){this.promotionCodeTags=[...this.promotionCodes],this.isSameAsBillingAddress=this.context.shippingAddressId===this.context.billingAddressId},validatePromotions(e){let n=e.trim();return!(n.length<=0)&&!this.promotionCodes.find(e=>e===n)},onToggleAutoPromotion(e){this.$emit("auto-promotion-toggle",e)},changePromotionCodes(e){this.$emit("promotions-change",e)},async updateCartContext(){this.salesChannelId&&(await this.updateOrderContext(),await this.loadCart())},updateOrderContext(){return o.dispatch("swOrder/updateOrderContext",{context:this.context,salesChannelId:this.salesChannelId,contextToken:this.cart.token})},loadCart(){return o.dispatch("swOrder/getCart",{salesChannelId:this.salesChannelId,contextToken:this.cart.token})},onChangeShippingCost(e){this.$emit("shipping-cost-change",e)}}})},931313:function(e,n,t){var s=t(191892);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals),t(745346).Z("e04e5ab6",s,!0,{})}}]);