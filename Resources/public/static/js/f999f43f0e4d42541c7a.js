(window.webpackJsonpAdministration=window.webpackJsonpAdministration||[]).push([[4183],{78683:function(){},4183:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return i}}),n(366);let{Mixin:l}=Shopware;var i={template:'\n{% block sw_media_modal_replace %}\n<sw-modal\n    class="sw-media-modal-replace"\n    size="420px"\n    :title="$tc(\'global.sw-media-modal-replace.titleModal\')"\n    @modal-close="emitCloseReplaceModal"\n>\n\n    <sw-upload-listener\n        :upload-tag="itemToReplace.id"\n        @media-upload-add="onNewUpload"\n    />\n\n    <sw-media-replace\n        class="sw-media-modal-replace__upload"\n        :item-to-replace="itemToReplace"\n        :upload-tag="itemToReplace.id"\n        variant="regular"\n    />\n\n    <sw-alert\n        v-if="newFileExtension"\n        class="sw-media-modal-replace__file-extension-warning"\n        variant="warning"\n    >\n        {{ $tc(\'global.sw-media-modal-replace.warningFileExtension\', 0, { extension: newFileExtension }) }}\n    </sw-alert>\n\n    \n    {% block sw_media_modal_replace_modal_footer %}\n    <template #modal-footer>\n        \n        {% block sw_media_modal_replace_cancel_button %}\n        <sw-button\n            size="small"\n            @click="emitCloseReplaceModal"\n        >\n            {{ $tc(\'global.default.cancel\') }}\n        </sw-button>\n        {% endblock %}\n\n        \n        {% block sw_media_modal_replace_replace_button %}\n        <sw-button\n            class="sw-media-replace__replace-media-action"\n            size="small"\n            variant="primary"\n            :disabled="!isUploadDataSet"\n            @click="replaceMediaItem"\n        >\n            {{ $tc(\'global.sw-media-modal-replace.buttonReplace\') }}\n        </sw-button>\n        {% endblock %}\n    </template>\n    {% endblock %}\n</sw-modal>\n{% endblock %}\n',inject:["mediaService","repositoryFactory"],mixins:[l.getByName("notification")],props:{itemToReplace:{type:Object,required:!1,default:null}},data(){return{uploadTag:null,isUploadDataSet:!1,newFileExtension:""}},methods:{onNewUpload({data:e}){this.isUploadDataSet=!0;let a=e[0].extension;a!==this.itemToReplace.fileExtension&&(this.newFileExtension=a)},emitCloseReplaceModal(){this.$emit("media-replace-modal-close")},async replaceMediaItem(){this.itemToReplace.isLoading=!0;let e=this.itemToReplace.fileName;await this.mediaService.runUploads(this.itemToReplace.id),await this.mediaService.renameMedia(this.itemToReplace.id,e),this.itemToReplace.isLoading=!1,this.$emit("media-replace-modal-item-replaced")}}}},366:function(e,a,n){var l=n(78683);l.__esModule&&(l=l.default),"string"==typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals),n(45346).Z("a5bd472e",l,!0,{})}}]);