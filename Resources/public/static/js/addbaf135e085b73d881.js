(this.webpackJsonpAdministration=this.webpackJsonpAdministration||[]).push([[549],{"uIP+":function(e,t,n){"use strict";n.r(t);var o=n("CsSd"),c=n.n(o);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=Shopware.Component,a=Shopware.Data.Criteria,d=s.getComponentHelper().mapState,i=Shopware.Classes.ShopwareError;t.default={template:'\n{% block sw_flow_generate_document_modal %}\n<sw-modal\n    class="sw-flow-generate-document-modal"\n    :title="$tc(\'sw-flow.modals.document.titleCreateDocument\')"\n    :closable="false"\n    @modal-close="onClose"\n>\n    \n    {% block sw_flow_generate_document_modal_document_type_multiple %}\n    <sw-multi-select\n        {% if VUE3 %}\n        v-model:value="documentTypesSelected"\n        {% else %}\n        v-model="documentTypesSelected"\n        {% endif %}\n        required\n        class="sw-flow-generate-document-modal__type-multi-select"\n        label-property="translated.name"\n        value-property="technicalName"\n        :options="documentTypes"\n        :label="$tc(\'sw-flow.modals.document.labelDocumentType\')"\n        :placeholder="$tc(\'sw-flow.modals.document.placeholderDocumentType\')"\n        :error="fieldError"\n    />\n    {% endblock %}\n\n    \n    {% block sw_flow_generate_document_modal_footer %}\n    <template #modal-footer>\n        \n        {% block sw_flow_generate_document_modal_footer_cancel_button %}\n        <sw-button\n            class="sw-flow-generate-document-modal__cancel-button"\n            size="small"\n            @click="onClose"\n        >\n            {{ $tc(\'global.default.cancel\') }}\n        </sw-button>\n        {% endblock %}\n\n        \n        {% block sw_flow_generate_document_modal_footer_save_button %}\n        <sw-button\n            class="sw-flow-generate-document-modal__save-button"\n            variant="primary"\n            size="small"\n            @click="onAddAction"\n        >\n            {{ sequence.id ? $tc(\'sw-flow.modals.buttonSaveAction\') : $tc(\'sw-flow.modals.buttonAddAction\') }}\n        </sw-button>\n        {% endblock %}\n    </template>\n    {% endblock %}\n</sw-modal>\n{% endblock %}\n',inject:["repositoryFactory"],props:{sequence:{type:Object,required:!0}},data:function(){return{documentTypesSelected:[],fieldError:null}},computed:r({documentTypeRepository:function(){return this.repositoryFactory.create("document_type")},documentTypeCriteria:function(){var e=new a(1,100);return e.addSorting(a.sort("name","ASC")),e}},d("swFlowState",["documentTypes"])),watch:{documentTypesSelected:function(e){e.length>0&&this.fieldError&&(this.fieldError=null)}},created:function(){this.createdComponent()},methods:{createdComponent:function(){var e,t,n,o;null!==(e=this.sequence)&&void 0!==e&&null!==(t=e.config)&&void 0!==t&&t.documentType?this.documentTypesSelected=[this.sequence.config]:this.documentTypesSelected=(null===(n=this.sequence)||void 0===n||null===(o=n.config)||void 0===o?void 0:o.documentTypes)||[];this.documentTypesSelected=this.documentTypesSelected.map((function(e){return e.documentType})),this.documentTypes.length||this.documentTypeRepository.search(this.documentTypeCriteria).then((function(e){Shopware.State.commit("swFlowState/setDocumentTypes",e)}))},onClose:function(){this.$emit("modal-close")},onAddAction:function(){if(this.documentTypesSelected.length){var e=r({},this.sequence),t=this.documentTypesSelected.map((function(e){return{documentType:e,documentRangerType:"document_".concat(e)}}));e=r(r({},e),{},{config:{documentTypes:t}}),this.$emit("process-finish",e)}else this.fieldError=new i({code:"c1051bb4-d103-4f74-8988-acbcafc7fdc3"})}}}}}]);