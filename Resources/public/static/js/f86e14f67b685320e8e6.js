(this.webpackJsonpAdministration=this.webpackJsonpAdministration||[]).push([[399],{"3cs4":function(e,t,n){},"B/eM":function(e,t,n){var i=n("3cs4");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("P8hj").default)("1dd11ead",i,!0,{})},u7lI:function(e,t,n){"use strict";n.r(t);var i=n("CsSd"),r=n.n(i);n("B/eM");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a=Shopware.Mixin,l=Shopware.Data.Criteria;t.default={template:'\n{% block sw_review_list %}\n<sw-page class="sw-review-list">\n\n    \n    {% block sw_review_list_search_bar %}\n    <template #search-bar>\n        <sw-search-bar\n            initial-search-type="product_review"\n            :initial-search="term"\n            :placeholder="$tc(\'sw-review.list.placeholderSearchBar\')"\n            @search="onSearch"\n        />\n    </template>\n    {% endblock %}\n\n    \n    {% block sw_review_list_smart_bar_header %}\n    <template #smart-bar-header>\n\n        \n        {% block sw_review_list_smart_bar_header_title %}\n        <h2>\n\n            \n            {% block sw_review_list_smart_bar_header_title_text %}\n            {{ $tc(\'sw-review.list.textReviewOverview\') }}\n            {% endblock %}\n\n            \n            {% block sw_review_list_smart_bar_header_amount %}\n            <span\n                v-if="!isLoading"\n                class="sw-page__smart-bar-amount"\n            >\n                ({{ items.total }})\n            </span>\n            {% endblock %}\n        </h2>\n        {% endblock %}\n    </template>\n    {% endblock %}\n\n    \n    {% block sw_review_list_content %}\n    <template #content>\n\n        \n        {% block sw_review_list_content_list %}\n        <sw-entity-listing\n            v-if="isLoading || items"\n            ref="listing"\n            detail-route="sw.review.detail"\n            :repository="repository"\n            :columns="columns"\n            :items="items"\n            :allow-edit="acl.can(\'review.editor\')"\n            :allow-delete="acl.can(\'review.deleter\')"\n            :show-selection="acl.can(\'review.deleter\')"\n            :disable-data-fetching="true"\n            :sort-by="sortBy"\n            :sort-direction="sortDirection"\n            identifier="sw-review-list"\n            :is-loading="isLoading"\n            @page-change="onPageChange"\n            @column-sort="onSortColumn"\n        >\n\n            \n            {% block sw_review_list_content_list_status %}\n            <template #column-status="{ item }">\n                <sw-data-grid-column-boolean\n                    v-model="item.status"\n                    :is-inline-edit="false"\n                />\n            </template>\n            {% endblock %}\n\n            \n            {% block sw_review_list_content_list_title %}\n            <template #column-title="{ item }">\n                <div class="sw-review-text_ellipsis">\n                    <router-link :to="{ name: \'sw.review.detail\', params: { id: item.id } }">\n                        {{ item.title }}\n                    </router-link>\n                </div>\n            </template>\n            {% endblock %}\n\n            \n            {% block sw_review_list_content_list_created_at %}\n            <template #column-createdAt="{ item }">\n                {{ dateFilter(item.createdAt, { hour: \'2-digit\', minute: \'2-digit\', second: \'2-digit\' }) }}\n            </template>\n            {% endblock %}\n\n            \n            {% block sw_review_list_content_list_user %}\n            <template #column-user="{ item }">\n                <router-link\n                    v-if="item.customer"\n                    :to="{ name: \'sw.customer.detail\', params: { id: item.customerId } }"\n                >\n                    {{ item.customer.lastName }}, {{ item.customer.firstName }}\n                </router-link>\n            </template>\n            {% endblock %}\n\n            \n            {% block sw_review_list_content_list_product %}\n            <template #column-product="{ item }">\n                <template v-if="item.productId">\n                    <router-link :to="{ name: \'sw.product.detail\', params: { id: item.productId } }">\n                        {{ item.product.translated.name }}\n                    </router-link>\n                </template>\n            </template>\n            {% endblock %}\n\n            \n            {% block sw_review_list_content_list_points %}\n            <template #column-points="{ item }">\n                <sw-rating-stars v-model="item.points" />\n            </template>\n            {% endblock %}\n\n            \n            {% block sw_review_list_content_list_comment %}\n            <template #column-comment="{ item }">\n                \n                <sw-data-grid-column-boolean\n                    :value="item.comment && item.comment.length > 0"\n                    :is-inline-edit="false"\n                />\n            </template>\n            {% endblock %}\n        </sw-entity-listing>\n        {% endblock %}\n\n        \n        {% block sw_review_list_empty_state %}\n        <sw-empty-state\n            v-if="!isLoading && !total"\n            icon="regular-file-text"\n            :title="$tc(\'sw-review.list.messageEmpty\')"\n            :subline="$tc(\'sw-review.list.messageEmptySubline\')"\n        />\n        {% endblock %}\n    </template>\n    {% endblock %}\n\n    \n    {% block sw_review_list_sidebar %}\n    <template #sidebar>\n        <sw-sidebar>\n\n            \n            {% block sw_review_list_sidebar_refresh %}\n            <sw-sidebar-item\n                icon="regular-undo"\n                :title="$tc(\'sw-review.list.titleSidebarItemRefresh\')"\n                @click="onRefresh"\n            />\n            {% endblock %}\n        </sw-sidebar>\n    </template>\n    {% endblock %}\n</sw-page>\n{% endblock %}\n',inject:["repositoryFactory","acl"],mixins:[a.getByName("listing")],data:function(){return{isLoading:!1,items:null,sortBy:"status,createdAt"}},metaInfo:function(){return{title:this.$createTitle()}},computed:{columns:function(){return[{property:"title",dataIndex:"title",label:"sw-review.list.columnTitle"},{property:"points",dataIndex:"points",label:"sw-review.list.columnPoints"},{property:"product",dataIndex:"product.name",label:"sw-review.list.columnProduct",routerLink:"sw.review.detail",primary:!0},{property:"user",dataIndex:"customer.lastName,customer.firstName",label:"sw-review.list.columnUser"},{property:"createdAt",dataIndex:"createdAt",label:"sw-review.list.columnCreatedAt"},{property:"status",dataIndex:"status",label:"sw-review.list.columnStatus",align:"center"},{property:"comment",dataIndex:"comment",label:"sw-review.list.columnComment",align:"center"}]},repository:function(){return this.repositoryFactory.create("product_review")},criteria:function(){var e=this,t=new l(this.page,this.limit);return t.setTerm(this.term),this.sortBy.split(",").forEach((function(n){t.addSorting(l.sort(n,e.sortDirection,e.naturalSorting))})),t.addAssociation("customer"),t.addAssociation("product"),t},dateFilter:function(){return Shopware.Filter.getByName("date")}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.getList()},getList:function(){var e=this;this.isLoading=!0;var t=o(o({},Shopware.Context.api),{},{inheritance:!0});return this.repository.search(this.criteria,t).then((function(t){e.total=t.total,e.items=t,e.isLoading=!1}))},onDelete:function(e){var t=this;this.$refs.listing.deleteItem(e),this.repository.search(this.criteria,o(o({},Shopware.Context.api),{},{inheritance:!0})).then((function(e){t.total=e.total,t.items=e}))}}}}}]);