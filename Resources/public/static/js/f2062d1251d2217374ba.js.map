{"version":3,"sources":["webpack:///./src/module/sw-settings-address/page/sw-settings-address/sw-settings-address.scss","webpack:///./src/module/sw-settings-address/page/sw-settings-address/index.js","webpack:///./src/module/sw-settings-address/page/sw-settings-address/sw-settings-address.html.twig"],"names":["content","__esModule","default","module","i","locals","exports","add","Mixin","Shopware","Criteria","Data","template","inject","mixins","getByName","data","isLoading","isSaveSuccessful","defaultCountry","computed","countryRepository","this","repositoryFactory","create","countryCriteria","criteria","addFilter","multi","not","equals","addressFormatSettingsLink","route","name","params","id","$router","resolve","href","created","createComponent","methods","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","getDefaultCountry","sent","stop","saveFinish","onSave","_this2","$refs","systemConfig","saveAll","then","catch","err","createNotificationError","message","onLoadingChanged","loading","_this3","_callee2","ids","_context2","searchIds","abrupt"],"mappings":"0GAGA,IAAIA,EAAU,EAAQ,QACnBA,EAAQC,aAAYD,EAAUA,EAAQE,SACnB,iBAAZF,IAAsBA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAC7DA,EAAQK,SAAQF,EAAOG,QAAUN,EAAQK,SAG/BE,EADH,EAAQ,QAAwEL,SACzE,WAAYF,GAAS,EAAM,K,yFCNpCQ,G,UAAUC,SAAVD,OACAE,EAAaD,SAASE,KAAtBD,SAGO,WACXE,SCRW,myFDUXC,OAAQ,CAAC,qBAETC,OAAQ,CACJN,EAAMO,UAAU,iBAGpBC,KAAI,WACA,MAAO,CACHC,WAAW,EACXC,kBAAkB,EAClBC,eAAgB,OAIxBC,SAAU,CACNC,kBAAiB,WACb,OAAOC,KAAKC,kBAAkBC,OAAO,YAGzCC,gBAAe,WACX,IAAMC,EAAW,IAAIhB,EAAS,EAAG,GAMjC,OALAgB,EAASC,UAAUjB,EAASkB,MAAM,KAAM,CACpClB,EAASmB,IAAI,MAAO,CAACnB,EAASoB,OAAO,mBAAoB,QACzDpB,EAASoB,OAAO,MAAO,SAGpBJ,GAGXK,0BAAyB,WACrB,IAAKT,KAAKH,eACN,OAAO,KAGX,IAAMa,EAAQ,CACVC,KAAM,8CACNC,OAAQ,CACJC,GAAIb,KAAKH,iBAKjB,OAFkBG,KAAKc,QAAQC,QAAQL,GAEtBM,OAIzBC,QAAO,WACHjB,KAAKkB,mBAGTC,QAAS,CACCD,gBAAe,WAAI,IAADE,EAAA,YAAAC,IAAAC,IAAAC,MAAA,SAAAC,IAAA,OAAAF,IAAAG,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACQR,EAAKS,oBAAoB,KAAD,EAApDT,EAAKvB,eAAc6B,EAAAI,KAAA,wBAAAJ,EAAAK,UAAAP,MADCH,IAIxBW,WAAU,WACNhC,KAAKJ,kBAAmB,GAG5BqC,OAAM,WAAI,IAADC,EAAA,KACLlC,KAAKJ,kBAAmB,EACxBI,KAAKL,WAAY,EAEjBK,KAAKmC,MAAMC,aAAaC,UAAUC,MAAK,WACnCJ,EAAKvC,WAAY,EACjBuC,EAAKtC,kBAAmB,KACzB2C,OAAM,SAACC,GACNN,EAAKvC,WAAY,EACjBuC,EAAKO,wBAAwB,CACzBC,QAASF,QAKrBG,iBAAgB,SAACC,GACb5C,KAAKL,UAAYiD,GAGff,kBAAiB,WAAI,IAADgB,EAAA,YAAAxB,IAAAC,IAAAC,MAAA,SAAAuB,IAAA,IAAAC,EAAA,OAAAzB,IAAAG,MAAA,SAAAuB,GAAA,cAAAA,EAAArB,KAAAqB,EAAApB,MAAA,cAAAoB,EAAApB,KAAA,EACJiB,EAAK9C,kBAAkBkD,UAAUJ,EAAK1C,iBAAiB,KAAD,EAA/D,OAAH4C,EAAGC,EAAAlB,KAAAkB,EAAAE,OAAA,SAEFH,EAAIrD,KAAK,IAAE,wBAAAsD,EAAAjB,UAAAe,MAHIzB,O","file":"static/js/f2062d1251d2217374ba.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--15-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--15-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--15-3!./sw-settings-address.scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"ebbb5758\", content, true, {});","import template from './sw-settings-address.html.twig';\nimport './sw-settings-address.scss';\n\nconst { Mixin } = Shopware;\nconst { Criteria } = Shopware.Data;\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    inject: ['repositoryFactory'],\n\n    mixins: [\n        Mixin.getByName('notification'),\n    ],\n\n    data() {\n        return {\n            isLoading: false,\n            isSaveSuccessful: false,\n            defaultCountry: null,\n        };\n    },\n\n    computed: {\n        countryRepository() {\n            return this.repositoryFactory.create('country');\n        },\n\n        countryCriteria() {\n            const criteria = new Criteria(1, 1);\n            criteria.addFilter(Criteria.multi('or', [\n                Criteria.not('and', [Criteria.equals('salesChannels.id', null)]),\n                Criteria.equals('iso', 'DE'),\n            ]));\n\n            return criteria;\n        },\n\n        addressFormatSettingsLink() {\n            if (!this.defaultCountry) {\n                return null;\n            }\n\n            const route = {\n                name: 'sw.settings.country.detail.address-handling',\n                params: {\n                    id: this.defaultCountry,\n                },\n            };\n            const routeData = this.$router.resolve(route);\n\n            return routeData.href;\n        },\n    },\n\n    created() {\n        this.createComponent();\n    },\n\n    methods: {\n        async createComponent() {\n            this.defaultCountry = await this.getDefaultCountry();\n        },\n\n        saveFinish() {\n            this.isSaveSuccessful = false;\n        },\n\n        onSave() {\n            this.isSaveSuccessful = false;\n            this.isLoading = true;\n\n            this.$refs.systemConfig.saveAll().then(() => {\n                this.isLoading = false;\n                this.isSaveSuccessful = true;\n            }).catch((err) => {\n                this.isLoading = false;\n                this.createNotificationError({\n                    message: err,\n                });\n            });\n        },\n\n        onLoadingChanged(loading) {\n            this.isLoading = loading;\n        },\n\n        async getDefaultCountry() {\n            const ids = await this.countryRepository.searchIds(this.countryCriteria);\n\n            return ids.data[0];\n        },\n    },\n};\n","export default \"\\n{% block sw_settings_address_index %}\\n<sw-page class=\\\"sw-settings-address\\\">\\n\\n    \\n    {% block sw_settings_address_search_bar %}\\n    <template #search-bar>\\n        <sw-search-bar />\\n    </template>\\n    {% endblock %}\\n\\n    \\n    {% block sw_settings_address_smart_bar_header %}\\n    <template #smart-bar-header>\\n        \\n        {% block sw_settings_address_smart_bar_header_title %}\\n        <h2>\\n            \\n            {% block sw_settings_address_smart_bar_header_title_text %}\\n            {{ $tc('sw-settings.index.title') }}\\n            <sw-icon\\n                name=\\\"regular-chevron-right-xs\\\"\\n                small\\n            />\\n            {{ $tc('sw-settings-address.general.textHeadline') }}\\n            {% endblock %}\\n\\n            \\n            {% block sw_settings_address_smart_bar_header_amount %}\\n            <span\\n                v-if=\\\"false\\\"\\n                class=\\\"sw-page__smart-bar-amount\\\"\\n            >\\n                ({{ total }})\\n            </span>\\n            {% endblock %}\\n        </h2>\\n        {% endblock %}\\n    </template>\\n    {% endblock %}\\n\\n    \\n    {% block sw_settings_address_smart_bar_actions %}\\n    <template #smart-bar-actions>\\n        \\n        {% block sw_settings_address_actions_save %}\\n        <sw-button-process\\n            class=\\\"sw-settings-address__save-action\\\"\\n            :is-loading=\\\"isLoading\\\"\\n            :process-success=\\\"isSaveSuccessful\\\"\\n            :disabled=\\\"isLoading\\\"\\n            variant=\\\"primary\\\"\\n            {% if VUE3 %}\\n            @update:process-success=\\\"saveFinish\\\"\\n            {% else %}\\n            @process-finish=\\\"saveFinish\\\"\\n            {% endif %}\\n            @click=\\\"onSave\\\"\\n        >\\n            {{ $tc('sw-settings-address.general.buttonSave') }}\\n        </sw-button-process>\\n        {% endblock %}\\n    </template>\\n    {% endblock %}\\n\\n    \\n    {% block sw_settings_address_content %}\\n    <template #content>\\n        <sw-card-view>\\n            <sw-skeleton v-if=\\\"isLoading\\\" />\\n\\n            {# v-show is used here as underlying components influence the loading state and v-if would destroy this behaviour #}\\n            <sw-system-config\\n                v-show=\\\"!isLoading\\\"\\n                ref=\\\"systemConfig\\\"\\n                sales-channel-switchable\\n                domain=\\\"core.address\\\"\\n                @loading-changed=\\\"onLoadingChanged\\\"\\n            />\\n\\n            <sw-alert\\n                v-show=\\\"!isLoading && addressFormatSettingsLink\\\"\\n                variant=\\\"warning\\\"\\n                class=\\\"sw-settings-address__text-warning\\\"\\n            >\\n                <span v-html=\\\"$tc('sw-settings-address.general.textWarning', 0, { addressFormatSettingsLink })\\\"></span>\\n            </sw-alert>\\n        </sw-card-view>\\n    </template>\\n    {% endblock %}\\n</sw-page>\\n{% endblock %}\\n\";"],"sourceRoot":""}