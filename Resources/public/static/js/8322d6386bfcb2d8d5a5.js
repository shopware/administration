(window.webpackJsonpAdministration=window.webpackJsonpAdministration||[]).push([[29675],{58860:function(){},829675:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return o}}),t(878944);var o={template:'\n{% block sw_order_document_settings_modal_form_first_row %}\n<sw-container\n    columns="1fr 1fr 1fr"\n    gap="0 14px"\n>\n    \n    {% block sw_order_document_settings_modal_form_credit_document_number %}\n    <sw-text-field\n        v-model:value="documentConfig.documentNumber"\n        :label="$tc(\'sw-order.documentModal.labelDocumentNumber\')"\n    />\n    {% endblock %}\n\n    \n    {% block sw_order_document_settings_modal_form_document_select_invoice %}\n    <sw-select-field\n        v-model:value="documentConfig.custom.invoiceNumber"\n        class="sw-order-document-settings-credit-note-modal__invoice-select"\n        required\n        :label="$tc(\'sw-order.documentModal.labelInvoiceNumber\')"\n        :placeholder="$tc(\'sw-order.documentModal.selectInvoiceNumber\')"\n    >\n        <option\n            v-for="number in invoiceNumbers"\n            :key="number"\n            :value="number"\n        >\n            {{ number }}\n        </option>\n    </sw-select-field>\n    {% endblock %}\n\n    \n    {% block sw_order_document_settings_modal_form_document_date %}\n    <sw-datepicker\n        v-model:value="documentConfig.documentDate"\n        date-type="date"\n        required\n        hide-hint\n        :label="$tc(\'sw-order.documentModal.labelDocumentDate\')"\n        :placeholder="$tc(\'sw-datepicker.date.placeholder\')"\n    />\n    {% endblock %}\n</sw-container>\n{% endblock %}\n',emits:["loading-document"],data(){return{documentConfig:{custom:{creditNoteNumber:"",invoiceNumber:""}},invoiceNumbers:[]}},computed:{highlightedItems(){let e=[];return this.order.lineItems.forEach(n=>{"credit"===n.type&&e.push(n)}),e},documentPreconditionsFulfilled(){return 0!==this.highlightedItems.length&&this.documentConfig.custom.invoiceNumber}},created(){this.createdComponent()},methods:{createdComponent(){this.$super("createdComponent");let e=this.order.documents.filter(e=>"invoice"===e.documentType.technicalName).map(e=>e.config.custom.invoiceNumber);this.invoiceNumbers=[...new Set(e)].sort()},onCreateDocument(e=!1){this.$emit("loading-document"),this.documentNumberPreview===this.documentConfig.documentNumber?this.numberRangeService.reserve(`document_${this.currentDocumentType.technicalName}`,this.order.salesChannelId,!1).then(n=>{this.documentConfig.custom.creditNoteNumber=n.number,n.number!==this.documentConfig.documentNumber&&this.createNotificationInfo({message:this.$tc("sw-order.documentCard.info.DOCUMENT__NUMBER_WAS_CHANGED")}),this.documentConfig.documentNumber=n.number,this.callDocumentCreate(e)}):(this.documentConfig.custom.creditNoteNumber=this.documentConfig.documentNumber,this.callDocumentCreate(e))}}}},878944:function(e,n,t){var o=t(58860);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals),t(745346).Z("29b50cfd",o,!0,{})}}]);