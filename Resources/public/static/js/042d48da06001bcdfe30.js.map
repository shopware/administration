{"version":3,"sources":["webpack:///./src/module/sw-users-permissions/components/sw-users-permissions-detailed-additional-permissions/sw-users-permissions-detailed-additional-permissions.scss","webpack:///./src/module/sw-users-permissions/components/sw-users-permissions-detailed-additional-permissions/index.js","webpack:///./src/module/sw-users-permissions/components/sw-users-permissions-detailed-additional-permissions/sw-users-permissions-detailed-additional-permissions.html.twig"],"names":["content","__esModule","default","module","i","locals","exports","add","template","inject","props","role","type","Object","required","disabled","Boolean","detailedPrivileges","Array","data","detailedAdditionalPermissions","computed","allGeneralSelectedPrivileges","this","privileges","getPrivilegesForAdminPrivilegeKeys","created","createdComponent","methods","setDetailedAdditionalPermissions","_this","aclApiService","additionalPrivileges","then","roles","forEach","privilege","dependencies","push","category","parent","key","isEntitySelected","identifier","concat","_toConsumableArray","includes","isEntityDisabled","changePermissionForEntity","privilegeIndex","indexOf","splice"],"mappings":"mIAGA,IAAIA,EAAU,EAAQ,QACnBA,EAAQC,aAAYD,EAAUA,EAAQE,SACnB,iBAAZF,IAAsBA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAC7DA,EAAQK,SAAQF,EAAOG,QAAUN,EAAQK,SAG/BE,EADH,EAAQ,QAAwEL,SACzE,WAAYF,GAAS,EAAM,K,8ECF7B,WACXQ,SCRW,o5FDUXC,OAAQ,CACJ,aACA,iBAGJC,MAAO,CACHC,KAAM,CACFC,KAAMC,OACNC,UAAU,GAGdC,SAAU,CACNH,KAAMI,QACNF,UAAU,EACVZ,SAAS,GAGbe,mBAAoB,CAChBL,KAAMM,MACNJ,UAAU,IAIlBK,KAAI,WACA,MAAO,CACHC,8BAA+B,KAIvCC,SAAU,CACNC,6BAA4B,WACxB,OAAOC,KAAKC,WAAWC,mCAAmCF,KAAKZ,KAAKa,cAI5EE,QAAO,WACHH,KAAKI,oBAGTC,QAAS,CACLD,iBAAgB,WACZJ,KAAKM,oCAGTA,iCAAgC,WAAI,IAADC,EAAA,KAC/BP,KAAKQ,cAAcC,uBAAuBC,MAAK,SAACD,GAC5C,IAAME,EAAQ,GACdF,EAAqBG,SAAQ,SAACC,GAC1BF,EAAME,GAAa,CACfZ,WAAY,CAACY,GACbC,aAAc,OAItBP,EAAKV,8BAA8BkB,KAAK,CACpCC,SAAU,yBACVC,OAAQ,KACRC,IAAK,SACLP,MAAOA,QAKnBQ,iBAAgB,SAACC,GAMb,MALmB,GAAAC,OAAAC,IACZtB,KAAKD,8BAA4BuB,IACjCtB,KAAKN,qBAGS6B,SAASH,IAGlCI,iBAAgB,SAACJ,GACb,QAAIpB,KAAKR,UAIFQ,KAAKD,6BAA6BwB,SAASH,IAGtDK,0BAAyB,SAACL,GACtB,IAAMM,EAAiB1B,KAAKN,mBAAmBiC,QAAQP,GAEnDM,GAAkB,EAClB1B,KAAKN,mBAAmBkC,OAAOF,EAAgB,GAInD1B,KAAKN,mBAAmBqB,KAAKK","file":"static/js/042d48da06001bcdfe30.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--15-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--15-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--15-3!./sw-users-permissions-detailed-additional-permissions.scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"c644c7ee\", content, true, {});","/**\n * @package services-settings\n */\nimport template from './sw-users-permissions-detailed-additional-permissions.html.twig';\nimport './sw-users-permissions-detailed-additional-permissions.scss';\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    inject: [\n        'privileges',\n        'aclApiService',\n    ],\n\n    props: {\n        role: {\n            type: Object,\n            required: true,\n        },\n\n        disabled: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n\n        detailedPrivileges: {\n            type: Array,\n            required: true,\n        },\n    },\n\n    data() {\n        return {\n            detailedAdditionalPermissions: [],\n        };\n    },\n\n    computed: {\n        allGeneralSelectedPrivileges() {\n            return this.privileges.getPrivilegesForAdminPrivilegeKeys(this.role.privileges);\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.setDetailedAdditionalPermissions();\n        },\n\n        setDetailedAdditionalPermissions() {\n            this.aclApiService.additionalPrivileges().then((additionalPrivileges) => {\n                const roles = {};\n                additionalPrivileges.forEach((privilege) => {\n                    roles[privilege] = {\n                        privileges: [privilege],\n                        dependencies: [],\n                    };\n                });\n\n                this.detailedAdditionalPermissions.push({\n                    category: 'additional_permissions',\n                    parent: null,\n                    key: 'routes',\n                    roles: roles,\n                });\n            });\n        },\n\n        isEntitySelected(identifier) {\n            const allPrivileges = [\n                ...this.allGeneralSelectedPrivileges,\n                ...this.detailedPrivileges,\n            ];\n\n            return allPrivileges.includes(identifier);\n        },\n\n        isEntityDisabled(identifier) {\n            if (this.disabled) {\n                return true;\n            }\n\n            return this.allGeneralSelectedPrivileges.includes(identifier);\n        },\n\n        changePermissionForEntity(identifier) {\n            const privilegeIndex = this.detailedPrivileges.indexOf(identifier);\n\n            if (privilegeIndex >= 0) {\n                this.detailedPrivileges.splice(privilegeIndex, 1);\n                return;\n            }\n\n            this.detailedPrivileges.push(identifier);\n        },\n    },\n};\n","export default \"\\n{% block sw_users_permissions_detailed_additional_permissions %}\\n<sw-card\\n    class=\\\"sw-users-permissions-detailed-additional-permissions\\\"\\n    position-identifier=\\\"sw-users-permissions-detailed-additional-permissions\\\"\\n    :title=\\\"$tc('sw-users-permissions.roles.detailed-additional-permissions.title')\\\"\\n>\\n    \\n    {% block sw_users_permissions_detailed_additional_permissions_additional_privileges %}\\n    <template\\n        v-for=\\\"privilege in detailedAdditionalPermissions\\\"\\n        {% if VUE3 %}\\n        :key=\\\"privilege.key\\\"\\n        {% endif %}\\n    >\\n        \\n        {% block sw_users_permissions_detailed_additional_permissions_additional_privileges_headline %}\\n        <h4\\n            {% if VUE2 %}\\n            :key=\\\"privilege.key\\\"\\n            {% endif %}\\n            :class=\\\"'sw-users-permissions-additional-permissions_' + privilege.key\\\"\\n        >\\n            \\n            {% block sw_users_permissions_detailed_additional_permissions_additional_privileges_headline_content %}\\n            <strong>\\n                {{ $tc('sw-privileges.additional_permissions.' + privilege.key + '.label') }}\\n            </strong>\\n            {% endblock %}\\n        </h4>\\n        {% endblock %}\\n\\n        \\n        {% block sw_users_permissions_detailed_additional_permissions_additional_privileges_switches %}\\n        <div\\n            {% if VUE2 %}\\n            :key=\\\"`body-${privilege.key}`\\\"\\n            {% endif %}\\n            class=\\\"sw-users-permissions-detailed-additional-permissions__switches\\\"\\n        >\\n            \\n            {% block sw_users_permissions_detailed_additional_permissions_additional_privileges_switches_content %}\\n            <template\\n                v-for=\\\"(value, roleName) in privilege.roles\\\"\\n                {% if VUE3 %}\\n                :key=\\\"roleName\\\"\\n                {% endif %}\\n            >\\n                \\n                {% block sw_users_permissions_detailed_additional_permissions_additional_privileges_switches_content_switch %}\\n                <sw-switch-field\\n                    {% if VUE2 %}\\n                    :key=\\\"`field-${privilege.key}-${roleName}`\\\"\\n                    {% endif %}\\n                    :class=\\\"'sw_users_permissions_detailed_additional_permissions_' + privilege.key + '_' + roleName\\\"\\n                    :value=\\\"isEntitySelected(roleName)\\\"\\n                    :disabled=\\\"isEntityDisabled(roleName) || disabled\\\"\\n                    :label=\\\"roleName\\\"\\n                    :bordered=\\\"true\\\"\\n                    {% if VUE3 %}\\n                    @update:value=\\\"changePermissionForEntity(roleName)\\\"\\n                    {% else %}\\n                    @change=\\\"changePermissionForEntity(roleName)\\\"\\n                    {% endif %}\\n                />\\n                {% endblock %}\\n            </template>\\n            {% endblock %}\\n        </div>\\n        {% endblock %}\\n    </template>\\n    {% endblock %}\\n</sw-card>\\n{% endblock %}\\n\";"],"sourceRoot":""}