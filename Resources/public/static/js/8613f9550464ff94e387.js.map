{"version":3,"sources":["webpack:///./src/module/sw-cms/elements/vimeo-video/config/index.js","webpack:///./src/module/sw-cms/elements/vimeo-video/config/sw-cms-el-config-vimeo-video.html.twig","webpack:///./src/module/sw-cms/elements/vimeo-video/config/sw-cms-el-config-vimeo-video.scss"],"names":["Mixin","Shopware","template","mixins","getByName","data","mediaModalIsOpen","initialFolderId","computed","videoID","get","this","element","config","value","set","link","shortenLink","mediaRepository","repositoryFactory","create","uploadTag","concat","id","previewSource","previewMedia","created","createdComponent","methods","initElementConfig","videoIDPostfix","replace","test","positionOfPostfix","exec","index","substring","onImageUpload","_ref","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","targetId","mediaEntity","wrap","_context","prev","next","sent","updateElementData","$emit","stop","onImageRemove","onCloseModal","onSelectionChanges","media","arguments","length","undefined","$set","onOpenMediaModal","content","__esModule","default","module","i","locals","exports","add"],"mappings":"mMAGQA,G,UAAUC,SAAVD,OAMO,WACXE,SCVW,+uODYXC,OAAQ,CACJH,EAAMI,UAAU,gBAGpBC,KAAI,WACA,MAAO,CACHC,kBAAkB,EAClBC,gBAAiB,OAIzBC,SAAU,CACNC,QAAS,CACLC,IAAG,WACC,OAAOC,KAAKC,QAAQC,OAAOJ,QAAQK,OAGvCC,IAAG,SAACC,GACAL,KAAKC,QAAQC,OAAOJ,QAAQK,MAAQH,KAAKM,YAAYD,KAI7DE,gBAAe,WACX,OAAOP,KAAKQ,kBAAkBC,OAAO,UAGzCC,UAAS,WACL,MAAM,kCAANC,OAAyCX,KAAKC,QAAQW,KAG1DC,cAAa,WACT,OAAIb,KAAKC,QAAQP,MAAQM,KAAKC,QAAQP,KAAKoB,cAAgBd,KAAKC,QAAQP,KAAKoB,aAAaF,GAC/EZ,KAAKC,QAAQP,KAAKoB,aAGtBd,KAAKC,QAAQC,OAAOY,aAAaX,QAIhDY,QAAO,WACHf,KAAKgB,oBAGTC,QAAS,CACLD,iBAAgB,WACZhB,KAAKkB,kBAAkB,gBAG3BZ,YAAW,SAACD,GACR,IAEMc,EAAiB,IACnBb,EAHcD,EAGUe,QAFN,yBAE6B,IAEnD,GAAID,EAAeE,KAAKf,GAAc,CAClC,IAAMgB,EAAoBH,EAAeI,KAAKjB,GAAakB,MAC3DlB,EAAcA,EAAYmB,UAAU,EAAGH,GAG3C,OAAOhB,GAGLoB,cAAa,SAAAC,GAAgB,IAADC,EAAA,YAAAC,IAAAC,IAAAC,MAAA,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAJ,IAAAK,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAAJ,OAARL,EAAQN,EAARM,SAAQG,EAAAE,KAAA,EACAV,EAAKrB,gBAAgBR,IAAIkC,GAAU,KAAD,EAAtDC,EAAWE,EAAAG,KAEjBX,EAAK3B,QAAQC,OAAOY,aAAaX,MAAQ+B,EAAYtB,GAErDgB,EAAKY,kBAAkBN,GAEvBN,EAAKa,MAAM,iBAAkBb,EAAK3B,SAAS,wBAAAmC,EAAAM,UAAAV,MAPbH,IAUlCc,cAAa,WACT3C,KAAKC,QAAQC,OAAOY,aAAaX,MAAQ,KAEzCH,KAAKwC,oBAELxC,KAAKyC,MAAM,iBAAkBzC,KAAKC,UAGtC2C,aAAY,WACR5C,KAAKL,kBAAmB,GAG5BkD,mBAAkB,SAACX,GACf,IAAMY,EAAQZ,EAAY,GAC1BlC,KAAKC,QAAQC,OAAOY,aAAaX,MAAQ2C,EAAMlC,GAE/CZ,KAAKwC,kBAAkBM,GAEvB9C,KAAKyC,MAAM,iBAAkBzC,KAAKC,UAGtCuC,kBAAiB,WAAgB,IAAfM,EAAKC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KACtB/C,KAAKkD,KAAKlD,KAAKC,QAAQP,KAAM,iBAA4B,OAAVoD,EAAiB,KAAOA,EAAMlC,IAC7EZ,KAAKkD,KAAKlD,KAAKC,QAAQP,KAAM,eAAgBoD,IAGjDK,iBAAgB,WACZnD,KAAKL,kBAAmB,M,qBE5GpC,IAAIyD,EAAU,EAAQ,QACnBA,EAAQC,aAAYD,EAAUA,EAAQE,SACnB,iBAAZF,IAAsBA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAC7DA,EAAQK,SAAQF,EAAOG,QAAUN,EAAQK,SAG/BE,EADH,EAAQ,QAA2EL,SAC5E,WAAYF,GAAS,EAAM","file":"static/js/8613f9550464ff94e387.js","sourcesContent":["import template from './sw-cms-el-config-vimeo-video.html.twig';\nimport './sw-cms-el-config-vimeo-video.scss';\n\nconst { Mixin } = Shopware;\n\n/**\n * @private\n * @package buyers-experience\n */\nexport default {\n    template,\n\n    mixins: [\n        Mixin.getByName('cms-element'),\n    ],\n\n    data() {\n        return {\n            mediaModalIsOpen: false,\n            initialFolderId: null,\n        };\n    },\n\n    computed: {\n        videoID: {\n            get() {\n                return this.element.config.videoID.value;\n            },\n\n            set(link) {\n                this.element.config.videoID.value = this.shortenLink(link);\n            },\n        },\n\n        mediaRepository() {\n            return this.repositoryFactory.create('media');\n        },\n\n        uploadTag() {\n            return `cms-element-vimeo-video-config-${this.element.id}`;\n        },\n\n        previewSource() {\n            if (this.element.data && this.element.data.previewMedia && this.element.data.previewMedia.id) {\n                return this.element.data.previewMedia;\n            }\n\n            return this.element.config.previewMedia.value;\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.initElementConfig('vimeo-video');\n        },\n\n        shortenLink(link) {\n            const videoLink = link;\n            const videoIDPrefix = /https:\\/\\/vimeo\\.com\\//;\n            const videoIDPostfix = /#/;\n            let shortenLink = videoLink.replace(videoIDPrefix, '');\n\n            if (videoIDPostfix.test(shortenLink)) {\n                const positionOfPostfix = videoIDPostfix.exec(shortenLink).index;\n                shortenLink = shortenLink.substring(0, positionOfPostfix);\n            }\n\n            return shortenLink;\n        },\n\n        async onImageUpload({ targetId }) {\n            const mediaEntity = await this.mediaRepository.get(targetId);\n\n            this.element.config.previewMedia.value = mediaEntity.id;\n\n            this.updateElementData(mediaEntity);\n\n            this.$emit('element-update', this.element);\n        },\n\n        onImageRemove() {\n            this.element.config.previewMedia.value = null;\n\n            this.updateElementData();\n\n            this.$emit('element-update', this.element);\n        },\n\n        onCloseModal() {\n            this.mediaModalIsOpen = false;\n        },\n\n        onSelectionChanges(mediaEntity) {\n            const media = mediaEntity[0];\n            this.element.config.previewMedia.value = media.id;\n\n            this.updateElementData(media);\n\n            this.$emit('element-update', this.element);\n        },\n\n        updateElementData(media = null) {\n            this.$set(this.element.data, 'previewMediaId', media === null ? null : media.id);\n            this.$set(this.element.data, 'previewMedia', media);\n        },\n\n        onOpenMediaModal() {\n            this.mediaModalIsOpen = true;\n        },\n    },\n};\n","export default \"\\n{% block sw_cms_element_vimeo_video_config %}\\n<div class=\\\"sw-cms-el-config-vimeo-video\\\">\\n\\n    \\n    {% block sw_cms_element_vimeo_video_config_video_id %}\\n    <sw-text-field\\n        {% if VUE3 %}\\n        v-model:value=\\\"videoID\\\"\\n        {% else %}\\n        v-model=\\\"videoID\\\"\\n        {% endif %}\\n        class=\\\"sw-cms-el-config-vimeo-video__video-id\\\"\\n        :label=\\\"$tc('sw-cms.elements.vimeoVideo.config.label.videoId')\\\"\\n        :placeholder=\\\"$tc('sw-cms.elements.vimeoVideo.config.placeholder.videoId')\\\"\\n    />\\n    {% endblock %}\\n\\n    \\n    {% block sw_cms_element_vimeo_video_config_player_controls %}\\n    <div class=\\\"sw-cms-el-config-vimeo-video__player-controls\\\">\\n\\n        \\n        {% block sw_cms_element_vimeo_video_config_autoplay %}\\n        <sw-switch-field\\n            {% if VUE3 %}\\n            v-model:value=\\\"element.config.autoplay.value\\\"\\n            {% else %}\\n            v-model=\\\"element.config.autoplay.value\\\"\\n            {% endif %}\\n            :label=\\\"$tc('sw-cms.elements.vimeoVideo.config.label.autoPlay')\\\"\\n            :help-text=\\\"$tc('sw-cms.elements.vimeoVideo.config.helpText.autoPlay')\\\"\\n        />\\n        {% endblock %}\\n\\n        \\n        {% block sw_cms_element_vimeo_video_config_do_not_track %}\\n        <sw-switch-field\\n            {% if VUE3 %}\\n            v-model:value=\\\"element.config.doNotTrack.value\\\"\\n            {% else %}\\n            v-model=\\\"element.config.doNotTrack.value\\\"\\n            {% endif %}\\n            :label=\\\"$tc('sw-cms.elements.vimeoVideo.config.label.advancedPrivacy')\\\"\\n            :help-text=\\\"$tc('sw-cms.elements.vimeoVideo.config.helpText.advancedPrivacy')\\\"\\n        />\\n        {% endblock %}\\n\\n        \\n        {% block sw_cms_element_vimeo_video_config_loop %}\\n        <sw-switch-field\\n            {% if VUE3 %}\\n            v-model:value=\\\"element.config.loop.value\\\"\\n            {% else %}\\n            v-model=\\\"element.config.loop.value\\\"\\n            {% endif %}\\n            :label=\\\"$tc('sw-cms.elements.vimeoVideo.config.label.loop')\\\"\\n        />\\n        {% endblock %}\\n\\n        \\n        {% block sw_cms_element_vimeo_video_config_controls %}\\n        <sw-switch-field\\n            {% if VUE3 %}\\n            v-model:value=\\\"element.config.controls.value\\\"\\n            {% else %}\\n            v-model=\\\"element.config.controls.value\\\"\\n            {% endif %}\\n            :label=\\\"$tc('sw-cms.elements.vimeoVideo.config.label.showControls')\\\"\\n        />\\n        {% endblock %}\\n\\n    </div>\\n    {% endblock %}\\n\\n    \\n    {% block sw_cms_element_vimeo_video_config_color %}\\n    <sw-colorpicker\\n        {% if VUE3 %}\\n        v-model:value=\\\"element.config.color.value\\\"\\n        {% else %}\\n        v-model=\\\"element.config.color.value\\\"\\n        {% endif %}\\n        class=\\\"sw-cms-el-config-vimeo-video__color\\\"\\n        :label=\\\"$tc('sw-cms.elements.vimeoVideo.config.label.controlsColor')\\\"\\n        color-output=\\\"hex\\\"\\n        :z-index=\\\"1001\\\"\\n        :alpha=\\\"false\\\"\\n    />\\n    {% endblock %}\\n\\n    \\n    {% block sw_cms_element_vimeo_video_config_artist_information %}\\n    <div class=\\\"sw-cms-el-config-vimeo-video__artist-information\\\">\\n\\n        \\n        {% block sw_cms_element_vimeo_video_config_byline %}\\n        <sw-switch-field\\n            {% if VUE3 %}\\n            v-model:value=\\\"element.config.byLine.value\\\"\\n            {% else %}\\n            v-model=\\\"element.config.byLine.value\\\"\\n            {% endif %}\\n            :label=\\\"$tc('sw-cms.elements.vimeoVideo.config.label.byLine')\\\"\\n        />\\n        {% endblock %}\\n\\n        \\n        {% block sw_cms_element_vimeo_video_config_portrait %}\\n        <sw-switch-field\\n            {% if VUE3 %}\\n            v-model:value=\\\"element.config.portrait.value\\\"\\n            {% else %}\\n            v-model=\\\"element.config.portrait.value\\\"\\n            {% endif %}\\n            :label=\\\"$tc('sw-cms.elements.vimeoVideo.config.label.showPortrait')\\\"\\n        />\\n        {% endblock %}\\n\\n        \\n        {% block sw_cms_element_vimeo_video_config_title %}\\n        <sw-switch-field\\n            {% if VUE3 %}\\n            v-model:value=\\\"element.config.title.value\\\"\\n            {% else %}\\n            v-model=\\\"element.config.title.value\\\"\\n            {% endif %}\\n            :label=\\\"$tc('sw-cms.elements.vimeoVideo.config.label.showTitle')\\\"\\n        />\\n        {% endblock %}\\n\\n    </div>\\n    {% endblock %}\\n\\n    \\n    {% block sw_cms_element_vimeo_video_config_needs_confirmation %}\\n    <div class=\\\"sw-cms-el-config-vimeo-video__confirmation\\\">\\n        <sw-switch-field\\n            {% if VUE3 %}\\n            v-model:value=\\\"element.config.needsConfirmation.value\\\"\\n            {% else %}\\n            v-model=\\\"element.config.needsConfirmation.value\\\"\\n            {% endif %}\\n            :label=\\\"$tc('sw-cms.elements.vimeoVideo.config.label.needsConfirmation')\\\"\\n        />\\n    </div>\\n    {% endblock %}\\n\\n    \\n    {% block sw_cms_element_vimeo_video_config_preview_media %}\\n    <sw-cms-mapping-field\\n        v-if=\\\"element.config.needsConfirmation.value\\\"\\n        {% if VUE3 %}\\n        v-model:config=\\\"element.config.previewMedia\\\"\\n        {% else %}\\n        v-model=\\\"element.config.previewMedia\\\"\\n        {% endif %}\\n        :label=\\\"$tc('sw-cms.elements.vimeoVideo.config.label.previewImage')\\\"\\n        value-types=\\\"entity\\\"\\n        entity=\\\"media\\\"\\n    >\\n        <sw-media-upload-v2\\n            variant=\\\"regular\\\"\\n            :upload-tag=\\\"uploadTag\\\"\\n            :source=\\\"previewSource\\\"\\n            :allow-multi-select=\\\"false\\\"\\n            :default-folder=\\\"cmsPageState.pageEntityName\\\"\\n            :caption=\\\"$tc('sw-cms.elements.general.config.caption.mediaUpload')\\\"\\n            @media-upload-sidebar-open=\\\"onOpenMediaModal\\\"\\n            @media-upload-remove-image=\\\"onImageRemove\\\"\\n        />\\n\\n        \\n        {% block sw_cms_element_vimeo_video_config_preview_media_display %}\\n        <template #preview=\\\"{ demoValue }\\\">\\n            <div class=\\\"sw-cms-el-config-image__mapping-preview\\\">\\n                <img\\n                    v-if=\\\"demoValue.url\\\"\\n                    :src=\\\"demoValue.url\\\"\\n                    alt=\\\"\\\"\\n                >\\n                <sw-alert\\n                    v-else\\n                    class=\\\"sw-cms-el-config-image__preview-info\\\"\\n                    variant=\\\"info\\\"\\n                >\\n                    {{ $tc('sw-cms.detail.label.mappingEmptyPreview') }}\\n                </sw-alert>\\n            </div>\\n        </template>\\n        {% endblock %}\\n    </sw-cms-mapping-field>\\n\\n    \\n    {% block sw_cms_element_vimeo_video_config_preview_media_upload_listener %}\\n    <sw-upload-listener\\n        :upload-tag=\\\"uploadTag\\\"\\n        auto-upload\\n        @media-upload-finish=\\\"onImageUpload\\\"\\n    />\\n    {% endblock %}\\n\\n    \\n    {% block sw_cms_element_vimeo_video_config_preview_media_modal %}\\n    <sw-media-modal-v2\\n        v-if=\\\"mediaModalIsOpen\\\"\\n        variant=\\\"regular\\\"\\n        :caption=\\\"$tc('sw-cms.elements.general.config.caption.mediaUpload')\\\"\\n        :entity-context=\\\"cmsPageState.entityName\\\"\\n        :allow-multi-select=\\\"false\\\"\\n        :initial-folder-id=\\\"cmsPageState.defaultMediaFolderId\\\"\\n        @media-upload-remove-image=\\\"onImageRemove\\\"\\n        @media-modal-selection-change=\\\"onSelectionChanges\\\"\\n        @modal-close=\\\"onCloseModal\\\"\\n    />\\n    {% endblock %}\\n    {% endblock %}\\n</div>\\n{% endblock %}\\n\";","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--15-1!../../../../../../node_modules/css-loader/dist/cjs.js??ref--15-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--15-3!./sw-cms-el-config-vimeo-video.scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"5388f592\", content, true, {});"],"sourceRoot":""}