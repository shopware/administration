(this.webpackJsonpAdministration=this.webpackJsonpAdministration||[]).push([[316],{EARg:function(e,n,t){"use strict";t.r(n);var o=t("6lmj"),s=t.n(o),r=t("7yzw"),i=t.n(r),a=t("92Mt"),d=t.n(a),l=(t("G+xB"),Shopware),c=l.Component,p=l.State,h=Shopware.Data.Criteria;n.default=c.wrapComponentConfig({template:'\n{% block sw_order_create_options %}\n<div class="sw-order-create-options">\n    \n    {% block sw_order_create_options_container %}\n    \n    {% block sw_order_create_options_order %}\n    \n    {% block sw_order_create_options_order_headline %}\n    <h3 class="sw-order-create-options__headline">\n        {{ $tc(\'sw-order.initialModal.options.textHeadlineOrder\') }}\n    </h3>\n    {% endblock %}\n\n    \n    {% block sw_order_create_options_order_switch_disable_auto_promotion %}\n    <sw-switch-field\n        class="sw-order-create-options__disable-auto-promotion"\n        :value="disabledAutoPromotion"\n        :label="$tc(\'sw-order.createBase.labelToggleAutomaticPromotions\')"\n        {% if VUE3 %}\n        @update:value="onToggleAutoPromotion"\n        {% else %}\n        @change="onToggleAutoPromotion"\n        {% endif %}\n    />\n    {% endblock %}\n\n    \n    {% block sw_order_create_options_order_field_container %}\n    <sw-container\n        class="sw-order-create-options__order-container"\n        gap="0px 32px"\n        columns="1fr 1fr"\n    >\n        \n        {% block sw_order_create_options_order_language %}\n        <sw-entity-single-select\n            {% if VUE3 %}\n            v-model:value="context.languageId"\n            {% else %}\n            v-model="context.languageId"\n            {% endif %}\n            entity="language"\n            class="sw-order-create-options__order-language"\n            :criteria="salesChannelCriteria"\n            :label="$tc(\'sw-order.createBase.labelOrderLanguage\')"\n            :placeholder="$tc(\'sw-order.createBase.placeholderOrderLanguage\')"\n            show-clearable-button\n        />\n        {% endblock %}\n\n        \n        {% block sw_order_create_options_promotions %}\n        <sw-multi-tag-select\n            class="sw-order-create-options__promotion-code"\n            :value="promotionCodes"\n            :label="$tc(\'sw-order.createBase.labelPromotions\')"\n            :validate="validatePromotions"\n            {% if VUE3 %}\n            @update:value="changePromotionCodes"\n            {% else %}\n            @change="changePromotionCodes"\n            {% endif %}\n        >\n            <template #message-add-data>\n                <span>{{ $tc(\'sw-order.initialModal.options.placeholderAddPromotion\') }}</span>\n            </template>\n            <template #message-enter-valid-data>\n                <span>{{ $tc(\'sw-order.createBase.placeholderAddPromotion\') }}</span>\n            </template>\n        </sw-multi-tag-select>\n        {% endblock %}\n    </sw-container>\n    {% endblock %}\n    {% endblock %}\n\n    \n    {% block sw_order_create_options_payment %}\n    \n    {% block sw_order_create_options_payment_headline %}\n    <h3>{{ $tc(\'sw-order.initialModal.options.textHeadlinePayment\') }}</h3>\n    {% endblock %}\n\n    \n    {% block sw_order_create_options_payment_container %}\n    <sw-container\n        class="sw-order-create-options__payment-container"\n        gap="0px 32px"\n        columns="1fr 1fr"\n    >\n        \n        {% block sw_order_create_options_payment_method %}\n        <sw-entity-single-select\n            {% if VUE3 %}\n            v-model:value="context.paymentMethodId"\n            {% else %}\n            v-model="context.paymentMethodId"\n            {% endif %}\n            entity="payment_method"\n            label-property="distinguishableName"\n            class="sw-order-create-options__payment-method"\n            :criteria="paymentMethodCriteria"\n            :label="$tc(\'sw-order.createBase.labelPaymentMethod\')"\n            :placeholder="$tc(\'sw-order.createBase.placeholderPaymentMethod\')"\n            show-clearable-button\n        />\n        {% endblock %}\n\n        \n        {% block sw_order_create_options_billing_address %}\n        <sw-order-customer-address-select\n            {% if VUE3 %}\n            v-model:value="context.billingAddressId"\n            {% else %}\n            v-model="context.billingAddressId"\n            {% endif %}\n            class="sw-order-create-options__billing-address"\n            :label="$tc(\'sw-order.createBase.labelBillingAddress\')"\n            :placeholder="$tc(\'sw-order.createBase.placeholderBillingAddress\')"\n            :same-address-value="context.shippingAddressId"\n            :customer="customer"\n        />\n        {% endblock %}\n\n        \n        {% block sw_order_create_options_order_currency %}\n        <sw-entity-single-select\n            {% if VUE3 %}\n            v-model:value="context.currencyId"\n            {% else %}\n            v-model="context.currencyId"\n            {% endif %}\n            class="sw-order-create-options__currency-select"\n            entity="currency"\n            :criteria="salesChannelCriteria"\n            :label="$tc(\'sw-order.createBase.labelCurrency\')"\n            :placeholder="$tc(\'sw-order.createBase.placeholderCurrency\')"\n            show-clearable-button\n        />\n        {% endblock %}\n    </sw-container>\n    {% endblock %}\n    {% endblock %}\n\n    \n    {% block sw_order_create_options_shipment %}\n    \n    {% block sw_order_create_options_shipment_headline %}\n    <h3>{{ $tc(\'sw-order.initialModal.options.textHeadlineShipment\') }}</h3>\n    {% endblock %}\n\n    <sw-container\n        class="sw-order-create-options__shipping-container"\n        gap="0px 32px"\n        columns="1fr 1fr"\n    >\n        \n        {% block sw_order_create_options_shipping_method %}\n        <sw-entity-single-select\n            {% if VUE3 %}\n            v-model:value="context.shippingMethodId"\n            {% else %}\n            v-model="context.shippingMethodId"\n            {% endif %}\n            class="sw-order-create-options__shipping-method"\n            entity="shipping_method"\n            show-clearable-button\n            :criteria="shippingMethodCriteria"\n            :label="$tc(\'sw-order.createBase.labelShippingMethod\')"\n            :placeholder="$tc(\'sw-order.createBase.placeholderShippingMethod\')"\n        />\n        {% endblock %}\n\n        <sw-number-field\n            {% if VUE3 %}\n            v-model:value="shippingCost"\n            {% else %}\n            v-model="shippingCost"\n            {% endif %}\n            class="sw-order-create-options__shipping-cost"\n            :label="$tc(\'sw-order.initialModal.options.labelShippingCosts\')"\n            {% if VUE3 %}\n            @update:value="onChangeShippingCost"\n            {% else %}\n            @change="onChangeShippingCost"\n            {% endif %}\n        >\n            <template #suffix>\n                {{ currency.symbol }}\n            </template>\n        </sw-number-field>\n\n        <sw-switch-field\n            {% if VUE3 %}\n            v-model:value="isSameAsBillingAddress"\n            {% else %}\n            v-model="isSameAsBillingAddress"\n            {% endif %}\n            {% if VUE3 %}\n            name="sw-field--isSameAsBillingAddress"\n            {% endif %}\n            :label="$tc(\'sw-order.initialModal.options.labelSameAsBillingAddress\')"\n        />\n\n        \n        {% block sw_order_create_options_shipping_address %}\n        <sw-order-customer-address-select\n            {% if VUE3 %}\n            v-model:value="context.shippingAddressId"\n            {% else %}\n            v-model="context.shippingAddressId"\n            {% endif %}\n            class="sw-order-create-options__shipping-address"\n            :label="$tc(\'sw-order.createBase.labelShippingAddress\')"\n            :placeholder="$tc(\'sw-order.createBase.placeholderShippingAddress\')"\n            :same-address-label="$tc(\'sw-order.initialModal.options.textSameAsBillingAddress\')"\n            :same-address-value="context.billingAddressId"\n            :customer="customer"\n            :disabled="isSameAsBillingAddress"\n        />\n        {% endblock %}\n    </sw-container>\n    {% endblock %}\n    {% endblock %}\n</div>\n{% endblock %}\n',props:{promotionCodes:{type:Array,required:!0},disabledAutoPromotion:{type:Boolean,required:!0},context:{type:Object,required:!0}},data:function(){return{shippingCost:0,isSameAsBillingAddress:!1,promotionCodeTags:[]}},computed:{salesChannelId:function(){var e,n,t;return null!==(e=null===(n=p.get("swOrder").context)||void 0===n||null===(t=n.salesChannel)||void 0===t?void 0:t.id)&&void 0!==e?e:""},salesChannelCriteria:function(){var e=new h;return this.salesChannelId&&e.addFilter(h.equals("salesChannels.id",this.salesChannelId)),e},shippingMethodCriteria:function(){var e=new h;return e.addFilter(h.equals("active",1)),this.salesChannelId&&e.addFilter(h.equals("salesChannels.id",this.salesChannelId)),e},paymentMethodCriteria:function(){var e=new h;return e.addFilter(h.equals("active",1)),this.salesChannelId&&e.addFilter(h.equals("salesChannels.id",this.salesChannelId)),e},customer:function(){return p.get("swOrder").customer},currency:function(){return p.get("swOrder").context.currency},cart:function(){return p.get("swOrder").cart},cartDelivery:function(){var e;return null===(e=this.cart)||void 0===e?void 0:e.deliveries[0]}},watch:{cartDelivery:{immediate:!0,handler:function(e){var n,t;this.shippingCost=null!==(n=null==e||null===(t=e.shippingCosts)||void 0===t?void 0:t.totalPrice)&&void 0!==n?n:0}},"context.currencyId":{handler:function(){var e=this;return i()(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.updateCartContext();case 2:case"end":return n.stop()}}),n)})))()}},"context.shippingAddressId":{handler:function(){this.updateSameAsBillingAddressToggle()}},"context.billingAddressId":{handler:function(){this.updateSameAsBillingAddressToggle()}},"context.shippingMethodId":{handler:function(){var e=this;return i()(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.updateCartContext();case 2:case"end":return n.stop()}}),n)})))()}},"context.languageId":function(e){e&&p.commit("context/setLanguageId",e)},isSameAsBillingAddress:function(e){e&&(this.context.shippingAddressId=this.context.billingAddressId)}},created:function(){this.createdComponent()},methods:{updateSameAsBillingAddressToggle:function(){this.isSameAsBillingAddress=this.context.shippingAddressId===this.context.billingAddressId},createdComponent:function(){this.promotionCodeTags=s()(this.promotionCodes),this.isSameAsBillingAddress=this.context.shippingAddressId===this.context.billingAddressId},validatePromotions:function(e){var n=e.trim();return!(n.length<=0)&&!this.promotionCodes.find((function(e){return e===n}))},onToggleAutoPromotion:function(e){this.$emit("auto-promotion-toggle",e)},changePromotionCodes:function(e){this.$emit("promotions-change",e)},updateCartContext:function(){var e=this;return i()(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.salesChannelId){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,e.updateOrderContext();case 4:return n.next=6,e.loadCart();case 6:case"end":return n.stop()}}),n)})))()},updateOrderContext:function(){return p.dispatch("swOrder/updateOrderContext",{context:this.context,salesChannelId:this.salesChannelId,contextToken:this.cart.token})},loadCart:function(){return p.dispatch("swOrder/getCart",{salesChannelId:this.salesChannelId,contextToken:this.cart.token})},onChangeShippingCost:function(e){this.$emit("shipping-cost-change",e)}}})},"G+xB":function(e,n,t){var o=t("yY80");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,t("P8hj").default)("1e46572a",o,!0,{})},yY80:function(e,n,t){}}]);