{"version":3,"sources":["webpack:///./src/module/sw-category/component/sw-category-link-settings/sw-category-link-settings.html.twig","webpack:///./src/module/sw-category/component/sw-category-link-settings/index.js","webpack:///./src/module/sw-category/component/sw-category-link-settings/sw-category-link-settings.scss"],"names":["Criteria","Shopware","Data","template","inject","props","category","type","Object","required","isLoading","Boolean","default","data","categoriesCollection","computed","linkTypeValues","value","label","this","$tc","entityValues","mainType","get","isExternal","linkType","set","internalLink","externalLink","isInternal","productCriteria","criteria","addAssociation","categoryCriteria","addFilter","equals","internalLinkCriteria","categoryRepository","repositoryFactory","create","categoryLinkPlaceholder","created","createdComponent","methods","createCategoryCollection","changeEntity","_this","search","Context","api","then","result","onSelectionAdd","item","id","onSelectionRemove","content","__esModule","module","i","locals","exports","add"],"mappings":"qIAAe,ICGPA,EAAaC,SAASC,KAAtBF,SAMO,WACXG,SDVW,43ICYXC,OAAQ,CAAC,MAAO,qBAEhBC,MAAO,CACHC,SAAU,CACNC,KAAMC,OACNC,UAAU,GAGdC,UAAW,CACPH,KAAMI,QACNF,UAAU,EACVG,SAAS,IAIjBC,KAAI,WACA,MAAO,CACHC,qBAAsB,KAI9BC,SAAU,CACNC,eAAc,WACV,MAAO,CACH,CACIC,MAAO,WACPC,MAAOC,KAAKC,IAAI,wCAEpB,CACIH,MAAO,WACPC,MAAOC,KAAKC,IAAI,0CAK5BC,aAAY,WACR,MAAO,CACH,CACIJ,MAAO,WACPC,MAAOC,KAAKC,IAAI,6BAEpB,CACIH,MAAO,UACPC,MAAOC,KAAKC,IAAI,4BAEpB,CACIH,MAAO,eACPC,MAAOC,KAAKC,IAAI,mCAK5BE,SAAU,CACNC,IAAG,WACC,OAAIJ,KAAKK,aAAeL,KAAKb,SAASmB,SAC3BN,KAAKb,SAASmB,SAGlB,YAGXC,IAAG,SAACT,GACc,aAAVA,EACAE,KAAKb,SAASqB,aAAe,KAE7BR,KAAKb,SAASsB,aAAe,KAGjCT,KAAKb,SAASmB,SAAWR,IAIjCO,WAAU,WACN,MAAkC,aAA3BL,KAAKb,SAASmB,UAGzBI,WAAU,WACN,QAASV,KAAKb,SAASmB,UAAuC,aAA3BN,KAAKb,SAASmB,UAGrDK,gBAAe,WACX,IAAMC,EAAW,IAAI/B,EAAS,EAAG,IAGjC,OAFA+B,EAASC,eAAe,iBAEjBD,GAGXE,iBAAgB,WACZ,IAAMF,EAAW,IAAI/B,EAAS,EAAG,MAGjC,OAFA+B,EAASG,UAAUlC,EAASmC,OAAO,OAAQ,SAEpCJ,GAGXK,qBAAoB,WAChB,IAAML,EAAW,IAAI/B,EAAS,EAAG,IAGjC,OAFA+B,EAASG,UAAUlC,EAASmC,OAAO,KAAMhB,KAAKb,SAASqB,eAEhDI,GAGXM,mBAAkB,WACd,OAAOlB,KAAKmB,kBAAkBC,OAAO,aAGzCC,wBAAuB,WACnB,OAAOrB,KAAKb,SAASqB,aAAe,GAAKR,KAAKC,IAAI,+CAI1DqB,QAAO,WACHtB,KAAKuB,oBAGTC,QAAS,CACLD,iBAAgB,YACPvB,KAAKb,SAASmB,UAAYN,KAAKb,SAASsB,eACzCT,KAAKb,SAASmB,SAAW,YAG7BN,KAAKyB,4BAGTC,aAAY,WACH1B,KAAKb,SAASmB,WACfN,KAAKb,SAASmB,SAAW,YAG7BN,KAAKb,SAASqB,aAAe,MAGjCiB,yBAAwB,WAAI,IAADE,EAAA,KACvB3B,KAAKkB,mBACAU,OAAO5B,KAAKiB,qBAAsBnC,SAAS+C,QAAQC,KACnDC,MAAK,SAAAC,GACFL,EAAKhC,qBAAuBqC,MAIxCC,eAAc,SAACC,GACXlC,KAAKb,SAASqB,aAAe0B,EAAKC,IAGtCC,kBAAiB,WACbpC,KAAKb,SAASqB,aAAe,S,4CCzJzC,IAAI6B,EAAU,EAAQ,QACnBA,EAAQC,aAAYD,EAAUA,EAAQ5C,SACnB,iBAAZ4C,IAAsBA,EAAU,CAAC,CAACE,EAAOC,EAAIH,EAAS,MAC7DA,EAAQI,SAAQF,EAAOG,QAAUL,EAAQI,SAG/BE,EADH,EAAQ,QAAwElD,SACzE,WAAY4C,GAAS,EAAM","file":"static/js/3f369cfe660d44824480.js","sourcesContent":["export default \"{%  block sw_category_link_settings %}\\n<sw-card\\n    class=\\\"sw-category-link-settings\\\"\\n    position-identifier=\\\"sw-category-link-settings\\\"\\n    :title=\\\"$tc('sw-category.base.link.title')\\\"\\n    :is-loading=\\\"isLoading\\\"\\n>\\n    \\n    {% block sw_category_detail_link_type_select_main %}\\n    <sw-single-select\\n        {% if VUE3 %}\\n        v-model:value=\\\"mainType\\\"\\n        {% else %}\\n        v-model=\\\"mainType\\\"\\n        {% endif %}\\n        class=\\\"sw-category-link-settings__type\\\"\\n        :disabled=\\\"!acl.can('category.editor')\\\"\\n        :label=\\\"$tc('sw-category.base.link.mainTypeLabel')\\\"\\n        :placeholder=\\\"$tc('sw-category.base.link.mainTypePlaceholder')\\\"\\n        :options=\\\"linkTypeValues\\\"\\n        show-clearable-button\\n    />\\n    {% endblock %}\\n\\n    \\n    {% block sw_category_detail_link_type_select_entity %}\\n    <sw-single-select\\n        v-if=\\\"isInternal\\\"\\n        {% if VUE3 %}\\n        v-model:value=\\\"category.linkType\\\"\\n        {% else %}\\n        v-model=\\\"category.linkType\\\"\\n        {% endif %}\\n        class=\\\"sw-category-link-settings__entity\\\"\\n        :disabled=\\\"!acl.can('category.editor')\\\"\\n        :label=\\\"$tc('sw-category.base.link.internalTypeLabel')\\\"\\n        :placeholder=\\\"$tc('sw-category.base.link.internalTypePlaceholder')\\\"\\n        :options=\\\"entityValues\\\"\\n        show-clearable-button\\n        {% if VUE3 %}\\n        @update:value=\\\"changeEntity\\\"\\n        {% else %}\\n        @change=\\\"changeEntity\\\"\\n        {% endif %}\\n    />\\n    {% endblock %}\\n\\n    \\n    {% block sw_category_detail_link_type_select_entity_category %}\\n    <template v-if=\\\"category.linkType === 'category'\\\">\\n        <sw-category-tree-field\\n            :categories-collection=\\\"categoriesCollection\\\"\\n            :placeholder=\\\"categoryLinkPlaceholder\\\"\\n            :category-criteria=\\\"categoryCriteria\\\"\\n            :single-select=\\\"true\\\"\\n            :label=\\\"$tc('global.entities.category')\\\"\\n            class=\\\"sw-category-link-settings__selection-category\\\"\\n            @selection-add=\\\"onSelectionAdd\\\"\\n            @selection-remove=\\\"onSelectionRemove\\\"\\n        />\\n    </template>\\n    {% endblock %}\\n\\n    \\n    {% block sw_category_detail_link_type_select_entity_product %}\\n    <sw-entity-single-select\\n        v-if=\\\"category.linkType === 'product'\\\"\\n        {% if VUE3 %}\\n        v-model:value=\\\"category.internalLink\\\"\\n        {% else %}\\n        v-model=\\\"category.internalLink\\\"\\n        {% endif %}\\n        class=\\\"sw-category-link-settings__selection-product\\\"\\n        :disabled=\\\"!acl.can('category.editor')\\\"\\n        :label=\\\"$tc('global.entities.product')\\\"\\n        :placeholder=\\\"$tc('sw-category.base.link.productPlaceholder')\\\"\\n        :criteria=\\\"productCriteria\\\"\\n        :display-variants=\\\"true\\\"\\n        entity=\\\"product\\\"\\n        show-clearable-button\\n    />\\n    {% endblock %}\\n\\n    \\n    {% block sw_category_detail_link_type_select_entity_landing_page %}\\n    <sw-entity-single-select\\n        v-if=\\\"category.linkType === 'landing_page'\\\"\\n        {% if VUE3 %}\\n        v-model:value=\\\"category.internalLink\\\"\\n        {% else %}\\n        v-model=\\\"category.internalLink\\\"\\n        {% endif %}\\n        class=\\\"sw-category-link-settings__selection-landing-page\\\"\\n        :disabled=\\\"!acl.can('category.editor')\\\"\\n        :label=\\\"$tc('global.entities.landing_page')\\\"\\n        :placeholder=\\\"$tc('sw-category.base.link.landingPagePlaceholder')\\\"\\n        entity=\\\"landing_page\\\"\\n        show-clearable-button\\n    />\\n    {% endblock %}\\n\\n    \\n    {% block sw_category_detail_link_field %}\\n    <sw-text-field\\n        v-if=\\\"isExternal\\\"\\n        {% if VUE3 %}\\n        v-model:value=\\\"category.externalLink\\\"\\n        {% else %}\\n        v-model=\\\"category.externalLink\\\"\\n        {% endif %}\\n        class=\\\"sw-category-link-settings__external-link\\\"\\n        :disabled=\\\"!acl.can('category.editor')\\\"\\n        :label=\\\"$tc('sw-category.base.link.linkLabel')\\\"\\n        :placeholder=\\\"$tc('sw-category.base.link.linkLabel')\\\"\\n    />\\n    {% endblock %}\\n\\n    \\n    {% block sw_category_detail_link_new_tab %}\\n    <sw-switch-field\\n        {% if VUE3 %}\\n        v-model:value=\\\"category.linkNewTab\\\"\\n        {% else %}\\n        v-model=\\\"category.linkNewTab\\\"\\n        {% endif %}\\n        class=\\\"sw-category-link-settings__link-new-tab\\\"\\n        :disabled=\\\"!acl.can('category.editor')\\\"\\n        :label=\\\"$tc('sw-category.base.link.linkNewTabLabel')\\\"\\n    />\\n    {% endblock %}\\n</sw-card>\\n{%  endblock %}\\n\";","import template from './sw-category-link-settings.html.twig';\nimport './sw-category-link-settings.scss';\n\nconst { Criteria } = Shopware.Data;\n\n/**\n * @package content\n */\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    inject: ['acl', 'repositoryFactory'],\n\n    props: {\n        category: {\n            type: Object,\n            required: true,\n        },\n\n        isLoading: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n    },\n\n    data() {\n        return {\n            categoriesCollection: [],\n        };\n    },\n\n    computed: {\n        linkTypeValues() {\n            return [\n                {\n                    value: 'external',\n                    label: this.$tc('sw-category.base.link.type.external'),\n                },\n                {\n                    value: 'internal',\n                    label: this.$tc('sw-category.base.link.type.internal'),\n                },\n            ];\n        },\n\n        entityValues() {\n            return [\n                {\n                    value: 'category',\n                    label: this.$tc('global.entities.category'),\n                },\n                {\n                    value: 'product',\n                    label: this.$tc('global.entities.product'),\n                },\n                {\n                    value: 'landing_page',\n                    label: this.$tc('global.entities.landing_page'),\n                },\n            ];\n        },\n\n        mainType: {\n            get() {\n                if (this.isExternal || !this.category.linkType) {\n                    return this.category.linkType;\n                }\n\n                return 'internal';\n            },\n\n            set(value) {\n                if (value === 'external') {\n                    this.category.internalLink = null;\n                } else {\n                    this.category.externalLink = null;\n                }\n\n                this.category.linkType = value;\n            },\n        },\n\n        isExternal() {\n            return this.category.linkType === 'external';\n        },\n\n        isInternal() {\n            return !!this.category.linkType && this.category.linkType !== 'external';\n        },\n\n        productCriteria() {\n            const criteria = new Criteria(1, 25);\n            criteria.addAssociation('options.group');\n\n            return criteria;\n        },\n\n        categoryCriteria() {\n            const criteria = new Criteria(1, null);\n            criteria.addFilter(Criteria.equals('type', 'page'));\n\n            return criteria;\n        },\n\n        internalLinkCriteria() {\n            const criteria = new Criteria(1, 25);\n            criteria.addFilter(Criteria.equals('id', this.category.internalLink));\n\n            return criteria;\n        },\n\n        categoryRepository() {\n            return this.repositoryFactory.create('category');\n        },\n\n        categoryLinkPlaceholder() {\n            return this.category.internalLink ? '' : this.$tc('sw-category.base.link.categoryPlaceholder');\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            if (!this.category.linkType && this.category.externalLink) {\n                this.category.linkType = 'external';\n            }\n\n            this.createCategoryCollection();\n        },\n\n        changeEntity() {\n            if (!this.category.linkType) {\n                this.category.linkType = 'internal';\n            }\n\n            this.category.internalLink = null;\n        },\n\n        createCategoryCollection() {\n            this.categoryRepository\n                .search(this.internalLinkCriteria, Shopware.Context.api)\n                .then(result => {\n                    this.categoriesCollection = result;\n                });\n        },\n\n        onSelectionAdd(item) {\n            this.category.internalLink = item.id;\n        },\n\n        onSelectionRemove() {\n            this.category.internalLink = null;\n        },\n    },\n};\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--15-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--15-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--15-3!./sw-category-link-settings.scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"2f605e3e\", content, true, {});"],"sourceRoot":""}