(this.webpackJsonpAdministration=this.webpackJsonpAdministration||[]).push([[589],{"Vj+b":function(e,t,n){"use strict";n.r(t);var o=n("HZZ/"),r=n.n(o),i=n("J58c"),a=n.n(i),l=n("hJxD"),p=n.n(l);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var d=Shopware.Component.getComponentHelper().mapPropertyErrors;t.default={template:'\n{% block sw_property_option_detail %}\n<sw-modal\n    :title="currentOption.name ? currentOption.name : $tc(\'sw-property.detail.textOptionHeadline\')"\n    @modal-close="onCancel"\n>\n    \n    {% block sw_property_option_detail_name %}\n    <sw-text-field\n        v-model="currentOption.name"\n        validation="required"\n        :label="$tc(\'sw-property.detail.labelOptionName\')"\n        :disabled="!allowEdit"\n        :placeholder="$tc(\'sw-property.detail.placeholderOptionName\')"\n        :error="currentOptionNameError"\n        required\n    />\n    {% endblock %}\n\n    \n    {% block sw_property_option_detail_position %}\n    <sw-number-field\n        v-model="currentOption.position"\n        pattern="[0-9]"\n        :step="1"\n        :disabled="!allowEdit"\n        :label="$tc(\'sw-property.detail.labelOptionPosition\')"\n        :placeholder="$tc(\'sw-property.detail.placeholderOptionPosition\')"\n    />\n    {% endblock %}\n\n    \n    {% block sw_property_option_detail_color %}\n    <sw-colorpicker\n        v-model="currentOption.colorHexCode"\n        color-output="hex"\n        :disabled="!allowEdit"\n        :label="$tc(\'sw-property.detail.labelOptionColor\')"\n        :z-index="1000"\n    />\n    {% endblock %}\n\n    \n    {% block sw_property_option_detail_media %}\n    <sw-upload-listener\n        :upload-tag="currentOption.id"\n        auto-upload\n        @media-upload-finish="successfulUpload"\n    />\n    <sw-media-compact-upload-v2\n        default-folder="product"\n        :label="$tc(\'sw-property.detail.labelMediaUpload\')"\n        :source="currentOption.mediaId"\n        :upload-tag="currentOption.id"\n        :disabled="!allowEdit"\n        @media-upload-remove-image="removeMedia"\n        @selection-change="setMedia"\n    />\n    {% endblock %}\n\n    \n    {% block sw_property_option_detail_footer %}\n    <template #modal-footer>\n        \n        {% block sw_property_option_detail_footer_cancel %}\n        <sw-button\n            size="small"\n            @click="onCancel"\n        >\n            {{ $tc(\'sw-property.detail.buttonCancel\') }}\n        </sw-button>\n        {% endblock %}\n\n        \n        {% block sw_property_option_detail_footer_save %}\n        <sw-button\n            v-tooltip.bottom="{\n                message: $tc(\'sw-privileges.tooltip.warning\'),\n                disabled: acl.can(\'property.editor\'),\n                showOnDisabledElements: true\n            }"\n            variant="primary"\n            size="small"\n            :disabled="!allowEdit"\n            @click="onSave"\n        >\n            {{ $tc(\'sw-property.detail.buttonApply\') }}\n        </sw-button>\n        {% endblock %}\n    </template>\n    {% endblock %}\n</sw-modal>\n{% endblock %}\n',inject:["repositoryFactory","acl"],props:{currentOption:{type:Object,default:function(){return{}}},allowEdit:{type:Boolean,required:!1,default:!0}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({mediaRepository:function(){return this.repositoryFactory.create("media")}},d("currentOption",["name"])),methods:{onCancel:function(){Shopware.State.dispatch("error/removeApiError",{expression:"property_group_option"}),this.$emit("cancel-option-edit",this.currentOption)},onSave:function(){this.$emit("save-option-edit",this.currentOption)},successfulUpload:function(e){var t=this;return r()(p.a.mark((function n(){var o;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.targetId,t.currentOption.mediaId=o,n.next=4,t.mediaRepository.get(o);case 4:case"end":return n.stop()}}),n)})))()},removeMedia:function(){this.currentOption.mediaId=null},setMedia:function(e){this.currentOption.mediaId=e[0].id}}}}}]);