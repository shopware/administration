{"version":3,"sources":["webpack:///./src/module/sw-cms/elements/image/component/sw-cms-el-image.scss","webpack:///./src/module/sw-cms/elements/image/component/index.js","webpack:///./src/module/sw-cms/elements/image/component/sw-cms-el-image.html.twig"],"names":["content","__esModule","default","module","i","locals","exports","add","_Shopware","Shopware","Mixin","Filter","template","inject","mixins","getByName","computed","displayModeClass","this","element","config","displayMode","value","concat","styles","minHeight","imgStyles","verticalAlign","horizontalAlign","_this$element$config$","mediaUrl","fallBackImageFileName","CMS","MEDIA","previewMountain","slice","lastIndexOf","staticFallBackImage","assetFilter","elemData","data","media","elemConfig","source","demoMedia","getDemoValue","url","_elemConfig$value$sli","_elemConfig$value","fileName","id","feature","isActive","Utils","createId","mediaConfigValue","_this$element","_this$element$config","_this$element$config$2","sliderItems","watch","cmsPageState","deep","handler","$forceUpdate","_this$element2","_this$element2$data","_this$element2$data$m","_this$element3","_this$element3$config","_this$element3$config2","mediaId","created","createdComponent","methods","initElementConfig","initElementData"],"mappings":"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","file":"static/js/78535f0e8ceb1dbf10f7.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--15-1!../../../../../../node_modules/css-loader/dist/cjs.js??ref--15-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--15-3!./sw-cms-el-image.scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"8d175f14\", content, true, {});","import CMS from '../../../constant/sw-cms.constant';\nimport template from './sw-cms-el-image.html.twig';\nimport './sw-cms-el-image.scss';\n\nconst { Mixin, Filter } = Shopware;\n\n/**\n * @private\n * @package buyers-experience\n */\nexport default {\n    template,\n\n    inject: ['feature'],\n\n    mixins: [\n        Mixin.getByName('cms-element'),\n    ],\n\n    computed: {\n        displayModeClass() {\n            if (this.element.config.displayMode.value === 'standard') {\n                return null;\n            }\n\n            return `is--${this.element.config.displayMode.value}`;\n        },\n\n        styles() {\n            return {\n                'min-height': this.element.config.displayMode.value === 'cover' &&\n                              this.element.config.minHeight.value &&\n                              this.element.config.minHeight.value !== 0 ? this.element.config.minHeight.value : '340px',\n            };\n        },\n\n        imgStyles() {\n            return {\n                'align-self': this.element.config.verticalAlign.value || null,\n            };\n        },\n\n        horizontalAlign() {\n            return {\n                'justify-content': this.element.config.horizontalAlign?.value || null,\n            };\n        },\n\n        mediaUrl() {\n            const fallBackImageFileName = CMS.MEDIA.previewMountain.slice(CMS.MEDIA.previewMountain.lastIndexOf('/') + 1);\n            const staticFallBackImage = this.assetFilter(`administration/static/img/cms/${fallBackImageFileName}`);\n            const elemData = this.element.data.media;\n            const elemConfig = this.element.config.media;\n\n            if (elemConfig.source === 'mapped') {\n                const demoMedia = this.getDemoValue(elemConfig.value);\n\n                if (demoMedia?.url) {\n                    return demoMedia.url;\n                }\n\n                return staticFallBackImage;\n            }\n\n            if (elemConfig.source === 'default') {\n                // use only the filename\n                const fileName = elemConfig.value?.slice(elemConfig.value.lastIndexOf('/') + 1) ?? '';\n                return this.assetFilter(`/administration/static/img/cms/${fileName}`);\n            }\n\n            if (elemData?.id) {\n                if (this.feature.isActive('MEDIA_PATH') || this.feature.isActive('v6.6.0.0')) {\n                    return this.element.data.media.url;\n                }\n\n                return `${this.element.data.media.url}?${Shopware.Utils.createId()}`;\n            }\n\n            if (elemData?.url) {\n                return this.assetFilter(elemConfig.url);\n            }\n\n            return staticFallBackImage;\n        },\n\n        assetFilter() {\n            return Filter.getByName('asset');\n        },\n\n        mediaConfigValue() {\n            return this.element?.config?.sliderItems?.value;\n        },\n    },\n\n    watch: {\n        cmsPageState: {\n            deep: true,\n            handler() {\n                this.$forceUpdate();\n            },\n        },\n\n        mediaConfigValue(value) {\n            const mediaId = this.element?.data?.media?.id;\n            const isSourceStatic = this.element?.config?.media?.source === 'static';\n\n            if (isSourceStatic && mediaId && value !== mediaId) {\n                this.element.config.media.value = mediaId;\n            }\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.initElementConfig('image');\n            this.initElementData('image');\n        },\n    },\n};\n","export default \"\\n{% block sw_cms_element_image %}\\n<div\\n    class=\\\"sw-cms-el-image\\\"\\n    :style=\\\"horizontalAlign\\\">\\n    <div\\n        class=\\\"sw-cms-el-image__content\\\"\\n        :class=\\\"displayModeClass\\\"\\n        :style=\\\"styles\\\"\\n    >\\n        \\n        {% block sw_cms_element_image_content %}\\n        <img\\n            :src=\\\"mediaUrl\\\"\\n            :style=\\\"imgStyles\\\"\\n            alt=\\\"\\\"\\n        >\\n        {% endblock %}\\n    </div>\\n</div>\\n{% endblock %}\\n\";"],"sourceRoot":""}