"use strict";(window.webpackJsonpAdministration=window.webpackJsonpAdministration||[]).push([[23046],{123046:function(e,a,n){n.r(a),n.d(a,{default:function(){return t}});var t={template:'\n{% block sw_seo_main_category %}\n<div class="sw-seo-main-category">\n    \n    {% block sw_seo_main_category_select %}\n    <sw-single-select\n        :options="categories"\n        label-property="translated.name"\n        value-property="id"\n        show-clearable-button\n        :placeholder="$tc(\'sw-seo-url.placeholderMainCategory\')"\n        :label="overwriteLabel ? undefined : $tc(\'sw-seo-url.labelMainCategory\')"\n        :value="selectedCategory"\n        :disabled="currentSalesChannelId === null || !allowEdit"\n        @update:value="onMainCategorySelected"\n    />\n    {% endblock %}\n</div>\n{% endblock %}\n',compatConfig:Shopware.compatConfig,inject:["repositoryFactory"],emits:["main-category-add"],props:{currentSalesChannelId:{type:String,required:!1,default:null},categories:{type:Array,required:!0},mainCategories:{type:Array,required:!0},isLoading:{type:Boolean,required:!1,default:!1},allowEdit:{type:Boolean,required:!1,default:!0},overwriteLabel:{type:Boolean,required:!1,default:!1}},data(){return{mainCategoryForSalesChannel:null}},computed:{mainCategoryRepository(){return this.repositoryFactory.create("main_category")},isHeadlessSalesChannel(){if(null===Shopware.State.get("swSeoUrl").salesChannelCollection)return!0;let e=Shopware.State.get("swSeoUrl").salesChannelCollection.find(e=>e.id===this.currentSalesChannelId);return null!==this.currentSalesChannelId&&"f183ee5650cf4bdb8a774337575067a6"===e.typeId},selectedCategory(){return null!==this.mainCategoryForSalesChannel?this.mainCategoryForSalesChannel.categoryId:null}},watch:{currentSalesChannelId(){this.refreshMainCategoryForSalesChannel()},mainCategories(){this.refreshMainCategoryForSalesChannel()}},created(){this.createdComponent()},methods:{createdComponent(){this.refreshMainCategoryForSalesChannel()},onMainCategorySelected(e){if(null===e)return;let a=this.categories.find(a=>a.id===e);if(null!==this.mainCategoryForSalesChannel){this.mainCategoryForSalesChannel.category=a,this.mainCategoryForSalesChannel.categoryId=a.id;return}let n=this.mainCategoryRepository.create();n.salesChannelId=this.currentSalesChannelId,n.category=a,n.categoryId=a.id,this.$emit("main-category-add",n),this.refreshMainCategoryForSalesChannel()},refreshMainCategoryForSalesChannel(){let e=this.mainCategories.find(e=>e.salesChannelId===this.currentSalesChannelId);if(void 0===e){this.mainCategoryForSalesChannel=null;return}this.mainCategoryForSalesChannel=e}}}}}]);