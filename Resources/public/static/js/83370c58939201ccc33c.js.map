{"version":3,"sources":["webpack:///./src/module/sw-sales-channel/component/sw-sales-channel-modal/sw-sales-channel-modal.scss","webpack:///./src/module/sw-sales-channel/component/sw-sales-channel-modal/sw-sales-channel-modal.html.twig","webpack:///./src/module/sw-sales-channel/component/sw-sales-channel-modal/index.js"],"names":["content","__esModule","default","module","i","locals","exports","add","Defaults","Shopware","Criteria","Data","template","inject","data","detailType","productStreamsExist","productStreamsLoading","computed","modalTitle","this","$tc","name","productStreamRepository","repositoryFactory","create","addChannelAction","_this","loading","salesChannelTypeId","isProductComparisonSalesChannelType","disabled","created","createdComponent","methods","_this2","search","then","result","total","onGridOpenDetails","onCloseModal","$emit","onAddChannel","id","$router","push","params","typeId","openRoute","route","productComparisonTypeId"],"mappings":"+HAGA,IAAIA,EAAU,EAAQ,QACnBA,EAAQC,aAAYD,EAAUA,EAAQE,SACnB,iBAAZF,IAAsBA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAC7DA,EAAQK,SAAQF,EAAOG,QAAUN,EAAQK,SAG/BE,EADH,EAAQ,QAAwEL,SACzE,WAAYF,GAAS,EAAM,K,mDCT7B,ICOPQ,EAAaC,SAAbD,SACAE,EAAaD,SAASE,KAAtBD,SAGO,WACXE,SDZW,urFCcXC,OAAQ,CAAC,qBAETC,KAAI,WACA,MAAO,CACHC,WAAY,KACZC,qBAAqB,EACrBC,uBAAuB,IAI/BC,SAAU,CACNC,WAAU,WACN,OAAIC,KAAKL,WACEK,KAAKC,IAAI,2CAA4C,EAAG,CAAEC,KAAMF,KAAKL,WAAWO,OAGpFF,KAAKC,IAAI,iCAGpBE,wBAAuB,WACnB,OAAOH,KAAKI,kBAAkBC,OAAO,mBAGzCC,iBAAgB,WAAI,IAADC,EAAA,KACf,MAAO,CACHC,QAAS,SAACC,GACN,OAAOF,EAAKG,oCAAoCD,IAC5CF,EAAKV,uBAGbc,SAAU,SAACF,GACP,OAAOF,EAAKG,oCAAoCD,KAC3CF,EAAKX,wBAM1BgB,QAAO,WACHZ,KAAKa,oBAGTC,QAAS,CACLD,iBAAgB,WAAI,IAADE,EAAA,KACff,KAAKH,uBAAwB,EAC7BG,KAAKG,wBAAwBa,OAAO,IAAI1B,EAAS,EAAG,IAAI2B,MAAK,SAACC,GACtDA,EAAOC,MAAQ,IACfJ,EAAKnB,qBAAsB,GAE/BmB,EAAKlB,uBAAwB,MAIrCuB,kBAAiB,SAACzB,GACdK,KAAKL,WAAaA,GAGtB0B,aAAY,WACRrB,KAAKsB,MAAM,gBAGfC,aAAY,SAACC,GACTxB,KAAKqB,eAEDG,GACAxB,KAAKyB,QAAQC,KAAK,CAAExB,KAAM,0BAA2ByB,OAAQ,CAAEC,OAAQJ,MAI/EK,UAAS,SAACC,GACN9B,KAAKqB,eAELrB,KAAKyB,QAAQC,KAAKI,IAGtBpB,oCAAmC,SAACD,GAChC,OAAOA,IAAuBrB,EAAS2C","file":"static/js/83370c58939201ccc33c.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--15-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--15-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--15-3!./sw-sales-channel-modal.scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"6ce4b732\", content, true, {});","export default \"\\n{% block sw_sales_channel_modal %}\\n<sw-modal\\n    class=\\\"sw-sales-channel-modal\\\"\\n    :title=\\\"$tc(modalTitle)\\\"\\n    @modal-close=\\\"onCloseModal\\\"\\n>\\n    \\n    {% block sw_sales_channel_modal_grid %}\\n    <sw-sales-channel-modal-grid\\n        v-if=\\\"!detailType\\\"\\n        :product-streams-exist=\\\"productStreamsExist\\\"\\n        :product-streams-loading=\\\"productStreamsLoading\\\"\\n        :add-channel-action=\\\"addChannelAction\\\"\\n        @grid-detail-open=\\\"onGridOpenDetails\\\"\\n        @grid-channel-add=\\\"onAddChannel\\\"\\n    />\\n    {% endblock %}\\n\\n    \\n    {% block sw_sales_channel_modal_detail %}\\n    <sw-sales-channel-modal-detail\\n        v-else\\n        :detail-type=\\\"detailType\\\"\\n    />\\n    {% endblock %}\\n\\n    \\n    {% block sw_sales_channel_modal_footer %}\\n    <template #modal-footer>\\n        <a\\n            href=\\\"#\\\"\\n            class=\\\"sw-sales-channel-modal__footer_left\\\"\\n            @click.prevent=\\\"openRoute({ name: 'sw.sales.channel.list' })\\\"\\n        >\\n            {{ $tc('sw-sales-channel.general.manageSalesChannels') }}\\n        </a>\\n\\n        \\n        {% block sw_sales_channel_modal_footer_detail_actions %}\\n        \\n        {% block sw_sales_channel_modal_footer_back %}\\n        <sw-button\\n            v-if=\\\"detailType\\\"\\n            size=\\\"small\\\"\\n            @click.prevent=\\\"detailType = false\\\"\\n        >\\n            {{ $tc('sw-sales-channel.modal.buttonBack') }}\\n        </sw-button>\\n        {% endblock %}\\n\\n        \\n        {% block sw_sales_channel_modal_footer_add_channel %}\\n        <sw-button\\n            v-if=\\\"detailType\\\"\\n            v-tooltip=\\\"{\\n                message: $tc('sw-sales-channel.modal.messageNoProductStreams'),\\n                showOnDisabledElements: true,\\n                disabled: !addChannelAction.disabled(detailType.id)\\n            }\\\"\\n            class=\\\"sw-sales-channel-modal__add-sales-channel-action\\\"\\n            variant=\\\"primary\\\"\\n            size=\\\"small\\\"\\n            :is-loading=\\\"addChannelAction.loading(detailType.id)\\\"\\n            :disabled=\\\"addChannelAction.disabled(detailType.id)\\\"\\n            @click=\\\"onAddChannel(detailType.id)\\\"\\n        >\\n            {{ $tc('sw-sales-channel.modal.buttonAddChannel') }}\\n        </sw-button>\\n        {% endblock %}\\n        {% endblock %}\\n\\n        \\n        {% block sw_sales_channel_modal_footer_actions %}\\n        \\n        {% block sw_sales_channel_modal_footer_cancel %}\\n        <sw-button\\n            v-if=\\\"!detailType\\\"\\n            size=\\\"small\\\"\\n            @click=\\\"onCloseModal\\\"\\n        >\\n            {{ $tc('sw-sales-channel.modal.buttonCancel') }}\\n        </sw-button>\\n        {% endblock %}\\n        {% endblock %}\\n    </template>\\n    {% endblock %}\\n</sw-modal>\\n{% endblock %}\\n\";","/**\n * @package buyers-experience\n */\n\nimport template from './sw-sales-channel-modal.html.twig';\nimport './sw-sales-channel-modal.scss';\n\nconst { Defaults } = Shopware;\nconst { Criteria } = Shopware.Data;\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    inject: ['repositoryFactory'],\n\n    data() {\n        return {\n            detailType: null,\n            productStreamsExist: false,\n            productStreamsLoading: false,\n        };\n    },\n\n    computed: {\n        modalTitle() {\n            if (this.detailType) {\n                return this.$tc('sw-sales-channel.modal.titleDetailPrefix', 0, { name: this.detailType.name });\n            }\n\n            return this.$tc('sw-sales-channel.modal.title');\n        },\n\n        productStreamRepository() {\n            return this.repositoryFactory.create('product_stream');\n        },\n\n        addChannelAction() {\n            return {\n                loading: (salesChannelTypeId) => {\n                    return this.isProductComparisonSalesChannelType(salesChannelTypeId) &&\n                        this.productStreamsLoading;\n                },\n\n                disabled: (salesChannelTypeId) => {\n                    return this.isProductComparisonSalesChannelType(salesChannelTypeId) &&\n                        !this.productStreamsExist;\n                },\n            };\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.productStreamsLoading = true;\n            this.productStreamRepository.search(new Criteria(1, 1)).then((result) => {\n                if (result.total > 0) {\n                    this.productStreamsExist = true;\n                }\n                this.productStreamsLoading = false;\n            });\n        },\n\n        onGridOpenDetails(detailType) {\n            this.detailType = detailType;\n        },\n\n        onCloseModal() {\n            this.$emit('modal-close');\n        },\n\n        onAddChannel(id) {\n            this.onCloseModal();\n\n            if (id) {\n                this.$router.push({ name: 'sw.sales.channel.create', params: { typeId: id } });\n            }\n        },\n\n        openRoute(route) {\n            this.onCloseModal();\n\n            this.$router.push(route);\n        },\n\n        isProductComparisonSalesChannelType(salesChannelTypeId) {\n            return salesChannelTypeId === Defaults.productComparisonTypeId;\n        },\n    },\n};\n"],"sourceRoot":""}