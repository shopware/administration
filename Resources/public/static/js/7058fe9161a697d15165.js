(window.webpackJsonpAdministration=window.webpackJsonpAdministration||[]).push([[35631],{782439:function(){},635631:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}}),n(346573);let{Criteria:i}=Shopware.Data;var a={template:'\n{% block sw_product_stream_value %}\n<div\n    class="sw-product-stream-value"\n    :class="componentClasses"\n>\n\n    <template v-if="!fieldDefinition">\n        \n        {% block sw_product_stream_value_no_definition_placeholder %}\n        <sw-container class="sw-product-stream-value__placeholder" />\n        {% endblock %}\n    </template>\n\n    <template v-else-if="fieldType === \'boolean\'">\n        \n        {% block sw_product_stream_value_boolean_value %}\n        <sw-single-select\n            class="sw-product-stream-value__select"\n            size="medium"\n            :options="booleanOptions"\n            :value="condition.value"\n            :disabled="disabled"\n            show-clearable-button\n            @update:value="setBooleanValue"\n        />\n        {% endblock %}\n    </template>\n\n    <template v-else-if="fieldType === \'empty\'">\n        \n        {% block sw_product_stream_value_empty_value %}\n        <sw-single-select\n            v-model:value="emptyValue"\n            name="sw-field--emptyValue"\n            class="sw-product-stream-value__select"\n            size="medium"\n            :options="reversedEmptyOptions"\n            :disabled="disabled"\n            show-clearable-button\n        />\n        {% endblock %}\n    </template>\n\n    <template v-else>\n        \n        {% block sw_product_stream_value_operator_select %}\n        <sw-arrow-field\n            class="sw-product-stream-value__operator-select"\n            :disabled="!acl.can(\'product_stream.editor\')"\n        >\n            <sw-single-select\n                v-model:value="filterType"\n                name="sw-field--filterType"\n                size="medium"\n                :options="operators"\n                :placeholder="$tc(\'sw-product-stream.filter.placeholderOperatorSelect\')"\n                :disabled="disabled"\n                show-clearable-button\n            />\n        </sw-arrow-field>\n        {% endblock %}\n\n        <template v-if="fieldType === \'product_state_list\'">\n            <sw-single-select\n                v-model:value="actualCondition.value"\n                :options="productStateOptions"\n                :disabled="disabled"\n            />\n        </template>\n\n        <template v-else-if="isEntityCustomField(fieldName)">\n            {% block sw_product_stream_value_entity_single_value_custom_field %}\n            <sw-entity-single-select\n                v-if="!isMultiSelectValue"\n                v-model:value="actualCondition.value"\n                size="medium"\n                :entity="getCustomFieldEntityName(fieldName)"\n                :criteria="isProductEntity ? productCriteria : customFieldCriteria"\n                :context="context"\n                :disabled="disabled"\n                :display-variants="isProductEntity"\n                show-clearable-button\n                @select-collapsed="onSelectCollapsed"\n                @search-term-change="setSearchTerm"\n            >\n                <template #selection-label-property="{ item }">\n                    <slot\n                        name="selection-label-property"\n                        v-bind="{ item }"\n                    >\n                        {{ item.translated?.name || item.name }}\n                    </slot>\n                </template>\n            </sw-entity-single-select>\n            {% endblock %}\n\n            {% block sw_product_stream_value_entity_multi_value_custom_field %}\n            <sw-entity-multi-id-select\n                v-else-if="isMultiSelectValue"\n                v-model:value="multiValue"\n                size="medium"\n                :repository="entityCustomFieldRepository"\n                :criteria="customFieldCriteria"\n                :context="context"\n                :disabled="disabled"\n                @select-collapsed="onSelectCollapsed"\n                @search-term-change="setSearchTerm"\n            >\n                <template #result-label-property="{ item, searchTerm, highlightSearchTerm }">\n                    <slot\n                        name="result-label-property"\n                        v-bind="{ item, searchTerm, highlightSearchTerm }"\n                    >\n                        <sw-product-variant-info\n                            v-if="isProductEntity"\n                            highlighted\n                            :variations="item.variation"\n                            :search-term="searchTerm"\n                        >\n                            {{ item.translated?.name || item.name }}\n                        </sw-product-variant-info>\n                        <template v-else>\n                            {{ item.translated?.name || item.name }}\n                        </template>\n                    </slot>\n                </template>\n            </sw-entity-multi-id-select>\n            {% endblock %}\n        </template>\n\n        <template v-else-if="fieldType === \'uuid\'">\n            \n            {% block sw_product_stream_value_entity_single_value %}\n            <sw-entity-single-select\n                v-if="definition.entity === \'product\' && actualCondition.type === \'equals\'"\n                v-model:value="actualCondition.value"\n                size="medium"\n                show-clearable-button\n                :entity="definition.entity"\n                :criteria="productCriteria"\n                :context="context"\n                :disabled="disabled"\n                advanced-selection-component="sw-advanced-selection-product"\n            >\n                <template #selection-label-property="{ item }">\n                    <slot\n                        name="selection-label-property"\n                        v-bind="{ item }"\n                    >\n                        \n                        {% block sw_product_stream_value_results_variant_info %}\n                        <sw-product-variant-info\n                            :variations="item.variation"\n                        >\n                            {{ item.translated.name || item.name }}\n                        </sw-product-variant-info>\n                        {% endblock %}\n                    </slot>\n                </template>\n\n                <template #result-item="{ item, index }">\n                    <slot\n                        name="result-item"\n                        v-bind="{ item, index }"\n                    >\n                        <sw-select-result\n                            v-bind="{ item, index }"\n                        >\n                            \n                            {% block sw_product_stream_value_results_list_result_label %}\n                            <span class="sw-select-result__result-item-text">\n                                <sw-product-variant-info\n                                    :variations="item.variation"\n                                >\n                                    {{ item.translated.name || item.name }}\n                                </sw-product-variant-info>\n                            </span>\n                            {% endblock %}\n                        </sw-select-result>\n                    </slot>\n                </template>\n            </sw-entity-single-select>\n\n            <sw-entity-single-select\n                v-else-if="definition.entity === \'property_group_option\' && actualCondition.type === \'equals\'"\n                v-model:value="actualCondition.value"\n                size="medium"\n                :entity="definition.entity"\n                :criteria="propertyCriteria"\n                :context="context"\n                :disabled="disabled"\n                show-clearable-button\n                @select-collapsed="onSelectCollapsed"\n                @search-term-change="setSearchTerm"\n            >\n\n                <template #selection-label-property="{ item }">\n                    <slot\n                        name="selection-label-property"\n                        v-bind="{ item }"\n                    >\n                        {{ item.group.translated.name || item.group.name }}: {{ item.translated.name || item.name }}\n                    </slot>\n                </template>\n\n                <template #result-description-property="{ item }">\n                    <slot\n                        name="result-description-property"\n                        v-bind="{ item }"\n                    >\n                        {{ item.group.translated.name || item.group.name }}\n                    </slot>\n                </template>\n            </sw-entity-single-select>\n\n            \n            {% block sw_product_stream_value_entity_single_value_visibilities %}\n            <sw-entity-single-select\n                v-else-if="definition.entity === \'product_visibility\' && actualCondition.type === \'equals\'"\n                v-model:value="actualCondition.value"\n                size="medium"\n                :entity="definition.entity"\n                :criteria="visibilitiesCriteria"\n                :label-callback="visibilitiesLabelCallback"\n                :context="context"\n                :disabled="disabled"\n                show-clearable-button\n                @search-term-change="setSearchTerm"\n            />\n            {% endblock %}\n\n            <sw-entity-single-select\n                v-else-if="actualCondition.type === \'equals\'"\n                v-model:value="actualCondition.value"\n                size="medium"\n                :entity="definition.entity"\n                :context="context"\n                :disabled="disabled"\n                description-position="bottom"\n                show-clearable-button\n            >\n                <template #result-description-property="{ item }">\n                    \n                    {% block sw_product_stream_value_equals_result_label %}\n                    <slot\n                        v-if="definition.entity === \'category\'"\n                        name="result-description-property"\n                        v-bind="{ item }"\n                    >\n                        \n                        {% block sw_product_stream_value_equals_result_label_default %}\n                        {{ getCategoryBreadcrumb(item) }}\n                        {% endblock %}\n                    </slot>\n                    {% endblock %}\n                </template>\n            </sw-entity-single-select>\n            {% endblock %}\n\n            \n            {% block sw_product_stream_value_entity_multi_value %}\n            <sw-entity-multi-id-select\n                v-else-if="definition.entity === \'property_group_option\' && (actualCondition.type === \'equalsAny\' || actualCondition.type === \'equalsAll\')"\n                v-model:value="multiValue"\n                size="medium"\n                :repository="repository"\n                :criteria="propertyCriteria"\n                :context="context"\n                :disabled="disabled"\n                @select-collapsed="onSelectCollapsed"\n                @search-term-change="setSearchTerm"\n            >\n\n                <template #selection-label-property="{ item }">\n                    <slot\n                        name="selection-label-property"\n                        v-bind="{ item }"\n                    >\n                        {{ item.group.translated.name || item.group.name }}: {{ item.translated.name || item.name }}\n                    </slot>\n                </template>\n\n                <template #result-label-property="{ item, searchTerm, highlightSearchTerm }">\n                    <slot\n                        name="result-label-property"\n                        v-bind="{ item, searchTerm, highlightSearchTerm }"\n                    >\n                        {{ item.translated.name || item.name }}\n                    </slot>\n                </template>\n\n                <template #result-description-property="{ item, searchTerm, highlightSearchTerm }">\n                    <slot\n                        name="result-description-property"\n                        v-bind="{ item, searchTerm, highlightSearchTerm }"\n                    >\n                        {{ item.group.translated.name || item.group.name }}\n                    </slot>\n                </template>\n            </sw-entity-multi-id-select>\n\n            <sw-entity-multi-id-select\n                v-else-if="definition.entity === \'product\' && (actualCondition.type === \'equalsAny\' || actualCondition.type === \'equalsAll\')"\n                v-model:value="multiValue"\n                size="medium"\n                :repository="repository"\n                :criteria="productCriteria"\n                :context="context"\n                :disabled="disabled"\n                advanced-selection-component="sw-advanced-selection-product"\n            >\n                <template #selection-label-property="{ item }">\n                    <slot\n                        name="selection-label-property"\n                        v-bind="{ item }"\n                    >\n                        <sw-product-variant-info\n                            class="product-view"\n                            :variations="item.variation"\n                        >\n                            {{ item.translated.name || item.name }}\n                        </sw-product-variant-info>\n                    </slot>\n                </template>\n\n                <template #result-label-property="{ item, index }">\n                    <slot\n                        name="result-label-property"\n                        v-bind="{ item, index }"\n                    >\n                        \n                        {% block sw_product_stream_value_results_list_result_label %}\n                        <span class="sw-select-result__result-item-text">\n                            <sw-product-variant-info :variations="item.variation">\n                                {{ item.translated.name || item.name }}\n                            </sw-product-variant-info>\n                        </span>\n                        {% endblock %}\n                    </slot>\n                </template>\n            </sw-entity-multi-id-select>\n\n            \n            {% block sw_product_stream_value_entity_multi_value_visibilities %}\n            <sw-entity-multi-id-select\n                v-else-if="definition.entity === \'product_visibility\' && (actualCondition.type === \'equalsAny\' || actualCondition.type === \'equalsAll\')"\n                v-model:value="multiValue"\n                size="medium"\n                :repository="repository"\n                :criteria="visibilitiesCriteria"\n                :context="context"\n                :disabled="disabled"\n                @search-term-change="setSearchTerm"\n            >\n                <template #selection-label-property="{ item }">\n                    <slot\n                        name="selection-label-property"\n                        v-bind="{ item }"\n                    >\n                        {{ item.salesChannel.translated.name }}: {{ item.product.translated.name }}\n                    </slot>\n                </template>\n\n                <template #result-label-property="{ item, searchTerm, highlightSearchTerm }">\n                    <slot\n                        name="result-label-property"\n                        v-bind="{ item, searchTerm, highlightSearchTerm }"\n                    >\n                        {{ item.salesChannel.translated.name }}: {{ item.product.translated.name }}\n                    </slot>\n                </template>\n            </sw-entity-multi-id-select>\n            {% endblock %}\n\n            <sw-entity-multi-id-select\n                v-else-if="isMultiSelectValue"\n                v-model:value="multiValue"\n                size="medium"\n                description-position="bottom"\n                :repository="repository"\n                :context="context"\n                :disabled="disabled"\n                :advanced-selection-component="definition.entity === \'product\' ? \'sw-advanced-selection-product\' : \'\'"\n            >\n                <template #result-description-property="{ item }">\n                    \n                    {% block sw_product_stream_value_multi_select_result_label %}\n                    <slot\n                        v-if="definition.entity === \'category\'"\n                        name="result-description-property"\n                        v-bind="{ item }"\n                    >\n                        \n                        {% block sw_product_stream_value_multi_select_result_label_default %}\n                        {{ getCategoryBreadcrumb(item) }}\n                        {% endblock %}\n                    </slot>\n                    {% endblock %}\n                </template>\n            </sw-entity-multi-id-select>\n            {% endblock %}\n\n            \n            {% block sw_product_stream_value_entity_no_operator_selected_placeholder %}\n            <sw-container\n                v-else\n                class="sw-product-stream-value__placeholder"\n            />\n            {% endblock %}\n        </template>\n\n        <template v-else-if="getConditionType(condition) === \'range\'">\n            \n            {% block sw_product_stream_value_range_value %}\n            <template v-if="filterType === \'range\'">\n                \n                {% block sw_product_stream_value_range_from_value %}\n                <sw-arrow-field :disabled="disabled">\n                    <component\n                        :is="inputComponent"\n                        v-model:value="gte"\n                        size="medium"\n                        :disabled="disabled"\n                    />\n                </sw-arrow-field>\n                {% endblock %}\n\n                \n                {% block sw_product_stream_value_range_to_value %}\n                <component\n                    :is="inputComponent"\n                    v-model:value="lte"\n                    size="medium"\n                    :disabled="disabled"\n                />\n                {% endblock %}\n            </template>\n\n            <template v-else>\n                \n                {% block sw_product_stream_value_range_one_limit %}\n                <component\n                    :is="inputComponent"\n                    v-model:value="currentParameter"\n                    size="medium"\n                    :disabled="disabled"\n                />\n                {% endblock %}\n            </template>\n            {% endblock %}\n        </template>\n\n        \n        <template v-else-if="actualCondition.type === \'equalsAny\'">\n            \n            {% block sw_product_stream_value_multi_value %}\n            <sw-tagged-field\n                v-model:value="multiValue"\n                size="medium"\n            />\n            {% endblock %}\n        </template>\n\n        <template v-else-if="filterType === \'since\' || filterType === \'until\'">\n            \n            {% block sw_product_stream_value_relative_time_operator %}\n            <sw-arrow-field :disabled="disabled">\n                <sw-single-select\n                    v-model:value="operator"\n                    size="medium"\n                    :options="relativeTimeOperators"\n                    :placeholder="$tc(\'sw-product-stream.filter.placeholderOperatorSelect\')"\n                    :disabled="disabled"\n                />\n            </sw-arrow-field>\n            {% endblock %}\n\n            \n            {% block sw_product_stream_value_relative_time_value %}\n            <sw-number-field\n                v-model:value="stringValue"\n                class="sw-product-stream-value__time-input"\n                size="medium"\n                number-type="int"\n                :min="0"\n                :step="1"\n                :disabled="disabled"\n            >\n                <template #suffix>\n                    <span>{{ $tc(\'sw-product-stream.filter.timeUnits.days\') }}</span>\n                </template>\n            </sw-number-field>\n            {% endblock %}\n        </template>\n\n        <template v-else>\n            \n            {% block sw_product_stream_value_single_value %}\n            <component\n                :is="inputComponent"\n                v-model:value="stringValue"\n                size="medium"\n                :disabled="disabled"\n            />\n            {% endblock %}\n        </template>\n    </template>\n</div>\n{% endblock %}\n',inject:["repositoryFactory","conditionDataProviderService","productCustomFields","acl","feature"],props:{condition:{type:Object,required:!0},fieldName:{type:String,required:!1,default:null},definition:{type:Object,required:!0},disabled:{type:Boolean,required:!1,default:!1}},data(){return{value:null,childComponents:null,searchTerm:""}},computed:{repository(){return this.repositoryFactory.create(this.definition.entity)},entityCustomFieldRepository(){return this.repositoryFactory.create(this.getCustomFieldEntityName(this.fieldName))},componentClasses(){return[this.growthClass,this.disabledClass]},growthClass(){return null===this.childComponents?"sw-product-stream-value--grow-0":`sw-product-stream-value--grow-${this.childComponents.length}`},disabledClass(){return this.disabled?"is--disabled":null},actualCondition(){return"not"===this.condition.type?this.condition.queries[0]:this.condition},isMultiSelectValue(){return"equalsAny"===this.actualCondition.type||"equalsAll"===this.actualCondition.type||"notEqualsAll"===this.actualCondition.type},filterType:{get(){let e=this.getConditionType(this.condition);return"range"===e?this.getRangeType(this.actualCondition):e},set(e){if(this.conditionDataProviderService.isRangeType(e)){this.onChangeType("range",this.getParameters(e));return}if(this.conditionDataProviderService.isRelativeTimeType(e)){this.onChangeType(e,this.getParameters(e));return}this.onChangeType(e,null)}},fieldDefinition(){let e=this.definition.getField(this.fieldName);return!e&&"product"===this.definition.entity&&this.fieldName?this.conditionDataProviderService.allowedJsonAccessors.hasOwnProperty(this.fieldName)?this.conditionDataProviderService.allowedJsonAccessors[this.fieldName]:this.productCustomFields[this.fieldName.replace("customFields.","")]||null:e},operators(){return null===this.fieldType?[]:this.conditionDataProviderService.getOperatorSet(this.fieldType).map(e=>({label:this.$tc(e.label),value:e.identifier}))},relativeTimeOperators(){return this.conditionDataProviderService.getOperator(this.filterType).operators.map(e=>{let t=this.conditionDataProviderService.getOperator(e);return{label:this.$tc(t.label),value:t.identifier}})},productStateOptions(){return[{label:this.$tc("sw-product-stream.filter.values.productStates.physical"),value:"is-physical"},{label:this.$tc("sw-product-stream.filter.values.productStates.digital"),value:"is-download"}]},fieldType(){return this.fieldDefinition?"json_list"===this.fieldDefinition.type&&"states"===this.fieldName?"product_state_list":this.definition.isJsonField(this.fieldDefinition)?"object":"uuid"===this.fieldDefinition.type&&Object.keys(this.definition.filterProperties(e=>e.localField===this.fieldName&&"many_to_one"===e.relation)).length>0?"empty":this.fieldDefinition.type:null},booleanOptions(){return[{label:this.$tc("global.default.yes"),value:"1"},{label:this.$tc("global.default.no"),value:"0"}]},reversedEmptyOptions(){return[{label:this.$tc("global.default.yes"),value:!1},{label:this.$tc("global.default.no"),value:!0}]},multiValue:{get(){return"string"!=typeof this.actualCondition.value||""===this.actualCondition.value?[]:this.actualCondition.value.split("|")},set(e){this.actualCondition.value=e.join("|")}},inputComponent(){switch(this.fieldType){case"uuid":return"sw-entity-multi-id-select";case"float":case"int":return"sw-number-field";case"date":return"sw-datepicker";default:return"sw-text-field"}},currentParameter:{get(){return this.actualCondition.parameters?this.actualCondition.parameters[this.getParameterName(this.filterType)]:null},set(e){let t=this.getParameterName(this.filterType);this.actualCondition.parameters={[t]:e}}},gte:{get(){return this.actualCondition.parameters?this.actualCondition.parameters.gte:null},set(e){this.actualCondition.parameters.gte=e}},lte:{get(){return this.actualCondition.parameters?this.actualCondition.parameters.lte:null},set(e){this.actualCondition.parameters.lte=e}},operator:{get(){return this.actualCondition.parameters?this.getParameterType(this.actualCondition.parameters.operator):null},set(e){this.actualCondition.parameters.operator=this.getParameterName(e)}},emptyValue:{get(){return null!==this.condition.type?"equals"===this.filterType:null},set(e){if(null==e){this.$emit("empty-change",{type:null});return}this.$emit("empty-change",{type:e?"equals":"notEquals"})}},stringValue:{get(){return["int","float"].includes(this.fieldType)?Number.parseFloat(this.actualCondition.value):"string"!=typeof this.actualCondition.value?null:this.conditionDataProviderService.isRelativeTimeType(this.filterType)&&this.actualCondition.value?this.actualCondition.value.match(/\d+/)[0]:this.actualCondition.value},set(e){if(this.conditionDataProviderService.isRelativeTimeType(this.filterType)){this.actualCondition.value=`P${e}D`;return}this.actualCondition.value=e.toString()}},context(){return{...Shopware.Context.api,inheritance:!0}},productCriteria(){let e=new i(1,25);return e.addAssociation("options.group"),e},propertyCriteria(){let e=new i(1,25);return"property_group_option"===this.definition.entity&&(e.addAssociation("group"),"string"==typeof this.searchTerm&&this.searchTerm.length>0&&e.addQuery(i.contains("group.name",this.searchTerm),500)),e},visibilitiesCriteria(){let e=new i(1,25);return e.addAssociation("salesChannel"),e.addAssociation("product"),"string"==typeof this.searchTerm&&this.searchTerm.length>0&&(e.addQuery(i.contains("salesChannel.name",this.searchTerm),400),e.addQuery(i.contains("product.name",this.searchTerm),500)),e},resultCriteria(){let e=new i(1,25);return e.addAssociation("options.group"),e},customFieldCriteria(){if(this.isProductEntity)return this.productCriteria;let e=new i(1,25);return"string"==typeof this.searchTerm&&this.searchTerm.length>0&&e.addQuery(i.contains("name",this.searchTerm),500),e},visibilitiesLabelCallback(){return e=>e?e.salesChannel&&e.product?`${e.salesChannel.translated.name}: ${e.product.translated.name}`:e.id:""},isProductEntity(){return"product"===this.getCustomFieldEntityName(this.fieldName)}},mounted(){this.childComponents=this.$children},methods:{onChangeType(e,t){this.$emit("type-change",{type:e,parameters:t})},getConditionType(e){if("not"===this.condition.type){let t=e.queries[0].type;return this.conditionDataProviderService.negateOperator(t).identifier}return this.condition.type},getRangeType(e){if(null===e.parameters)return null;let t=e.parameters.hasOwnProperty("lte"),n=e.parameters.hasOwnProperty("gte");return n&&t?this.conditionDataProviderService.getOperator("range").identifier:n?this.conditionDataProviderService.getOperator("greaterThanEquals").identifier:t?this.conditionDataProviderService.getOperator("lessThanEquals").identifier:this.condition.parameters.hasOwnProperty("lt")?this.conditionDataProviderService.getOperator("lessThan").identifier:this.condition.parameters.hasOwnProperty("gt")?this.conditionDataProviderService.getOperator("greaterThan").identifier:null},getParameters(e){if("range"===e)return{lte:null,gte:null};if("since"===e||"until"===e)return{operator:null};let t=this.getParameterName(e);return t?{[t]:null}:null},getParameterName(e){switch(e){case"greaterThanEquals":return"gte";case"lessThanEquals":return"lte";case"lessThan":return"lt";case"greaterThan":return"gt";case"equals":return"eq";case"notEquals":return"neq";default:return null}},getParameterType(e){switch(e){case"gte":return"greaterThanEquals";case"lte":return"lessThanEquals";case"lt":return"lessThan";case"gt":return"greaterThan";case"eq":return"equals";case"neq":return"notEquals";default:return null}},setBooleanValue(e){this.$emit("boolean-change",{type:+e?"equals":"notEquals",value:e})},setSearchTerm(e){this.searchTerm=e},onSelectCollapsed(){this.searchTerm=""},getCategoryBreadcrumb(e){return e.breadcrumb&&0!==Object.keys(e.breadcrumb).length?Object.values(e.breadcrumb).join(" / "):e.name},isEntityCustomField(e){let t=e?.replace(/customFields\./,""),n=this.productCustomFields[t];return n?.config?.customFieldType==="entity"},getCustomFieldEntityName(e){let t=e.replace(/customFields\./,"");return this.productCustomFields[t].config.entity}}}},346573:function(e,t,n){var i=n(782439);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),n(745346).Z("d9fd664c",i,!0,{})}}]);