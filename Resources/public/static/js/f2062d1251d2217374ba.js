(this.webpackJsonpAdministration=this.webpackJsonpAdministration||[]).push([[412],{"3Xp8":function(n,s,e){var t=e("f7Af");t.__esModule&&(t=t.default),"string"==typeof t&&(t=[[n.i,t,""]]),t.locals&&(n.exports=t.locals);(0,e("P8hj").default)("ebbb5758",t,!0,{})},"5BJy":function(n,s,e){"use strict";e.r(s);var t=e("7yzw"),a=e.n(t),r=e("92Mt"),i=e.n(r),o=(e("3Xp8"),Shopware.Mixin),c=Shopware.Data.Criteria;s.default={template:'\n{% block sw_settings_address_index %}\n<sw-page class="sw-settings-address">\n\n    \n    {% block sw_settings_address_search_bar %}\n    <template #search-bar>\n        <sw-search-bar />\n    </template>\n    {% endblock %}\n\n    \n    {% block sw_settings_address_smart_bar_header %}\n    <template #smart-bar-header>\n        \n        {% block sw_settings_address_smart_bar_header_title %}\n        <h2>\n            \n            {% block sw_settings_address_smart_bar_header_title_text %}\n            {{ $tc(\'sw-settings.index.title\') }}\n            <sw-icon\n                name="regular-chevron-right-xs"\n                small\n            />\n            {{ $tc(\'sw-settings-address.general.textHeadline\') }}\n            {% endblock %}\n\n            \n            {% block sw_settings_address_smart_bar_header_amount %}\n            <span\n                v-if="false"\n                class="sw-page__smart-bar-amount"\n            >\n                ({{ total }})\n            </span>\n            {% endblock %}\n        </h2>\n        {% endblock %}\n    </template>\n    {% endblock %}\n\n    \n    {% block sw_settings_address_smart_bar_actions %}\n    <template #smart-bar-actions>\n        \n        {% block sw_settings_address_actions_save %}\n        <sw-button-process\n            class="sw-settings-address__save-action"\n            :is-loading="isLoading"\n            :process-success="isSaveSuccessful"\n            :disabled="isLoading"\n            variant="primary"\n            {% if VUE3 %}\n            @update:process-success="saveFinish"\n            {% else %}\n            @process-finish="saveFinish"\n            {% endif %}\n            @click="onSave"\n        >\n            {{ $tc(\'sw-settings-address.general.buttonSave\') }}\n        </sw-button-process>\n        {% endblock %}\n    </template>\n    {% endblock %}\n\n    \n    {% block sw_settings_address_content %}\n    <template #content>\n        <sw-card-view>\n            <sw-skeleton v-if="isLoading" />\n\n            {# v-show is used here as underlying components influence the loading state and v-if would destroy this behaviour #}\n            <sw-system-config\n                v-show="!isLoading"\n                ref="systemConfig"\n                sales-channel-switchable\n                domain="core.address"\n                @loading-changed="onLoadingChanged"\n            />\n\n            <sw-alert\n                v-show="!isLoading && addressFormatSettingsLink"\n                variant="warning"\n                class="sw-settings-address__text-warning"\n            >\n                <span v-html="$tc(\'sw-settings-address.general.textWarning\', 0, { addressFormatSettingsLink })"></span>\n            </sw-alert>\n        </sw-card-view>\n    </template>\n    {% endblock %}\n</sw-page>\n{% endblock %}\n',inject:["repositoryFactory"],mixins:[o.getByName("notification")],data:function(){return{isLoading:!1,isSaveSuccessful:!1,defaultCountry:null}},computed:{countryRepository:function(){return this.repositoryFactory.create("country")},countryCriteria:function(){var n=new c(1,1);return n.addFilter(c.multi("or",[c.not("and",[c.equals("salesChannels.id",null)]),c.equals("iso","DE")])),n},addressFormatSettingsLink:function(){if(!this.defaultCountry)return null;var n={name:"sw.settings.country.detail.address-handling",params:{id:this.defaultCountry}};return this.$router.resolve(n).href}},created:function(){this.createComponent()},methods:{createComponent:function(){var n=this;return a()(i.a.mark((function s(){return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,n.getDefaultCountry();case 2:n.defaultCountry=s.sent;case 3:case"end":return s.stop()}}),s)})))()},saveFinish:function(){this.isSaveSuccessful=!1},onSave:function(){var n=this;this.isSaveSuccessful=!1,this.isLoading=!0,this.$refs.systemConfig.saveAll().then((function(){n.isLoading=!1,n.isSaveSuccessful=!0})).catch((function(s){n.isLoading=!1,n.createNotificationError({message:s})}))},onLoadingChanged:function(n){this.isLoading=n},getDefaultCountry:function(){var n=this;return a()(i.a.mark((function s(){var e;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,n.countryRepository.searchIds(n.countryCriteria);case 2:return e=s.sent,s.abrupt("return",e.data[0]);case 4:case"end":return s.stop()}}),s)})))()}}}},f7Af:function(n,s,e){}}]);
//# sourceMappingURL=f2062d1251d2217374ba.js.map