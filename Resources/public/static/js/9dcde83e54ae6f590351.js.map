{"version":3,"sources":["webpack:///./src/module/sw-category/component/sw-category-detail-menu/index.js","webpack:///./src/module/sw-category/component/sw-category-detail-menu/sw-category-detail-menu.html.twig"],"names":["template","inject","props","category","type","Object","required","isLoading","Boolean","default","data","showMediaModal","computed","reversedVisibility","get","this","visible","set","visibility","mediaItem","media","mediaRepository","repositoryFactory","create","methods","onMediaSelectionChange","mediaItems","_this","id","then","updatedMedia","mediaId","onSetMediaItem","_ref","_this2","targetId","onRemoveMediaItem","onMediaDropped","dropItem"],"mappings":"4HAMe,WACXA,SCPW,mxEDSXC,OAAQ,CAAC,MAAO,qBAEhBC,MAAO,CACHC,SAAU,CACNC,KAAMC,OACNC,UAAU,GAGdC,UAAW,CACPH,KAAMI,QACNF,UAAU,EACVG,SAAS,IAIjBC,KAAI,WACA,MAAO,CACHC,gBAAgB,IAIxBC,SAAU,CACNC,mBAAoB,CAChBC,IAAG,WACC,OAAQC,KAAKZ,SAASa,SAE1BC,IAAG,SAACC,GACAH,KAAKZ,SAASa,SAAWE,IAIjCC,UAAS,WACL,OAAyB,OAAlBJ,KAAKZ,SAAoBY,KAAKZ,SAASiB,MAAQ,MAG1DC,gBAAe,WACX,OAAON,KAAKO,kBAAkBC,OAAO,WAI7CC,QAAS,CACLC,uBAAsB,SAACC,GAAa,IAADC,EAAA,KACzBP,EAAQM,EAAW,GACpBN,GAILL,KAAKM,gBAAgBP,IAAIM,EAAMQ,IAAIC,MAAK,SAACC,GACrCH,EAAKxB,SAAS4B,QAAUD,EAAaF,GACrCD,EAAKxB,SAASiB,MAAQU,MAI9BE,eAAc,SAAAC,GAAgB,IAADC,EAAA,KAAZC,EAAQF,EAARE,SACbpB,KAAKM,gBAAgBP,IAAIqB,GAAUN,MAAK,SAACC,GACrCI,EAAK/B,SAAS4B,QAAUI,EACxBD,EAAK/B,SAASiB,MAAQU,MAI9BM,kBAAiB,WACbrB,KAAKZ,SAAS4B,QAAU,KACxBhB,KAAKZ,SAASiB,MAAQ,MAG1BiB,eAAc,SAACC,GAEXvB,KAAKiB,eAAe,CAAEG,SAAUG,EAASV","file":"static/js/9dcde83e54ae6f590351.js","sourcesContent":["import template from './sw-category-detail-menu.html.twig';\n\n/**\n * @package content\n */\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    inject: ['acl', 'repositoryFactory'],\n\n    props: {\n        category: {\n            type: Object,\n            required: true,\n        },\n\n        isLoading: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n    },\n\n    data() {\n        return {\n            showMediaModal: false,\n        };\n    },\n\n    computed: {\n        reversedVisibility: {\n            get() {\n                return !this.category.visible;\n            },\n            set(visibility) {\n                this.category.visible = !visibility;\n            },\n        },\n\n        mediaItem() {\n            return this.category !== null ? this.category.media : null;\n        },\n\n        mediaRepository() {\n            return this.repositoryFactory.create('media');\n        },\n    },\n\n    methods: {\n        onMediaSelectionChange(mediaItems) {\n            const media = mediaItems[0];\n            if (!media) {\n                return;\n            }\n\n            this.mediaRepository.get(media.id).then((updatedMedia) => {\n                this.category.mediaId = updatedMedia.id;\n                this.category.media = updatedMedia;\n            });\n        },\n\n        onSetMediaItem({ targetId }) {\n            this.mediaRepository.get(targetId).then((updatedMedia) => {\n                this.category.mediaId = targetId;\n                this.category.media = updatedMedia;\n            });\n        },\n\n        onRemoveMediaItem() {\n            this.category.mediaId = null;\n            this.category.media = null;\n        },\n\n        onMediaDropped(dropItem) {\n            // to be consistent refetch entity with repository\n            this.onSetMediaItem({ targetId: dropItem.id });\n        },\n    },\n\n};\n","export default \"\\n{% block sw_category_detail_menu %}\\n<sw-card\\n    class=\\\"sw-category-detail-base__menu\\\"\\n    position-identifier=\\\"sw-category-detail-menu\\\"\\n    :title=\\\"$tc('sw-category.base.menu.title')\\\"\\n    :is-loading=\\\"isLoading\\\"\\n>\\n\\n    \\n    {% block sw_category_detail_information_visible %}\\n    <sw-switch-field\\n        {% if VUE3 %}\\n        v-model:value=\\\"reversedVisibility\\\"\\n        {% else %}\\n        v-model=\\\"reversedVisibility\\\"\\n        {% endif %}\\n        borderd\\n        :disabled=\\\"!acl.can('category.editor')\\\"\\n        :label=\\\"$tc('sw-category.base.menu.visible')\\\"\\n    />\\n    {% endblock %}\\n\\n    \\n    {% block sw_category_detail_menu_media %}\\n    <sw-upload-listener\\n        :key=\\\"category.id + 'uploadListener'\\\"\\n        :upload-tag=\\\"category.id\\\"\\n        auto-upload\\n        @media-upload-finish=\\\"onSetMediaItem\\\"\\n    />\\n    <sw-media-upload-v2\\n        :key=\\\"category.id + 'upload'\\\"\\n        :label=\\\"$tc('sw-category.base.menu.imageLabel')\\\"\\n        variant=\\\"regular\\\"\\n        :disabled=\\\"!acl.can('category.editor')\\\"\\n        :source=\\\"mediaItem\\\"\\n        :upload-tag=\\\"category.id\\\"\\n        :allow-multi-select=\\\"false\\\"\\n        :default-folder=\\\"category.getEntityName()\\\"\\n        @media-drop=\\\"onMediaDropped\\\"\\n        @media-upload-sidebar-open=\\\"showMediaModal = true\\\"\\n        @media-upload-remove-image=\\\"onRemoveMediaItem\\\"\\n    />\\n    {% endblock %}\\n\\n    \\n    {% block sw_category_detail_menu_media_modal %}\\n    <sw-media-modal-v2\\n        v-if=\\\"showMediaModal\\\"\\n        :allow-multi-select=\\\"false\\\"\\n        :entity-context=\\\"category.getEntityName()\\\"\\n        @media-modal-selection-change=\\\"onMediaSelectionChange\\\"\\n        @modal-close=\\\"showMediaModal = false\\\"\\n    />\\n    {% endblock %}\\n\\n    \\n    {% block sw_category_detail_menu_description %}\\n    <sw-text-editor\\n        :key=\\\"category.id + 'description'\\\"\\n        v-model=\\\"category.description\\\"\\n        class=\\\"sw-category-detail-base__description\\\"\\n        type=\\\"textarea\\\"\\n        :disabled=\\\"!acl.can('category.editor')\\\"\\n        sanitize-input\\n        sanitize-field-name=\\\"category_translation.description\\\"\\n        :label=\\\"$tc('sw-category.base.menu.descriptionLabel')\\\"\\n        :placeholder=\\\"$tc('sw-category.base.menu.descriptionPlaceholder')\\\"\\n    />\\n    {% endblock %}\\n</sw-card>\\n{% endblock %}\\n\";"],"sourceRoot":""}