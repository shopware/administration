(this.webpackJsonpAdministration=this.webpackJsonpAdministration||[]).push([[21],{C7KD:function(o,t,n){var i=n("oTIN");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[o.i,i,""]]),i.locals&&(o.exports=i.locals);(0,n("P8hj").default)("4831d264",i,!0,{})},MVGt:function(o,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return e})),n.d(t,"c",(function(){return r}));var i=n("5qLW"),s={PERCENTAGE:"percentage",ABSOLUTE:"absolute",FIXED:"fixed",FIXED_UNIT:"fixed_unit"},e={CART:"cart",DELIVERY:"delivery",SET:"set",SETGROUP:"setgroup"},r={isEditingAllowed:function(o){if(null===o)return!1;if(void 0===o)return!1;if(!Object(i.g)(o,"hasOrders"))throw new Error("Promotion Property hasOrders does not exist. Please use the Hydrator before!");return!o.hasOrders}}},oTIN:function(o,t,n){},s06n:function(o,t,n){"use strict";n.r(t);var i=n("MVGt");n("C7KD"),t.default={template:'\n{% block sw_promotion_detail_discounts %}\n<div class="sw-promotion-detail-discounts">\n    \n    {% block sw_promotion_detail_discounts_card_add %}\n    <div\n        class="promotion-detail-discounts__action_add"\n        position-identifier="sw-promotion-detail-discounts"\n    >\n        \n        {% block sw_promotion_detail_discounts_actions_add %}\n        <sw-button\n            v-tooltip="{\n                message: $tc(\'sw-privileges.tooltip.warning\'),\n                disabled: acl.can(\'promotion.editor\'),\n                showOnDisabledElements: true\n            }"\n            :is-loading="isLoading"\n            variant="ghost"\n            :disabled="(promotion && promotion.hasOrders) || !acl.can(\'promotion.editor\')"\n            @click="onAddDiscount"\n        >\n            {{ $tc(\'sw-promotion.detail.main.discounts.buttonAddDiscount\') }}\n        </sw-button>\n        {% endblock %}\n    </div>\n    {% endblock %}\n\n    \n    {% block sw_promotion_detail_discounts_items %}\n    <ul class="sw-promotion-detail-discounts__discount-list">\n        \n        {% block sw_promotion_detail_discounts_item_form %}\n        <sw-promotion-discount-component\n            v-for="discount in discounts"\n            :key="discount.id"\n            :promotion="promotion"\n            :discount="discount"\n            @discount-delete="deleteDiscount"\n        />\n        {% endblock %}\n    </ul>\n    {% endblock %}\n</div>\n{% endblock %}\n',inject:["repositoryFactory","acl"],data:function(){return{deleteDiscountId:null,repository:null}},computed:{promotion:function(){return Shopware.State.get("swPromotionDetail").promotion},isLoading:{get:function(){return Shopware.State.get("swPromotionDetail").isLoading},set:function(o){Shopware.State.commit("swPromotionDetail/setIsLoading",o)}},discounts:function(){return Shopware.State.get("swPromotionDetail").promotion&&Shopware.State.get("swPromotionDetail").promotion.discounts}},methods:{onAddDiscount:function(){var o=this.repositoryFactory.create(this.discounts.entity,this.discounts.source).create();o.promotionId=this.promotion.id,o.scope=i.a.CART,o.type=i.b.PERCENTAGE,o.value=.01,o.considerAdvancedRules=!1,o.sorterKey="PRICE_ASC",o.applierKey="ALL",o.usageKey="ALL",this.discounts.push(o)},deleteDiscount:function(o){var t=this;o.isNew()?this.discounts.remove(o.id):(this.isLoading=!0,this.repositoryFactory.create(this.discounts.entity,this.discounts.source).delete(o.id,this.discounts.context).then((function(){t.discounts.remove(o.id),t.isLoading=!1})))}}}}}]);
//# sourceMappingURL=f422ced4d9e53588995d.js.map