(this.webpackJsonpAdministration=this.webpackJsonpAdministration||[]).push([[13],{RbEL:function(e,t,i){"use strict";t.a={namespaced:!0,state:function(){return{product:{},parentProduct:{},currencies:[],apiContext:{},taxes:[],variants:[],customFieldSets:[],defaultFeatureSet:{},loading:{init:!1,product:!1,parentProduct:!1,manufacturers:!1,currencies:!1,taxes:!1,customFieldSets:!1,media:!1,rules:!1,variants:!1,defaultFeatureSet:!1,advancedMode:!1},localMode:!1,advancedModeSetting:{},modeSettings:["general_information","prices","deliverability","visibility_structure","media","labelling","measures_packaging","properties","essential_characteristics","custom_fields"],creationStates:[]}},getters:{isLoading:function(e){return Object.values(e.loading).some((function(e){return e}))},defaultCurrency:function(e){if(!e.currencies)return{};var t=e.currencies.find((function(e){return e.isSystemDefault}));return t||{}},defaultPrice:function(e,t){var i=e.product.price;if(!i){if(!e.parentProduct.price)return{};i=e.parentProduct.price}return i.find((function(e){return e.currencyId===t.defaultCurrency.id}))},defaultFeatureSet:function(e){return e.defaultFeatureSet?e.defaultFeatureSet:{}},productTaxRate:function(e){return e.taxes?e.taxes.find((function(t){return e.product.taxId?t.id===e.product.taxId:e.parentProduct.taxId?t.id===e.parentProduct.taxId:{}})):{}},isChild:function(e){var t;return!(null===(t=e.product)||void 0===t||!t.parentId)&&!!e.product.parentId},showModeSetting:function(e){var t,i;return!(null===(t=e.product)||void 0===t||!t.parentId)||(null===(i=e.advancedModeSetting.value)||void 0===i?void 0:i.advancedMode.enabled)},showProductCard:function(e,t){return function(i){var n;if(null!==(n=e.product)&&void 0!==n&&n.parentId)return!0;return!(["essential_characteristics","custom_fields","labelling"].includes(i)&&!t.showModeSetting)&&e.modeSettings.includes(i)}},advanceModeEnabled:function(e){var t;return null===(t=e.advancedModeSetting.value)||void 0===t?void 0:t.advancedMode.enabled},productStates:function(e){return e.product.isNew()&&e.creationStates?e.creationStates:e.product.states?e.product.states:[]}},mutations:{setApiContext:function(e,t){e.apiContext=t},setCustomFields:function(e,t){e.customFieldSets=e.customFieldSets.map((function(e){return e.id===t.id?t:e}))},setLocalMode:function(e,t){e.localMode=t},setLoading:function(e,t){var i=t[0],n=t[1];return"boolean"==typeof n&&(void 0!==e.loading[i]&&(e.loading[i]=n,!0))},setAssignedProductsFromCrossSelling:function(e,t){var i=t.id,n=t.collection;e.product.crossSellings.get(i).assignedProducts=n},setProductId:function(e,t){e.productId=t},setProduct:function(e,t){e.product=t},setVariants:function(e,t){e.variants=t},setParentProduct:function(e,t){e.parentProduct=t},setCurrencies:function(e,t){e.currencies=t},setTaxes:function(e,t){e.taxes=t,!e.product||null!==e.product.taxId||e.parentProduct||e.parentProduct.id||(e.product.taxId=e.taxes[0].id)},setAttributeSet:function(e,t){e.customFieldSets=t},setDefaultFeatureSet:function(e,t){e.defaultFeatureSet=t},setAdvancedModeSetting:function(e,t){e.advancedModeSetting=t},setModeSettings:function(e,t){e.modeSettings=t},setCreationStates:function(e,t){e.creationStates=t}}}},ZWQl:function(e,t,i){"use strict";i.r(t);var n=i("HZZ/"),r=i.n(n),s=i("QGb3"),d=i.n(s),c=i("J58c"),l=i.n(c),a=i("hJxD"),o=i.n(a),u=(i("kwWX"),i("RbEL"));function h(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function p(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach((function(t){l()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var b=Shopware.Component,m=Shopware.Data.Criteria,k=Shopware.Utils.types,g=Shopware.Utils.array.chunk,f=b.getComponentHelper(),w=f.mapState,v=f.mapGetters,P=Shopware.Utils.object.cloneDeep;t.default={template:'\n{% block sw_bulk_edit_product %}\n<sw-page\n    :class="{\n        \'sw-bulk-edit-product\': true,\n        \'is--variant\': isChild,\n    }"\n>\n    \n    {% block sw_bulk_edit_product_search_bar %}\n    <template #search-bar>\n        <sw-search-bar />\n    </template>\n    {% endblock %}\n\n    \n    {% block sw_bulk_edit_product_smart_bar_back %}\n    <template #smart-bar-back>\n        <router-link\n            v-if="isChild"\n            class="smart-bar__back-btn"\n            :to="{ name: \'sw.product.detail.variants\', params: { id: $route.params.parentId } }"\n            :style="{ \'color\': $route.meta.$module?.color }"\n        >\n            <sw-icon\n                name="regular-chevron-left"\n                small\n            />\n        </router-link>\n    </template>\n    {% endblock %}\n\n    \n    {% block sw_bulk_edit_product_smart_bar_header %}\n    <template #smart-bar-header>\n        \n        {% block sw_bulk_edit_product_smart_bar_header_title %}\n        <h2>\n            {{ isChild\n                ? $tc(\'sw-bulk-edit.variant.textTitle\', selectedIds.length, { variantTotal: selectedIds.length })\n                : $tc(\'sw-bulk-edit.product.textTitle\', selectedIds.length, { productTotal: selectedIds.length })\n            }}\n        </h2>\n        {% endblock %}\n    </template>\n    {% endblock %}\n\n    \n    {% block sw_bulk_edit_product_content_language_switch %}\n    <template #language-switch>\n        <sw-language-switch @on-change="onChangeLanguage" />\n    </template>\n    {% endblock %}\n\n    \n    {% block sw_bulk_edit_product_content_smart_bar_actions %}\n    <template #smart-bar-actions>\n        \n        {% block sw_bulk_edit_product_actions_save %}\n        <sw-button-process\n            class="sw-bulk-edit-product__save-action"\n            variant="primary"\n            :is-loading="isLoading"\n            :process-success="isSaveSuccessful"\n            :disabled="isLoading || !hasSelectedChanges"\n            @click="openModal"\n        >\n            {{ $tc(\'sw-bulk-edit.applyChanges\') }}\n        </sw-button-process>\n        {% endblock %}\n    </template>\n    {% endblock %}\n\n    \n    {% block sw_bulk_edit_product_content %}\n    <template #content>\n        <sw-card-view v-if="selectedIds.length > 0 && isLoadedData">\n            \n            {% block sw_bulk_edit_product_content_inheritance_card %}\n            <sw-card\n                v-if="isChild"\n                class="sw-bulk-edit-product__inheritance"\n                position-identifier="sw-bulk-edit-product-inheritance"\n            >\n                \n                {% block sw_bulk_edit_product_content_inheritance_alert %}\n                <sw-alert variant="info">\n                    <template #customIcon>\n                        <div class="sw-bulk-edit-product__inheritance-icon">\n                            <sw-icon\n                                name="regular-link"\n                                color="#7363e5"\n                                size="16"\n                            />\n                        </div>\n                    </template>\n                    <template #default>\n                        {{ $tc(\'sw-bulk-edit.product.alertInheritance.message\') }}\n                    </template>\n                </sw-alert>\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            <sw-card\n                v-if="restrictedFields.length"\n                class="sw-bulk-edit-product__restricted-fields"\n                position-identifier="sw-bulk-edit-product-restricted-fields"\n            >\n                <sw-alert\n                    :title="$tc(\'sw-bulk-edit.product.alertRestrictedFields.title\')"\n                    variant="warning"\n                >\n                    <span v-html="$tc(\'sw-bulk-edit.product.alertRestrictedFields.message\')"></span>\n                    <ul>\n                        <li\n                            v-for="(restrictedField, index) in restrictedFields"\n                            :key="index"\n                        >\n                            {{ $tc(`sw-bulk-edit.product.alertRestrictedFields.${restrictedField}`) }}\n                        </li>\n                    </ul>\n                </sw-alert>\n            </sw-card>\n\n            \n            {% block sw_bulk_edit_product_content_gereral_information_card %}\n            <sw-card\n                class="sw-bulk-edit-product-base__info"\n                position-identifier="sw-bulk-edit-product-info"\n                :title="$tc(\'sw-bulk-edit.product.generalInformation.cardTitle\')"\n            >\n                \n                {% block sw_bulk_edit_product_content_gereral_information %}\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields="generalFormFields"\n                    :bulk-edit-data="bulkEditProduct"\n                    :entity="product"\n                    @inheritance-restore="onInheritanceRestore"\n                    @inheritance-remove="onInheritanceRemove"\n                />\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            \n            {% block sw_bulk_edit_product_content_prices_card %}\n            <sw-card\n                class="sw-bulk-edit-product-base__prices"\n                position-identifier="sw-bulk-edit-product-prices"\n                :title="$tc(\'sw-bulk-edit.product.prices.cardTitle\')"\n            >\n                \n                {% block sw_bulk_edit_product_content_prices %}\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields="pricesFormFields"\n                    :bulk-edit-data="bulkEditProduct"\n                    :entity="product"\n                    @change-value="onChangePrices"\n                    @inheritance-restore="onInheritanceRestore"\n                    @inheritance-remove="onInheritanceRemove"\n                />\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            \n            {% block sw_bulk_edit_product_content_advanced_prices_card %}\n            <sw-card\n                class="sw-bulk-edit-product-base__advanced-prices"\n                position-identifier="sw-bulk-edit-product-advanced-prices"\n                :title="$tc(\'sw-bulk-edit.product.advancedPrices.cardTitle\')"\n            >\n                \n                {% block sw_bulk_edit_product_content_advanced_prices %}\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields="advancedPricesFormFields"\n                    :bulk-edit-data="bulkEditProduct"\n                    :entity="product"\n                >\n                    <template #valueFieldWithBoxType="{ formField, entity, index }">\n                        <sw-inheritance-switch\n                            v-if="isChild"\n                            :is-inherited="bulkEditProduct[formField.name].isInherited"\n                            @inheritance-restore="onInheritanceRestore(formField)"\n                            @inheritance-remove="onInheritanceRemove(formField)"\n                        />\n\n                        \n                        <a\n                            v-if="[\'add\', \'overwrite\'].includes(bulkEditProduct[formField.name].type)"\n                            :class="{ \'is--disabled\': !!bulkEditProduct[formField.name].isInherited }"\n                            class="sw-card__quick-link"\n                            @click="displayAdvancePricesModal = true"\n                        >\n                            {{ $tc(\'sw-bulk-edit.product.advancedPrices.newAdvancedPrices\', 0, { count: entity[formField.name] ? Object.keys(priceRuleGroups).length : 0 }) }}\n                            <sw-icon\n                                name="regular-long-arrow-right"\n                                small\n                            />\n                        </a>\n\n                        \n                        {% block sw_bulk_edit_product_content_advanced_prices_rule_selection %}\n                        <sw-entity-multi-select\n                            v-else-if="bulkEditProduct[formField.name].type === \'remove\'"\n                            class="sw-bulk-edit-product-base__advanced-prices-selection"\n                            :placeholder="$tc(\'sw-bulk-edit.product.advancedPrices.selectRule\')"\n                            :criteria="ruleCriteria"\n                            entity-name="rule"\n                            :entity-collection="!!bulkEditProduct[formField.name].isInherited ? [] : entity[formField.name]"\n                            :disabled="!!bulkEditProduct[formField.name].isInherited"\n                            @change="onRuleChange"\n                        >\n                            <template #selection-label-property="{ item }">\n                                {{ item.ruleName }}\n                            </template>\n\n                            <template #result-item="{ item, index, labelProperty, isSelected, addItem, getKey }">\n                                <li\n                                    is="sw-select-result"\n                                    :selected="isSelected(item)"\n                                    :disabled="!!priceRuleGroups[item.id]"\n                                    v-bind="{ item, index }"\n                                    @item-select="addItem"\n                                >\n                                    {{ getKey(item,labelProperty) || getKey(item, `translated.${labelProperty}`) }}\n                                </li>\n                            </template>\n                        </sw-entity-multi-select>\n                        {% endblock %}\n                    </template>\n                </sw-bulk-edit-change-type-field-renderer>\n                {% endblock %}\n\n                \n                {% block sw_bulk_edit_product_content_advanced_prices_modal %}\n                <sw-modal\n                    v-if="displayAdvancePricesModal"\n                    class="sw-bulk-edit-product-content-advanced-prices-modal"\n                    variant="large"\n                    :title="$tc(\'sw-bulk-edit.product.advancedPrices.cardTitle\')"\n                    @modal-close="displayAdvancePricesModal = false"\n                >\n                    <sw-product-detail-context-prices\n                        :is-set-default-price="true"\n                        :can-set-loading-rules="false"\n                    />\n\n                    \n                    {% block sw_bulk_edit_product_content_advanced_prices_modal_footer %}\n                    <template #modal-footer>\n                        <slot name="sw-bulk-edit-modal-cancel">\n                            <sw-button\n                                size="small"\n                                @click="displayAdvancePricesModal = false"\n                            >\n                                {{ $tc(\'global.default.close\') }}\n                            </sw-button>\n                        </slot>\n                    </template>\n                    {% endblock %}\n                </sw-modal>\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            \n            {% block sw_bulk_edit_product_content_property_card %}\n            <sw-card\n                class="sw-bulk-edit-product-base__property"\n                position-identifier="sw-bulk-edit-product-property"\n                :title="$tc(\'sw-bulk-edit.product.property.cardTitle\')"\n            >\n                \n                {% block sw_bulk_edit_product_content_property %}\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields="propertyFormFields"\n                    :bulk-edit-data="bulkEditProduct"\n                    :entity="product"\n                    @inheritance-restore="onInheritanceRestore"\n                    @inheritance-remove="onInheritanceRemove"\n                />\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            \n            {% block sw_bulk_edit_product_content_deliverability_card %}\n            <sw-card\n                class="sw-bulk-edit-product-base__deliverability"\n                position-identifier="sw-bulk-edit-product-deliverability"\n                :title="$tc(\'sw-bulk-edit.product.deliverability.cardTitle\')"\n            >\n                \n                {% block sw_bulk_edit_product_content_deliverability %}\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields="deliverabilityFormFields"\n                    :bulk-edit-data="bulkEditProduct"\n                    :entity="product"\n                    @inheritance-restore="onInheritanceRestore"\n                    @inheritance-remove="onInheritanceRemove"\n                />\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            \n            {% block sw_bulk_edit_product_content_assignments_card %}\n            <sw-card\n                class="sw-bulk-edit-product-base__assignment"\n                position-identifier="sw-bulk-edit-product-assignment"\n                :title="$tc(\'sw-bulk-edit.product.assignment.cardTitle\')"\n            >\n                \n                {% block sw_bulk_edit_product_content_assignments %}\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields="assignmentFormFields"\n                    :bulk-edit-data="bulkEditProduct"\n                    :entity="product"\n                    @inheritance-restore="onInheritanceRestore"\n                    @inheritance-remove="onInheritanceRemove"\n                />\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            \n            {% block sw_bulk_edit_product_content_media_card %}\n            <sw-card\n                class="sw-bulk-edit-product-base__media"\n                position-identifier="sw-bulk-edit-product-media"\n                :title="$tc(\'sw-bulk-edit.product.media.cardTitle\')"\n            >\n                \n                {% block media %}\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields="mediaFormFields"\n                    :bulk-edit-data="bulkEditProduct"\n                    :entity="product"\n                    @inheritance-restore="onInheritanceRestore"\n                    @inheritance-remove="onInheritanceRemove"\n                />\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            \n            {% block sw_bulk_edit_product_content_labelling_card %}\n            <sw-card\n                class="sw-bulk-edit-product-base__labelling"\n                position-identifier="sw-bulk-edit-product-labelling"\n                :title="$tc(\'sw-bulk-edit.product.labelling.cardTitle\')"\n            >\n                \n                {% block sw_bulk_edit_product_content_labelling %}\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields="labellingFormFields"\n                    :bulk-edit-data="bulkEditProduct"\n                    :entity="product"\n                    @inheritance-restore="onInheritanceRestore"\n                    @inheritance-remove="onInheritanceRemove"\n                />\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            \n            {% block sw_bulk_edit_product_content_seo_card %}\n            <sw-card\n                class="sw-bulk-edit-product-base__seo"\n                position-identifier="sw-bulk-edit-product-seo"\n                :title="$tc(\'sw-bulk-edit.product.seo.cardTitle\')"\n            >\n                \n                {% block sw_bulk_edit_product_content_seo %}\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields="seoFormFields"\n                    :bulk-edit-data="bulkEditProduct"\n                    :entity="product"\n                    @inheritance-restore="onInheritanceRestore"\n                    @inheritance-remove="onInheritanceRemove"\n                />\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            \n            {% block sw_bulk_edit_product_content_meansures_packaging_card %}\n            <sw-card\n                class="sw-bulk-edit-product-base__measures"\n                position-identifier="sw-bulk-edit-product-measures"\n                :title="$tc(\'sw-bulk-edit.product.measuresAndPackaging.cardTitle\')"\n            >\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields="measuresPackagingFields"\n                    :bulk-edit-data="bulkEditProduct"\n                    :entity="product"\n                    @inheritance-restore="onInheritanceRestore"\n                    @inheritance-remove="onInheritanceRemove"\n                />\n            </sw-card>\n            {% endblock %}\n\n            \n            {% block sw_bulk_edit_product_content_essential_card %}\n            <sw-card\n                class="sw-bulk-edit-product-base___essential"\n                position-identifier="sw-bulk-edit-product-essential"\n                :title="$tc(\'sw-bulk-edit.product.featureSets.cardTitle\')"\n            >\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields="essentialCharacteristicsFormFields"\n                    :bulk-edit-data="bulkEditProduct"\n                    :entity="product"\n                    @inheritance-restore="onInheritanceRestore"\n                    @inheritance-remove="onInheritanceRemove"\n                />\n            </sw-card>\n            {% endblock %}\n\n            \n            {% block sw_bulk_edit_product_content_meansures_custom_field_card %}\n            <sw-card\n                v-if="customFieldSets.length > 0"\n                class="sw-bulk-edit-product-base__custom_fields"\n                position-identifier="sw-bulk-edit-product-custom-fields"\n                :title="$tc(\'sw-bulk-edit.product.customFields.cardTitle\')"\n            >\n                <sw-bulk-edit-custom-fields\n                    class="sw-bulk-edit__custom-fields"\n                    :sets="customFieldSets"\n                    :entity="product"\n                    :parent-entity="parentProduct"\n                    @change="onCustomFieldsChange"\n                />\n            </sw-card>\n            {% endblock %}\n        </sw-card-view>\n        <sw-empty-state\n            v-if="!isLoading && selectedIds.length == 0"\n            :title="$tc(\'sw-bulk-edit.product.messageEmptyTitle\')"\n            :subline="$tc(\'sw-bulk-edit.product.messageEmptySubline\')"\n        />\n\n        \n        {% block sw_bulk_edit_product_save_modal %}\n        <router-view\n            :item-total="selectedIds.length"\n            :is-loading="isLoading"\n            :process-status="processStatus"\n            @modal-close="closeModal"\n            @bulk-save="onSave"\n        />\n        {% endblock %}\n    </template>\n    {% endblock %}\n</sw-page>\n{% endblock %}\n',inject:["feature","bulkEditApiFactory","repositoryFactory"],data:function(){return{isLoading:!1,isLoadedData:!1,isSaveSuccessful:!1,displayAdvancePricesModal:!1,isDisabledListPrice:!0,isDisabledRegulationPrice:!0,bulkEditProduct:{},bulkEditSelected:[],taxRate:{},currency:{},customFieldSets:[],processStatus:"",rules:[],parentProductFrozen:null,isComponentMounted:!0}},metaInfo:function(){return{title:this.$createTitle()}},computed:p(p(p({},w("swProductDetail",["product","parentProduct","taxes"])),v("swProductDetail",["defaultCurrency","defaultPrice"])),{},{selectedIds:function(){return Shopware.State.get("shopwareApps").selectedIds},customFieldSetRepository:function(){return this.repositoryFactory.create("custom_field_set")},currencyRepository:function(){return this.repositoryFactory.create("currency")},taxRepository:function(){return this.repositoryFactory.create("tax")},productRepository:function(){return this.repositoryFactory.create("product")},hasSelectedChanges:function(){return Object.values(this.bulkEditProduct).some((function(e){return e.isChanged}))||this.bulkEditSelected.length>0},customFieldSetCriteria:function(){var e=new m(1,null);return e.addFilter(m.equals("relations.entityName","product")),e},currencyCriteria:function(){return new m(1,25).addSorting(m.sort("name","ASC"))},taxCriteria:function(){var e=new m(1,500);return e.addSorting(m.sort("position")),e},productCriteria:function(){var e=new m(1,25);return e.getAssociation("media").addSorting(m.sort("position","ASC")),e.getAssociation("properties").addSorting(m.sort("name","ASC",!0)),e.getAssociation("prices").addSorting(m.sort("quantityStart","ASC",!0)),e.getAssociation("tags").addSorting(m.sort("name","ASC")),e.getAssociation("seoUrls").addFilter(m.equals("isCanonical",!0)),e.getAssociation("crossSellings").addSorting(m.sort("position","ASC")).getAssociation("assignedProducts").addSorting(m.sort("position","ASC")).addAssociation("product").getAssociation("product").addAssociation("options.group"),e.addAssociation("cover").addAssociation("categories").addAssociation("visibilities.salesChannel").addAssociation("options").addAssociation("configuratorSettings.option").addAssociation("unit").addAssociation("productReviews").addAssociation("seoUrls").addAssociation("mainCategories").addAssociation("options.group").addAssociation("customFieldSets").addAssociation("featureSet").addAssociation("cmsPage").addAssociation("featureSet"),e.getAssociation("manufacturer").addAssociation("media"),e},isChild:function(){return"null"!==this.$route.params.parentId},restrictedFields:function(){var e=[],t=this.$route.params.includesDigital;return"1"!==t&&"2"!==t||(e=["isCloseout","restockTime","maxPurchase","purchaseSteps","minPurchase","shippingFree"]),"1"===t&&e.push("stock"),e},generalFormFields:function(){var e,t,i,n,r,s,d,c;return[{name:"description",type:"html",canInherit:this.isChild,config:{componentName:"sw-bulk-edit-product-description",changeLabel:this.$tc("sw-bulk-edit.product.generalInformation.description.changeLabel"),disabled:null===(e=this.bulkEditProduct)||void 0===e||null===(t=e.description)||void 0===t?void 0:t.isInherited}},{name:"manufacturerId",canInherit:this.isChild,config:{componentName:"sw-entity-single-select",entity:"product_manufacturer",changeLabel:this.$tc("sw-bulk-edit.product.generalInformation.manufacturer.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.generalInformation.manufacturer.placeholderManufacturer"),disabled:null===(i=this.bulkEditProduct)||void 0===i||null===(n=i.manufacturerId)||void 0===n?void 0:n.isInherited}},{name:"active",type:"bool",canInherit:this.isChild,config:{type:"switch",label:this.$tc("sw-bulk-edit.product.generalInformation.active.switchLabel"),changeLabel:this.$tc("sw-bulk-edit.product.generalInformation.active.changeLabel"),disabled:null===(r=this.bulkEditProduct)||void 0===r||null===(s=r.active)||void 0===s?void 0:s.isInherited}},{name:"markAsTopseller",type:"bool",canInherit:this.isChild,config:{type:"switch",label:this.$tc("sw-bulk-edit.product.generalInformation.productPromotion.switchLabel"),changeLabel:this.$tc("sw-bulk-edit.product.generalInformation.productPromotion.changeLabel"),disabled:null===(d=this.bulkEditProduct)||void 0===d||null===(c=d.markAsTopseller)||void 0===c?void 0:c.isInherited}}]},pricesFormFields:function(){var e,t,i,n,r,s,d,c,l,a,o=[{name:"taxId",canInherit:this.isChild,config:{componentName:"sw-entity-single-select",entity:"tax",changeLabel:this.$tc("sw-bulk-edit.product.prices.taxRate.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.prices.taxRate.placeholderTax"),disabled:null===(e=this.bulkEditProduct)||void 0===e||null===(t=e.taxId)||void 0===t?void 0:t.isInherited}},{name:"price",config:{componentName:"sw-price-field",price:this.product.price,taxRate:this.taxRate,currency:this.currency,changeLabel:this.isChild?this.$tc("sw-bulk-edit.product.prices.price.label"):this.$tc("sw-bulk-edit.product.prices.price.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.prices.price.placeholderPrice"),disabled:!!this.isChild&&(null===(i=this.bulkEditProduct)||void 0===i||null===(n=i.isPriceInherited)||void 0===n?void 0:n.isInherited)}},{name:"purchasePrices",config:{componentName:"sw-price-field",price:this.product.purchasePrices,taxRate:this.taxRate,currency:this.currency,changeLabel:this.isChild?this.$tc("sw-bulk-edit.product.prices.purchasePrices.label"):this.$tc("sw-bulk-edit.product.prices.purchasePrices.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.prices.purchasePrices.placeholderPurchasePrices"),disabled:!!this.isChild&&(null===(r=this.bulkEditProduct)||void 0===r||null===(s=r.isPriceInherited)||void 0===s?void 0:s.isInherited)}},{name:"listPrice",config:{componentName:"sw-price-field",price:this.product.listPrice,taxRate:this.taxRate,currency:this.currency,changeLabel:this.isChild?this.$tc("sw-bulk-edit.product.prices.listPrice.label"):this.$tc("sw-bulk-edit.product.prices.listPrice.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.prices.listPrice.placeholderListPrice"),disabled:this.isChild?null===(d=this.bulkEditProduct)||void 0===d||null===(c=d.isPriceInherited)||void 0===c?void 0:c.isInherited:this.isDisabledListPrice}},{name:"regulationPrice",config:{componentName:"sw-price-field",price:this.product.regulationPrice,taxRate:this.taxRate,currency:this.currency,changeLabel:this.isChild?this.$tc("sw-bulk-edit.product.prices.regulationPrice.label"):this.$tc("sw-bulk-edit.product.prices.regulationPrice.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.prices.regulationPrice.placeholderRegulationPrice"),disabled:this.isChild?null===(l=this.bulkEditProduct)||void 0===l||null===(a=l.isPriceInherited)||void 0===a?void 0:a.isInherited:this.isDisabledRegulationPrice}}];if(this.isChild){var u={name:"isPriceInherited",canInherit:this.isChild,config:{componentName:"",changeLabel:this.$tc("sw-bulk-edit.product.prices.isPriceInherited.changeLabel")}};o.splice(1,0,u)}return o},advancedPricesFormFields:function(){return[{name:"prices",canInherit:this.isChild,config:{allowOverwrite:!0,allowClear:!0,allowAdd:!0,allowRemove:!0,changeLabel:this.$tc("sw-bulk-edit.product.advancedPrices.changeLabel")}}]},propertyFormFields:function(){var e,t;return[{name:"properties",canInherit:this.isChild,config:{componentName:"sw-product-properties",allowOverwrite:!0,allowClear:!0,allowAdd:!0,allowRemove:!0,changeLabel:this.$tc("sw-bulk-edit.product.property.changeLabel"),disabled:null===(e=this.bulkEditProduct)||void 0===e||null===(t=e.properties)||void 0===t?void 0:t.isInherited,isAssociation:!1,showInheritanceSwitcher:!1}}]},deliverabilityFormFields:function(){var e,t,i,n,r,s,d,c,l,a,o,u,h,p,b=this;return[{name:"stock",type:"int",canInherit:!1,config:{componentName:"sw-number-field",changeLabel:this.$tc("sw-bulk-edit.product.deliverability.stock.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.deliverability.stock.placeholderStock"),numberType:"int",allowEmpty:!0,allowOverwrite:!0,allowClear:!0,min:0}},{name:"isCloseout",type:"bool",canInherit:this.isChild,config:{type:"switch",label:this.$tc("sw-bulk-edit.product.deliverability.isCloseout.switchLabel"),changeLabel:this.$tc("sw-bulk-edit.product.deliverability.isCloseout.changeLabel"),disabled:null===(e=this.bulkEditProduct)||void 0===e||null===(t=e.isCloseout)||void 0===t?void 0:t.isInherited}},{name:"deliveryTimeId",canInherit:this.isChild,config:{componentName:"sw-entity-single-select",entity:"delivery_time",changeLabel:this.$tc("sw-bulk-edit.product.deliverability.deliveryTime.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.deliverability.deliveryTime.placeholderDeliveryTime"),disabled:null===(i=this.bulkEditProduct)||void 0===i||null===(n=i.deliveryTimeId)||void 0===n?void 0:n.isInherited}},{name:"restockTime",type:"int",canInherit:this.isChild,config:{componentName:"sw-number-field",changeLabel:this.$tc("sw-bulk-edit.product.deliverability.restockTime.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.deliverability.restockTime.placeholderRestockTime"),numberType:"int",allowEmpty:!0,allowOverwrite:!0,allowClear:!0,min:0,disabled:null===(r=this.bulkEditProduct)||void 0===r||null===(s=r.restockTime)||void 0===s?void 0:s.isInherited}},{name:"shippingFree",type:"bool",canInherit:this.isChild,config:{type:"switch",label:this.$tc("sw-bulk-edit.product.deliverability.freeShipping.switchLabel"),changeLabel:this.$tc("sw-bulk-edit.product.deliverability.freeShipping.changeLabel"),disabled:null===(d=this.bulkEditProduct)||void 0===d||null===(c=d.shippingFree)||void 0===c?void 0:c.isInherited}},{name:"minPurchase",type:"int",canInherit:this.isChild,config:{componentName:"sw-number-field",changeLabel:this.$tc("sw-bulk-edit.product.deliverability.minOrderQuantity.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.deliverability.minOrderQuantity.placeholderMinOrderQuantity"),numberType:"int",allowOverwrite:!0,allowClear:!0,allowEmpty:!0,min:1,disabled:null===(l=this.bulkEditProduct)||void 0===l||null===(a=l.minPurchase)||void 0===a?void 0:a.isInherited}},{name:"purchaseSteps",type:"int",canInherit:this.isChild,config:{componentName:"sw-number-field",changeLabel:this.$tc("sw-bulk-edit.product.deliverability.purchaseSteps.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.deliverability.purchaseSteps.placeholderPurchaseSteps"),numberType:"int",allowOverwrite:!0,allowClear:!0,allowEmpty:!0,min:1,disabled:null===(o=this.bulkEditProduct)||void 0===o||null===(u=o.purchaseSteps)||void 0===u?void 0:u.isInherited}},{name:"maxPurchase",type:"int",canInherit:this.isChild,config:{componentName:"sw-number-field",changeLabel:this.$tc("sw-bulk-edit.product.deliverability.maxOrderQuantity.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.deliverability.maxOrderQuantity.placeholderMaxOrderQuantity"),numberType:"int",allowOverwrite:!0,allowClear:!0,allowEmpty:!0,min:0,disabled:null===(h=this.bulkEditProduct)||void 0===h||null===(p=h.maxPurchase)||void 0===p?void 0:p.isInherited}}].filter((function(e){return!b.restrictedFields.includes(e.name)}))},assignmentFormFields:function(){var e,t,i,n,r,s,d,c;return[{name:"visibilities",canInherit:this.isChild,config:{componentName:"sw-bulk-edit-product-visibility",bulkEditProduct:this.bulkEditProduct,allowOverwrite:!0,allowClear:!0,allowAdd:!0,allowRemove:!0,changeLabel:this.$tc("sw-bulk-edit.product.assignment.visibilities.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.assignment.visibilities.placeholder"),disabled:null===(e=this.bulkEditProduct)||void 0===e||null===(t=e.visibilities)||void 0===t?void 0:t.isInherited}},{name:"categories",canInherit:this.isChild,config:{componentName:"sw-category-tree-field",categoriesCollection:this.product.categories,allowOverwrite:!0,allowClear:!0,allowAdd:!0,allowRemove:!0,changeLabel:this.$tc("sw-bulk-edit.product.assignment.categories.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.assignment.categories.placeholder"),disabled:null===(i=this.bulkEditProduct)||void 0===i||null===(n=i.categories)||void 0===n?void 0:n.isInherited}},{name:"tags",canInherit:this.isChild,config:{componentName:"sw-entity-tag-select",entityCollection:this.product.tags,entityName:"tag",allowOverwrite:!0,allowClear:!0,allowAdd:!0,allowRemove:!0,changeLabel:this.$tc("sw-bulk-edit.product.assignment.tags.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.assignment.tags.placeholder"),disabled:null===(r=this.bulkEditProduct)||void 0===r||null===(s=r.tags)||void 0===s?void 0:s.isInherited}},{name:"searchKeywords",canInherit:this.isChild,config:{componentName:"sw-multi-tag-select",value:this.product.searchKeywords,allowOverwrite:!0,allowClear:!0,allowAdd:!1,allowRemove:!1,changeLabel:this.$tc("sw-bulk-edit.product.assignment.searchKeywords.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.assignment.searchKeywords.placeholder"),disabled:null===(d=this.bulkEditProduct)||void 0===d||null===(c=d.searchKeywords)||void 0===c?void 0:c.isInherited}}]},mediaFormFields:function(){var e,t;return[{name:"media",canInherit:this.isChild,config:{componentName:"sw-bulk-edit-product-media",allowOverwrite:!0,allowClear:!0,allowAdd:!0,changeLabel:this.$tc("sw-bulk-edit.product.media.changeLabel"),disabled:null===(e=this.bulkEditProduct)||void 0===e||null===(t=e.media)||void 0===t?void 0:t.isInherited}}]},labellingFormFields:function(){var e,t;return[{name:"releaseDate",type:"datetime",canInherit:this.isChild,config:{type:"date",dateType:"datetime-local",changeLabel:this.$tc("sw-bulk-edit.product.labelling.releaseDate.changeLabel"),disabled:null===(e=this.bulkEditProduct)||void 0===e||null===(t=e.releaseDate)||void 0===t?void 0:t.isInherited}}]},seoFormFields:function(){var e,t,i,n,r,s;return[{name:"metaTitle",type:"text",canInherit:this.isChild,config:{componentName:"sw-field",type:"text",changeLabel:this.$tc("sw-bulk-edit.product.seo.metaTitle.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.seo.metaTitle.placeholderMetaTitle"),disabled:null===(e=this.bulkEditProduct)||void 0===e||null===(t=e.metaTitle)||void 0===t?void 0:t.isInherited}},{name:"metaDescription",type:"text",canInherit:this.isChild,config:{componentName:"sw-field",type:"textarea",changeLabel:this.$tc("sw-bulk-edit.product.seo.metaDescription.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.seo.metaDescription.placeholderMetaDescription"),disabled:null===(i=this.bulkEditProduct)||void 0===i||null===(n=i.metaDescription)||void 0===n?void 0:n.isInherited}},{name:"keywords",type:"text",canInherit:this.isChild,config:{componentName:"sw-field",type:"text",changeLabel:this.$tc("sw-bulk-edit.product.seo.seoKeywords.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.seo.seoKeywords.placeholderSeoKeywords"),disabled:null===(r=this.bulkEditProduct)||void 0===r||null===(s=r.keywords)||void 0===s?void 0:s.isInherited}}]},measuresPackagingFields:function(){var e,t,i,n,r,s,d,c,l,a,o,u,h,p,b,m,k,g;return[{name:"width",type:"int",canInherit:this.isChild,config:{componentName:"sw-number-field",changeLabel:this.$tc("sw-bulk-edit.product.measuresAndPackaging.widthTitle.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.measuresAndPackaging.widthTitle.placeholder"),numberType:"float",suffixLabel:"mm",min:0,disabled:null===(e=this.bulkEditProduct)||void 0===e||null===(t=e.width)||void 0===t?void 0:t.isInherited}},{name:"height",type:"int",canInherit:this.isChild,config:{componentName:"sw-number-field",changeLabel:this.$tc("sw-bulk-edit.product.measuresAndPackaging.heightTitle.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.measuresAndPackaging.heightTitle.placeholder"),numberType:"float",suffixLabel:"mm",min:0,disabled:null===(i=this.bulkEditProduct)||void 0===i||null===(n=i.height)||void 0===n?void 0:n.isInherited}},{name:"length",type:"int",canInherit:this.isChild,config:{componentName:"sw-number-field",changeLabel:this.$tc("sw-bulk-edit.product.measuresAndPackaging.lengthTitle.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.measuresAndPackaging.lengthTitle.placeholder"),numberType:"float",suffixLabel:"mm",min:0,disabled:null===(r=this.bulkEditProduct)||void 0===r||null===(s=r.length)||void 0===s?void 0:s.isInherited}},{name:"weight",type:"int",canInherit:this.isChild,config:{componentName:"sw-number-field",changeLabel:this.$tc("sw-bulk-edit.product.measuresAndPackaging.weightTitle.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.measuresAndPackaging.weightTitle.placeholder"),numberType:"float",suffixLabel:"kg",min:0,disabled:null===(d=this.bulkEditProduct)||void 0===d||null===(c=d.weight)||void 0===c?void 0:c.isInherited}},{name:"purchaseUnit",type:"int",canInherit:this.isChild,config:{componentName:"sw-number-field",numberType:"float",min:0,changeLabel:this.$tc("sw-bulk-edit.product.measuresAndPackaging.sellingUnitTitle.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.measuresAndPackaging.sellingUnitTitle.placeholder"),disabled:null===(l=this.bulkEditProduct)||void 0===l||null===(a=l.purchaseUnit)||void 0===a?void 0:a.isInherited}},{name:"unitId",canInherit:this.isChild,config:{componentName:"sw-entity-single-select",entity:"unit",changeLabel:this.$tc("sw-bulk-edit.product.measuresAndPackaging.scaleUnitTitle.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.measuresAndPackaging.scaleUnitTitle.placeholder"),disabled:null===(o=this.bulkEditProduct)||void 0===o||null===(u=o.unitId)||void 0===u?void 0:u.isInherited}},{name:"packUnit",type:"text",canInherit:this.isChild,config:{componentName:"sw-field",type:"text",changeLabel:this.$tc("sw-bulk-edit.product.measuresAndPackaging.packUnitTitle.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.measuresAndPackaging.packUnitTitle.placeholder"),disabled:null===(h=this.bulkEditProduct)||void 0===h||null===(p=h.packUnit)||void 0===p?void 0:p.isInherited}},{name:"packUnitPlural",type:"text",canInherit:this.isChild,config:{componentName:"sw-field",type:"text",changeLabel:this.$tc("sw-bulk-edit.product.measuresAndPackaging.packUnitPluralTitle.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.measuresAndPackaging.packUnitPluralTitle.placeholder"),disabled:null===(b=this.bulkEditProduct)||void 0===b||null===(m=b.packUnitPlural)||void 0===m?void 0:m.isInherited}},{name:"referenceUnit",type:"int",canInherit:this.isChild,config:{componentName:"sw-number-field",numberType:"float",min:0,changeLabel:this.$tc("sw-bulk-edit.product.measuresAndPackaging.basicUnitTitle.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.measuresAndPackaging.basicUnitTitle.placeholder"),disabled:null===(k=this.bulkEditProduct)||void 0===k||null===(g=k.referenceUnit)||void 0===g?void 0:g.isInherited}}]},essentialCharacteristicsFormFields:function(){var e,t;return[{name:"featureSetId",canInherit:this.isChild,config:{componentName:"sw-entity-single-select",entity:"product_feature_set",changeLabel:this.$tc("sw-bulk-edit.product.featureSets.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.featureSets.placeholder"),disabled:null===(e=this.bulkEditProduct)||void 0===e||null===(t=e.featureSetId)||void 0===t?void 0:t.isInherited}}]},ruleRepository:function(){return this.repositoryFactory.create("rule")},priceRepository:function(){var e;return null!==(e=this.product)&&void 0!==e&&e.prices?this.repositoryFactory.create(this.product.prices.entity,this.product.prices.source):null},ruleCriteria:function(){var e=new m(1,500);return e.addFilter(m.multi("OR",[m.contains("rule.moduleTypes.types","price"),m.equals("rule.moduleTypes",null)])),e},priceRuleGroups:function(){return this.product.prices?this.product.prices.reduce((function(e,t){return e[t.ruleId]=[].concat(d()(e[t.ruleId]||[]),[t]),e}),{}):{}}}),watch:{"bulkEditProduct.prices.type":function(e){var t,i,n,r=this;null!==(t=this.product)&&void 0!==t&&null!==(i=t.prices)&&void 0!==i&&i.length&&"remove"===e&&(null===(n=this.product.prices)||void 0===n?void 0:n.getIds()).forEach((function(e){return r.product.prices.remove(e)}))},"product.visibilities":{handler:function(e){this.isChild&&this.$set(this.bulkEditProduct.visibilities,"value",e)}},"bulkEditProduct.isPriceInherited.isChanged":{handler:function(e){this.isChild&&(this.$set(this.bulkEditProduct.price,"isChanged",e),this.$set(this.bulkEditProduct.purchasePrices,"isChanged",e),this.$set(this.bulkEditProduct.listPrice,"isChanged",e),this.$set(this.bulkEditProduct.regulationPrice,"isChanged",e))}},"bulkEditProduct.isPriceInherited.isInherited":{handler:function(e){this.isChild&&(this.$set(this.bulkEditProduct.price,"isInherited",e),this.$set(this.bulkEditProduct.purchasePrices,"isInherited",e),this.$set(this.bulkEditProduct.listPrice,"isInherited",e),this.$set(this.bulkEditProduct.regulationPrice,"isInherited",e))}},"product.listPrice":{deep:!0,handler:function(e){var t,i,n,r,s,d;this.isChild&&null!==(t=this.bulkEditProduct)&&void 0!==t&&null!==(i=t.price)&&void 0!==i&&null!==(n=i.value)&&void 0!==n&&n.length&&(null!==(r=this.bulkEditProduct)&&void 0!==r&&null!==(s=r.price)&&void 0!==s&&null!==(d=s.value[0])&&void 0!==d&&d.listPrice||this.$set(this.bulkEditProduct.price.value[0],"listPrice",e[0]))}},"product.regulationPrice":{deep:!0,handler:function(e){var t,i,n,r,s,d;this.isChild&&null!==(t=this.bulkEditProduct)&&void 0!==t&&null!==(i=t.price)&&void 0!==i&&null!==(n=i.value)&&void 0!==n&&n.length&&(null!==(r=this.bulkEditProduct)&&void 0!==r&&null!==(s=r.price)&&void 0!==s&&null!==(d=s.value[0])&&void 0!==d&&d.regulationPrice||this.$set(this.bulkEditProduct.price.value[0],"regulationPrice",e[0]))}}},beforeCreate:function(){Shopware.State.registerModule("swProductDetail",u.a)},beforeUnmount:function(){Shopware.State.unregisterModule("swProductDetail")},created:function(){this.createdComponent()},methods:{createdComponent:function(){var e=this;return r()(o.a.mark((function t(){var i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setRouteMetaModule(),e.isLoading=!0,!e.isChild){t.next=5;break}return t.next=5,e.getParentProduct();case 5:i=[e.loadCurrencies(),e.loadTaxes(),e.loadCustomFieldSets(),e.loadDefaultCurrency(),e.loadRules()],Promise.all(i).then((function(){e.loadBulkEditData();var t=e.isChild?e.parentProduct:e.productRepository.create();Shopware.State.commit("swProductDetail/setProduct",t),e.definePricesBulkEdit(),e.isChild&&e.setBulkEditProductValue(),e.isLoading=!1,e.isLoadedData=!0}));case 7:case"end":return t.stop()}}),t)})))()},setRouteMetaModule:function(){this.$set(this.$route.meta.$module,"color","#57D9A3"),this.$set(this.$route.meta.$module,"icon","regular-products")},setBulkEditProductValue:function(){var e=this;Object.keys(this.bulkEditProduct).forEach((function(t){var i;e.$set(e.bulkEditProduct[t],"value",P(null===(i=e.parentProduct)||void 0===i?void 0:i[t])),"searchKeywords"===t&&e.setProductSearchKeywords()}))},getParentProduct:function(){var e=this;return this.productRepository.get(this.$route.params.parentId,Shopware.Context.api,this.productCriteria).then((function(t){t.stock=null,Shopware.State.commit("swProductDetail/setParentProduct",t),e.parentProductFrozen=JSON.stringify(t)})).catch((function(){Shopware.State.commit("swProductDetail/setParentProduct",{})}))},loadDefaultCurrency:function(){var e=this;return this.currencyRepository.search(this.currencyCriteria).then((function(t){e.currency=t.find((function(e){return e.isSystemDefault}))}))},defineBulkEditData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"overwrite",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.bulkEditProduct[e]||("stock"!==e?this.$set(this.bulkEditProduct,e,{isChanged:n,type:i,value:t,isInherited:this.isChild}):this.$set(this.bulkEditProduct,e,{value:t,type:i,isChanged:n,isInherited:!1}))},loadBulkEditData:function(){var e=this;[this.generalFormFields,this.deliverabilityFormFields,this.pricesFormFields,this.advancedPricesFormFields,this.propertyFormFields,this.assignmentFormFields,this.mediaFormFields,this.labellingFormFields,this.seoFormFields,this.measuresPackagingFields,this.essentialCharacteristicsFormFields].forEach((function(t){t.forEach((function(t){e.defineBulkEditData(t.name)}))}))},loadCustomFieldSets:function(){var e=this;return this.customFieldSetRepository.search(this.customFieldSetCriteria).then((function(t){e.customFieldSets=t}))},loadTaxes:function(){var e=this;return this.taxRepository.search(this.taxCriteria).then((function(t){var i;e.taxRate=e.isChild?null===(i=e.parentProduct)||void 0===i?void 0:i.tax:t[0],Shopware.State.commit("swProductDetail/setTaxes",t)}))},productTaxRate:function(){var e=this;return this.taxes?this.taxes.find((function(t){return t.id===e.product.taxId})):{}},loadCurrencies:function(){return this.currencyRepository.search(new m(1,500)).then((function(e){Shopware.State.commit("swProductDetail/setCurrencies",e)}))},definePricesBulkEdit:function(){var e,t,i,n;if(this.isComponentMounted){if(this.isChild&&!k.isEmpty(this.parentProduct))return this.$set(this.product,"price",this.parentProduct.price),this.$set(this.product,"purchasePrices",this.parentProduct.purchasePrices),this.setProductPrice("listPrice"),void this.setProductPrice("regulationPrice");null!==(t=(e=this.product).price)&&void 0!==t||(e.price=[{currencyId:this.currency.id,net:null,linked:!0,gross:null}]),null!==(n=(i=this.product).purchasePrices)&&void 0!==n||(i.purchasePrices=[{currencyId:this.currency.id,net:null,linked:!0,gross:null}]),this.product.listPrice=[{currencyId:this.currency.id,net:null,linked:!0,gross:null}],this.product.regulationPrice=[{currencyId:this.currency.id,net:null,linked:!0,gross:null}]}},setProductPrice:function(e){var t=[{currencyId:this.currency.id,net:null,linked:!0,gross:null}];k.isEmpty(this.parentProduct.price[0][e])?this.$set(this.product,"".concat(e),t):this.$set(this.product,"".concat(e),[this.parentProduct.price[0][e]])},onChangePrices:function(e){"taxId"===e?this.taxRate=this.productTaxRate():"price"===e&&(this.isDisabledListPrice=!this.bulkEditProduct.price.isChanged,this.isDisabledRegulationPrice=!this.bulkEditProduct.price.isChanged)},onCustomFieldsChange:function(e){if(Object.keys(e).length<=0)this.bulkEditSelected=this.bulkEditSelected.filter((function(e){return"customFields"!==e.field}));else{var t={field:"customFields",type:"overwrite",value:e};this.bulkEditSelected.push(t)}},onProcessData:function(){var e=this,t=!1,i=!1;Object.keys(this.bulkEditProduct).forEach((function(n){var r=P(e.bulkEditProduct[n]);if(r.isChanged)if("listPrice"!==n)if("regulationPrice"!==n){var s=e.product[n];["minPurchase","maxPurchase","purchaseSteps","restockTime"].includes(n)&&"clear"===r.type?(s=null,r.type="overwrite"):"searchKeywords"===n&&(n="customSearchKeywords"),r.isInherited&&(s=null);var d={field:n,type:r.type,value:s};"visibilities"===n?d.mappingReferenceField="salesChannelId":"media"===n?d.mappingReferenceField="mediaId":"prices"===n&&(d.mappingReferenceField="ruleId"),e.isChild&&null!==d.value&&k.isArray(d.value)&&d.value.forEach((function(e){delete e.id})),e.bulkEditSelected.push(d)}else i=!0;else t=!0})),t&&this.processListPrice(),i&&this.processRegulationPrice()},processListPrice:function(){var e=this.bulkEditSelected.find((function(e){return"price"===e.field&&!k.isEmpty(e.value)}));e&&this.$set(e.value[0],"listPrice",this.product.listPrice[0])},processRegulationPrice:function(){var e=this.bulkEditSelected.find((function(e){return"price"===e.field&&!k.isEmpty(e.value)}));e&&this.$set(e.value[0],"regulationPrice",this.product.regulationPrice[0])},openModal:function(){this.isComponentMounted=!1,this.$router.push({name:"sw.bulk.edit.product.save",params:{parentId:this.$route.params.parentId}})},onSave:function(){var e=this;return r()(o.a.mark((function t(){var i,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,e.onProcessData(),i=g(e.selectedIds,50),n=i.map((function(t){return e.bulkEditApiFactory.getHandler("product").bulkEdit(t,e.bulkEditSelected)})),e.bulkEditSelected=[],t.abrupt("return",Promise.all(n).then((function(t){var i=t.every((function(e){return e.data}));e.processStatus=i?"success":"fail"})).catch((function(){e.processStatus="fail"})).finally((function(){e.isLoading=!1})));case 6:case"end":return t.stop()}}),t)})))()},closeModal:function(){this.$router.push({name:"sw.bulk.edit.product"})},onChangeLanguage:function(e){Shopware.State.commit("context/setApiLanguageId",e)},loadRules:function(){var e=this;return this.ruleRepository.search(this.ruleCriteria).then((function(t){e.rules=t}))},onRuleChange:function(e){var t=this;if(e.length>this.product.prices.length){var i=this.priceRepository.create();return i.productId=this.product.id,i.quantityStart=1,i.quantityEnd=null,i.currencyId=this.defaultCurrency.id,i.price=[{currencyId:this.defaultCurrency.id,gross:0,linked:this.defaultPrice.linked,net:0,listPrice:null,regulationPrice:null}],this.defaultPrice.listPrice&&(i.price[0].listPrice={currencyId:this.defaultCurrency.id,gross:this.defaultPrice.listPrice.gross,linked:this.defaultPrice.listPrice.linked,net:this.defaultPrice.listPrice.net}),this.defaultPrice.regulationPrice&&(i.price[0].regulationPrice={currencyId:this.defaultCurrency.id,gross:this.defaultPrice.regulationPrice.gross,linked:this.defaultPrice.regulationPrice.linked,net:this.defaultPrice.regulationPrice.net}),void e.forEach((function(e){t.product.prices.some((function(t){return t.ruleId===e.ruleId}))||(i.ruleId=e.id,i.ruleName=e.name,t.product.prices.add(i))}))}this.product.prices.forEach((function(i){e.some((function(e){return i.ruleId===e.ruleId}))||t.product.prices.remove(i.id)}))},onInheritanceRestore:function(e){var t=JSON.parse(this.parentProductFrozen);if(this.$set(this.bulkEditProduct[e.name],"isInherited",!0),this.$set(this.bulkEditProduct[e.name],"value",t[e.name]),"taxId"===e.name)return this.taxRate=t.tax,void this.$set(this.product,"taxId",t.taxId);if("isPriceInherited"===e.name){this.$set(this.product.price,0,t.price[0]),this.$set(this.product.purchasePrices,0,t.purchasePrices[0]);var i=k.isEmpty(t.price[0].listPrice)?{currencyId:this.currency.id,net:null,linked:!0,gross:null}:t.price[0].listPrice;this.$set(this.product,"listPrice",[i]),this.$set(this.product.price[0],"listPrice",i);var n=k.isEmpty(t.price[0].regulationPrice)?{currencyId:this.currency.id,net:null,linked:!0,gross:null}:t.price[0].regulationPrice;return this.$set(this.product,"regulationPrice",[n]),void this.$set(this.product.price[0],"regulationPrice",n)}"categories"!==e.name?"media"!==e.name?"prices"!==e.name&&"properties"!==e.name?"searchKeywords"!==e.name?this.$set(this.product,e.name,t[e.name]):this.setProductSearchKeywords():this.setProductAssociation(e.name,t):this.$set(this.product,"media",t.media):this.setProductAssociation(e.name,t)},onInheritanceRemove:function(e){["properties","prices"].includes(e.name)&&this.setProductAssociation(e.name),this.$set(this.bulkEditProduct[e.name],"isInherited",!1)},setProductSearchKeywords:function(){var e;if(k.isEmpty(null===(e=this.parentProduct)||void 0===e?void 0:e.customSearchKeywords))return this.$set(this.bulkEditProduct.searchKeywords,"value",[]),void this.$set(this.product,"searchKeywords",[]);this.$set(this.bulkEditProduct.searchKeywords,"value",this.parentProduct.customSearchKeywords),this.$set(this.product,"searchKeywords",this.parentProduct.customSearchKeywords)},setProductAssociation:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.product[e].getIds();n.forEach((function(i){return t.product[e].remove(i)})),i?i[e].forEach((function(i){return t.product[e].add(i)})):this.$set(this.bulkEditProduct[e],"value",[])}}}},khld:function(e,t,i){},kwWX:function(e,t,i){var n=i("khld");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,i("ydqr").default)("2dd44fdd",n,!0,{})}}]);