{"version":3,"sources":["webpack:///./src/module/sw-cms/elements/product-slider/component/sw-cms-el-product-slider.html.twig","webpack:///./src/module/sw-cms/elements/product-slider/component/index.js","webpack:///./src/module/sw-cms/elements/product-slider/component/sw-cms-el-product-slider.scss"],"names":["Mixin","Shopware","template","inject","mixins","getByName","data","sliderBoxLimit","computed","demoProductElement","config","boxLayout","source","value","this","element","displayMode","hasNavigation","navigation","classes","border","sliderBoxMinWidth","elMinWidth","indexOf","concat","currentDeviceView","cmsPageState","currentCmsDeviceView","verticalAlignStyle","verticalAlign","watch","handler","setSliderRowLimit","_this","setTimeout","created","createdComponent","mounted","mountedComponent","methods","initElementConfig","initElementData","$refs","productHolder","offsetWidth","parseInt","replace","boxWidth","elWidth","Math","floor","getProductEl","product","content","__esModule","default","module","i","locals","exports","add"],"mappings":"wIAAe,ICGPA,EAAUC,SAAVD,MAMO,WACXE,SDVW,g/ECYXC,OAAQ,CAAC,WAETC,OAAQ,CACJJ,EAAMK,UAAU,gBAGpBC,KAAI,WACA,MAAO,CACHC,eAAgB,IAIxBC,SAAU,CACNC,mBAAkB,WACd,MAAO,CACHC,OAAQ,CACJC,UAAW,CACPC,OAAQ,SACRC,MAAOC,KAAKC,QAAQL,OAAOC,UAAUE,OAEzCG,YAAa,CACTJ,OAAQ,SACRC,MAAOC,KAAKC,QAAQL,OAAOM,YAAYH,QAG/CP,KAAM,OAIdW,cAAa,WACT,QAASH,KAAKC,QAAQL,OAAOQ,WAAWL,OAG5CM,QAAO,WACH,MAAO,CACH,kBAAmBL,KAAKG,cACxB,gBAAiBH,KAAKC,QAAQL,OAAOU,OAAOP,QAIpDQ,kBAAiB,WACb,OAAIP,KAAKC,QAAQL,OAAOY,WAAWT,OAASC,KAAKC,QAAQL,OAAOY,WAAWT,MAAMU,QAAQ,OAAS,EACxF,2BAANC,OAAkCV,KAAKC,QAAQL,OAAOY,WAAWT,MAAK,WAGnE,MAGXY,kBAAiB,WACb,OAAOX,KAAKY,aAAaC,sBAG7BC,mBAAkB,WACd,OAAKd,KAAKC,QAAQL,OAAOmB,cAAchB,MAIjC,eAANW,OAAsBV,KAAKC,QAAQL,OAAOmB,cAAchB,MAAK,KAHlD,OAOnBiB,MAAO,CACH,kCAAmC,CAC/BC,QAAO,WACHjB,KAAKkB,sBAIbP,kBAAiB,WAAI,IAADQ,EAAA,KAChBC,YAAW,WACPD,EAAKD,sBACN,OAIXG,QAAO,WACHrB,KAAKsB,oBAGTC,QAAO,WACHvB,KAAKwB,oBAGTC,QAAS,CACLH,iBAAgB,WACZtB,KAAK0B,kBAAkB,kBACvB1B,KAAK2B,gBAAgB,mBAGzBH,iBAAgB,WACZxB,KAAKkB,qBAGTA,kBAAiB,WACb,GAA+B,WAA3BlB,KAAKW,mBAAkCX,KAAK4B,MAAMC,cAAcC,YAAc,IAC9E9B,KAAKP,eAAiB,OAI1B,GAAKO,KAAKC,QAAQL,OAAOY,WAAWT,OACS,OAAzCC,KAAKC,QAAQL,OAAOY,WAAWT,QACyB,IAAxDC,KAAKC,QAAQL,OAAOY,WAAWT,MAAMU,QAAQ,OAKjD,KAAIsB,SAAS/B,KAAKC,QAAQL,OAAOY,WAAWT,MAAMiC,QAAQ,KAAM,IAAK,KAAO,GAA5E,CAKA,IACMC,EAAWjC,KAAK4B,MAAMC,cAAcC,YAEtCI,EAAUH,SAAS/B,KAAKC,QAAQL,OAAOY,WAAWT,MAAMiC,QAAQ,KAAM,IAAK,IAE3EE,GAAW,MACXA,GANkB,KAStBlC,KAAKP,eAAiB0C,KAAKC,MAAMH,GAAYC,EAP/B,WAXVlC,KAAKP,eAAiB,GAqB9B4C,aAAY,SAACC,GACT,MAAO,CACH1C,OAAQ,CACJC,UAAW,CACPC,OAAQ,SACRC,MAAOC,KAAKC,QAAQL,OAAOC,UAAUE,OAEzCG,YAAa,CACTJ,OAAQ,SACRC,MAAOC,KAAKC,QAAQL,OAAOM,YAAYH,QAG/CP,KAAM,CACF8C,gB,4CCjJpB,IAAIC,EAAU,EAAQ,QACnBA,EAAQC,aAAYD,EAAUA,EAAQE,SACnB,iBAAZF,IAAsBA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAC7DA,EAAQK,SAAQF,EAAOG,QAAUN,EAAQK,SAG/BE,EADH,EAAQ,QAA2EL,SAC5E,WAAYF,GAAS,EAAM","file":"static/js/2243d69313b12c8f06c4.js","sourcesContent":["export default \"\\n{% block sw_cms_element_product_slider %}\\n<div\\n    class=\\\"sw-cms-el-product-slider\\\"\\n    :class=\\\"classes\\\"\\n    :style=\\\"verticalAlignStyle\\\"\\n>\\n    \\n    {% block sw_cms_element_product_slider_title %}\\n    <div\\n        v-if=\\\"element.config.title.value\\\"\\n        class=\\\"sw-cms-el-product-slider__title\\\"\\n    >\\n        {{ element.config.title.value }}\\n    </div>\\n    {% endblock %}\\n\\n    \\n    {% block sw_cms_element_product_slider_content %}\\n    <div class=\\\"sw-cms-el-product-slider__content\\\">\\n        \\n        {% block sw_cms_element_product_slider_arrow_left %}\\n        <div\\n            v-if=\\\"hasNavigation\\\"\\n            class=\\\"sw-cms-el-product-slider__navigation\\\"\\n        >\\n            <sw-icon\\n                class=\\\"sw-cms-el-product-slider__navigation-button\\\"\\n                name=\\\"regular-chevron-left\\\"\\n                size=\\\"24\\\"\\n            />\\n        </div>\\n        {% endblock %}\\n\\n        \\n        {% block sw_cms_element_product_slider_product_holder %}\\n        <div\\n            ref=\\\"productHolder\\\"\\n            class=\\\"sw-cms-el-product-slider__product-holder\\\"\\n            :style=\\\"sliderBoxMinWidth\\\"\\n        >\\n            <template v-if=\\\"!element.data || !element.data.products\\\">\\n                \\n                {% block sw_cms_element_product_slider_demo_data %}\\n                <sw-cms-el-product-box\\n                    v-for=\\\"index in sliderBoxLimit\\\"\\n                    :key=\\\"index\\\"\\n                    :element=\\\"demoProductElement\\\"\\n                />\\n                {% endblock %}\\n            </template>\\n\\n            <template v-else>\\n                \\n                {% block sw_cms_element_product_slider_products %}\\n                \\n                <sw-cms-el-product-box\\n                    v-for=\\\"(product, index) in element.data.products\\\"\\n                    v-if=\\\"index < sliderBoxLimit\\\"\\n                    :key=\\\"product.id\\\"\\n                    :element=\\\"getProductEl(product)\\\"\\n                />\\n                {% endblock %}\\n            </template>\\n        </div>\\n        {% endblock %}\\n\\n        \\n        {% block sw_cms_element_product_slider_arrow_right %}\\n        <div\\n            v-if=\\\"hasNavigation\\\"\\n            class=\\\"sw-cms-el-product-slider__navigation\\\"\\n        >\\n            <sw-icon\\n                class=\\\"sw-cms-el-product-slider__navigation-button\\\"\\n                name=\\\"regular-chevron-right\\\"\\n                size=\\\"24\\\"\\n            />\\n        </div>\\n        {% endblock %}\\n    </div>\\n    {% endblock %}\\n</div>\\n{% endblock %}\\n\";","import template from './sw-cms-el-product-slider.html.twig';\nimport './sw-cms-el-product-slider.scss';\n\nconst { Mixin } = Shopware;\n\n/**\n * @private\n * @package buyers-experience\n */\nexport default {\n    template,\n\n    inject: ['feature'],\n\n    mixins: [\n        Mixin.getByName('cms-element'),\n    ],\n\n    data() {\n        return {\n            sliderBoxLimit: 3,\n        };\n    },\n\n    computed: {\n        demoProductElement() {\n            return {\n                config: {\n                    boxLayout: {\n                        source: 'static',\n                        value: this.element.config.boxLayout.value,\n                    },\n                    displayMode: {\n                        source: 'static',\n                        value: this.element.config.displayMode.value,\n                    },\n                },\n                data: null,\n            };\n        },\n\n        hasNavigation() {\n            return !!this.element.config.navigation.value;\n        },\n\n        classes() {\n            return {\n                'has--navigation': this.hasNavigation,\n                'has--border': !!this.element.config.border.value,\n            };\n        },\n\n        sliderBoxMinWidth() {\n            if (this.element.config.elMinWidth.value && this.element.config.elMinWidth.value.indexOf('px') > -1) {\n                return `repeat(auto-fit, minmax(${this.element.config.elMinWidth.value}, 1fr))`;\n            }\n\n            return null;\n        },\n\n        currentDeviceView() {\n            return this.cmsPageState.currentCmsDeviceView;\n        },\n\n        verticalAlignStyle() {\n            if (!this.element.config.verticalAlign.value) {\n                return null;\n            }\n\n            return `align-self: ${this.element.config.verticalAlign.value};`;\n        },\n    },\n\n    watch: {\n        'element.config.elMinWidth.value': {\n            handler() {\n                this.setSliderRowLimit();\n            },\n        },\n\n        currentDeviceView() {\n            setTimeout(() => {\n                this.setSliderRowLimit();\n            }, 400);\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    mounted() {\n        this.mountedComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.initElementConfig('product-slider');\n            this.initElementData('product-slider');\n        },\n\n        mountedComponent() {\n            this.setSliderRowLimit();\n        },\n\n        setSliderRowLimit() {\n            if (this.currentDeviceView === 'mobile' || this.$refs.productHolder.offsetWidth < 500) {\n                this.sliderBoxLimit = 1;\n                return;\n            }\n\n            if (!this.element.config.elMinWidth.value ||\n                this.element.config.elMinWidth.value === 'px' ||\n                this.element.config.elMinWidth.value.indexOf('px') === -1) {\n                this.sliderBoxLimit = 3;\n                return;\n            }\n\n            if (parseInt(this.element.config.elMinWidth.value.replace('px', ''), 10) <= 0) {\n                return;\n            }\n\n            // Subtract to fake look in storefront which has more width\n            const fakeLookWidth = 100;\n            const boxWidth = this.$refs.productHolder.offsetWidth;\n            const elGap = 32;\n            let elWidth = parseInt(this.element.config.elMinWidth.value.replace('px', ''), 10);\n\n            if (elWidth >= 300) {\n                elWidth -= fakeLookWidth;\n            }\n\n            this.sliderBoxLimit = Math.floor(boxWidth / (elWidth + elGap));\n        },\n\n        getProductEl(product) {\n            return {\n                config: {\n                    boxLayout: {\n                        source: 'static',\n                        value: this.element.config.boxLayout.value,\n                    },\n                    displayMode: {\n                        source: 'static',\n                        value: this.element.config.displayMode.value,\n                    },\n                },\n                data: {\n                    product,\n                },\n            };\n        },\n    },\n};\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--15-1!../../../../../../node_modules/css-loader/dist/cjs.js??ref--15-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--15-3!./sw-cms-el-product-slider.scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"d3c1a9e0\", content, true, {});"],"sourceRoot":""}