{"version":3,"sources":["webpack:///./src/module/sw-settings-delivery-times/page/sw-settings-delivery-time-detail/index.js","webpack:///./src/module/sw-settings-delivery-times/page/sw-settings-delivery-time-detail/sw-settings-delivery-time-detail.html.twig"],"names":["_Shopware","Shopware","Component","Mixin","ShopwareError","Classes","mapPropertyErrors","getComponentHelper","template","inject","mixins","getByName","shortcuts","active","this","allowSave","method","ESCAPE","data","deliveryTime","isLoading","isSaveSuccessful","customFieldSets","metaInfo","title","$createTitle","computed","_objectSpread","deliveryTimeRepository","repositoryFactory","create","deliveryTimeUnits","value","label","$tc","displayName","name","isInvalidMinField","min","max","invalidMinError","code","isNew","acl","can","tooltipSave","message","disabled","showOnDisabledElements","systemKey","$device","getSystemKey","concat","appearance","tooltipCancel","showCustomFields","length","created","createdComponent","methods","_this","loadCustomFieldSets","get","$route","params","id","then","catch","exception","createNotificationError","_this2","customFieldDataProviderService","getCustomFieldSets","sets","onSave","_this3","save","Context","api","onChangeLanguage","saveFinish","onCancel","$router","push"],"mappings":"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","file":"static/js/b5955e4230c9c7e147fc.js","sourcesContent":["import template from './sw-settings-delivery-time-detail.html.twig';\n\n/**\n * @package checkout\n */\n\nconst { Component, Mixin } = Shopware;\nconst ShopwareError = Shopware.Classes.ShopwareError;\nconst { mapPropertyErrors } = Component.getComponentHelper();\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    inject: ['repositoryFactory', 'acl', 'customFieldDataProviderService'],\n\n    mixins: [\n        Mixin.getByName('notification'),\n    ],\n\n    shortcuts: {\n        'SYSTEMKEY+S': {\n            active() {\n                return this.allowSave;\n            },\n            method: 'onSave',\n        },\n\n        ESCAPE: 'onCancel',\n    },\n\n    data() {\n        return {\n            deliveryTime: null,\n            isLoading: false,\n            isSaveSuccessful: false,\n            customFieldSets: null,\n        };\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(),\n        };\n    },\n\n    computed: {\n        ...mapPropertyErrors('deliveryTime', [\n            'name',\n            'min',\n            'max',\n            'unit',\n        ]),\n\n        deliveryTimeRepository() {\n            return this.repositoryFactory.create('delivery_time');\n        },\n\n        deliveryTimeUnits() {\n            return [{\n                value: 'hour',\n                label: this.$tc('sw-settings-delivery-time.detail.selectionUnitHour'),\n            }, {\n                value: 'day',\n                label: this.$tc('sw-settings-delivery-time.detail.selectionUnitDay'),\n            }, {\n                value: 'week',\n                label: this.$tc('sw-settings-delivery-time.detail.selectionUnitWeek'),\n            }, {\n                value: 'month',\n                label: this.$tc('sw-settings-delivery-time.detail.selectionUnitMonth'),\n            }, {\n                value: 'year',\n                label: this.$tc('sw-settings-delivery-time.detail.selectionUnitYear'),\n            }];\n        },\n\n        displayName() {\n            if (this.deliveryTime && this.deliveryTime.name) {\n                return this.deliveryTime.name;\n            }\n            return this.$tc('sw-settings-delivery-time.detail.textHeadlineNew');\n        },\n\n        isInvalidMinField() {\n            return this.deliveryTime.min > this.deliveryTime.max;\n        },\n\n        invalidMinError() {\n            if (this.isInvalidMinField) {\n                return new ShopwareError({ code: 'DELIVERY_TIME_MIN_INVALID' });\n            }\n            return null;\n        },\n\n        allowSave() {\n            if (!this.deliveryTime) {\n                return false;\n            }\n\n            if (this.deliveryTime.isNew()) {\n                return this.acl.can('delivery_times.creator');\n            }\n\n            return this.acl.can('delivery_times.editor');\n        },\n\n        tooltipSave() {\n            if (!this.allowSave) {\n                return {\n                    message: this.$tc('sw-privileges.tooltip.warning'),\n                    disabled: this.allowSave,\n                    showOnDisabledElements: true,\n                };\n            }\n\n            const systemKey = this.$device.getSystemKey();\n\n            return {\n                message: `${systemKey} + S`,\n                appearance: 'light',\n            };\n        },\n\n        tooltipCancel() {\n            return {\n                message: 'ESC',\n                appearance: 'light',\n            };\n        },\n\n        showCustomFields() {\n            return this.deliveryTime && this.customFieldSets && this.customFieldSets.length > 0;\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.isLoading = true;\n            this.loadCustomFieldSets();\n\n            this.deliveryTimeRepository\n                .get(this.$route.params.id)\n                .then((deliveryTime) => {\n                    this.deliveryTime = deliveryTime;\n                    this.isLoading = false;\n                })\n                .catch((exception) => {\n                    this.createNotificationError({\n                        message: this.$tc('sw-settings-delivery-time.detail.errorLoad'),\n                    });\n\n                    this.isLoading = false;\n                    throw exception;\n                });\n        },\n\n        loadCustomFieldSets() {\n            this.customFieldDataProviderService.getCustomFieldSets('delivery_time').then((sets) => {\n                this.customFieldSets = sets;\n            });\n        },\n\n        onSave() {\n            this.isLoading = true;\n            this.isSaveSuccessful = false;\n\n            return this.deliveryTimeRepository\n                .save(this.deliveryTime, Shopware.Context.api)\n                .then(() => {\n                    this.isLoading = false;\n                    this.isSaveSuccessful = true;\n                })\n                .catch((exception) => {\n                    this.createNotificationError({\n                        message: this.$tc('sw-settings-delivery-time.detail.errorSave'),\n                    });\n\n                    this.isLoading = false;\n                    throw exception;\n                });\n        },\n\n        onChangeLanguage() {\n            this.createdComponent();\n        },\n\n        saveFinish() {\n            this.isSaveSuccessful = false;\n        },\n\n        onCancel() {\n            this.$router.push({ name: 'sw.settings.delivery.time.index' });\n        },\n    },\n};\n","export default \"\\n{% block sw_settings_delivery_time_detail %}\\n<sw-page class=\\\"sw-settings-delivery-time-detail\\\">\\n\\n    \\n    {% block sw_settings_delivery_time_detail_smart_bar_header %}\\n    <template #smart-bar-header>\\n        <h2>{{ displayName }}</h2>\\n    </template>\\n    {% endblock %}\\n\\n    \\n    {% block sw_settings_delivery_time_detail_language_switch %}\\n    <template #language-switch>\\n        <sw-language-switch\\n            :disabled=\\\"!$route.params.id\\\"\\n            @on-change=\\\"onChangeLanguage\\\"\\n        />\\n    </template>\\n    {% endblock %}\\n\\n    \\n    {% block sw_settings_delivery_time_detail_smart_bar_actions %}\\n    <template #smart-bar-actions>\\n\\n        \\n        {% block sw_settings_delivery_time_detail_smart_bar_actions_cancel %}\\n        <sw-button\\n            v-tooltip.bottom=\\\"tooltipCancel\\\"\\n            @click=\\\"onCancel\\\"\\n        >\\n            {{ $tc('sw-settings-delivery-time.general.buttonCancel') }}\\n        </sw-button>\\n        {% endblock %}\\n\\n        \\n        {% block sw_settings_delivery_time_detail_smart_bar_actions_save %}\\n        <sw-button-process\\n            v-tooltip.bottom=\\\"tooltipSave\\\"\\n            class=\\\"sw-settings-delivery-time-detail__save\\\"\\n            :is-loading=\\\"isLoading\\\"\\n            :process-success=\\\"isSaveSuccessful\\\"\\n            :disabled=\\\"!allowSave\\\"\\n            variant=\\\"primary\\\"\\n            {% if VUE3 %}\\n            @update:process-success=\\\"saveFinish\\\"\\n            {% else %}\\n            @process-finish=\\\"saveFinish\\\"\\n            {% endif %}\\n            @click.prevent=\\\"onSave\\\"\\n        >\\n            {{ $tc('sw-settings-delivery-time.general.buttonSave') }}\\n        </sw-button-process>\\n        {% endblock %}\\n    </template>\\n    {% endblock %}\\n\\n    \\n    {% block sw_settings_delivery_time_detail_content %}\\n    <template #content>\\n        <sw-card-view>\\n\\n            <sw-skeleton v-if=\\\"isLoading\\\" />\\n\\n            <template v-else>\\n                \\n                {% block sw_settings_delivery_time_language_info %}\\n                <sw-language-info\\n                    :entity-description=\\\"displayName\\\"\\n                    :is-new-entity=\\\"!$route.params.id\\\"\\n                />\\n                {% endblock %}\\n\\n                \\n                {% block sw_settings_delivery_time_detail_form %}\\n                <sw-card\\n                    :is-loading=\\\"isLoading\\\"\\n                    position-identifier=\\\"sw-settings-delivery-time-detail-form\\\"\\n                >\\n                    <template v-if=\\\"deliveryTime\\\">\\n\\n                        \\n                        {% block sw_settings_delivery_time_detail_name_field %}\\n                        <sw-text-field\\n                            {% if VUE3 %}\\n                            v-model:value=\\\"deliveryTime.name\\\"\\n                            {% else %}\\n                            v-model=\\\"deliveryTime.name\\\"\\n                            {% endif %}\\n                            name=\\\"sw-field--deliveryTime-name\\\"\\n                            :label=\\\"$tc('sw-settings-delivery-time.detail.labelName')\\\"\\n                            :error=\\\"deliveryTimeNameError\\\"\\n                            :disabled=\\\"!acl.can('delivery_times.editor')\\\"\\n                            required\\n                        />\\n                        {% endblock %}\\n\\n                        \\n                        {% block sw_settings_delivery_time_detail_unit_field %}\\n                        <sw-single-select\\n                            {% if VUE3 %}\\n                            v-model:value=\\\"deliveryTime.unit\\\"\\n                            {% else %}\\n                            v-model=\\\"deliveryTime.unit\\\"\\n                            {% endif %}\\n                            name=\\\"sw-field--deliveryTime-unit\\\"\\n                            class=\\\"sw-delivery-time-detail__field-unit\\\"\\n                            :options=\\\"deliveryTimeUnits\\\"\\n                            :error=\\\"deliveryTimeUnitError\\\"\\n                            :label=\\\"$tc('sw-settings-delivery-time.detail.labelUnit')\\\"\\n                            :disabled=\\\"!acl.can('delivery_times.editor')\\\"\\n                            required\\n                            show-clearable-button\\n                        />\\n                        {% endblock %}\\n\\n                        \\n                        {% block sw_settings_delivery_time_min_max_container %}\\n                        <sw-container\\n                            columns=\\\"1fr 1fr\\\"\\n                            gap=\\\"30px\\\"\\n                        >\\n\\n                            \\n                            {% block sw_settings_delivery_time_detail_min_field %}\\n                            <sw-number-field\\n                                {% if VUE3 %}\\n                                v-model:value=\\\"deliveryTime.min\\\"\\n                                {% else %}\\n                                v-model=\\\"deliveryTime.min\\\"\\n                                {% endif %}\\n                                name=\\\"sw-field--deliveryTime-min\\\"\\n                                :label=\\\"$tc('sw-settings-delivery-time.detail.labelMin')\\\"\\n                                :error=\\\"deliveryTimeMinError || invalidMinError\\\"\\n                                :min=\\\"0\\\"\\n                                :max=\\\"deliveryTime.max\\\"\\n                                :disabled=\\\"!acl.can('delivery_times.editor')\\\"\\n                                required\\n                            />\\n                            {% endblock %}\\n\\n                            \\n                            {% block sw_settings_delivery_time_detail_max_field %}\\n                            <sw-number-field\\n                                {% if VUE3 %}\\n                                v-model:value=\\\"deliveryTime.max\\\"\\n                                {% else %}\\n                                v-model=\\\"deliveryTime.max\\\"\\n                                {% endif %}\\n                                name=\\\"sw-field--deliveryTime-max\\\"\\n                                :label=\\\"$tc('sw-settings-delivery-time.detail.labelMax')\\\"\\n                                :error=\\\"deliveryTimeMaxError\\\"\\n                                :min=\\\"deliveryTime.min\\\"\\n                                :disabled=\\\"!acl.can('delivery_times.editor')\\\"\\n                                required\\n                            />\\n                            {% endblock %}\\n                        </sw-container>\\n                        {% endblock %}\\n                    </template>\\n                </sw-card>\\n                {% endblock %}\\n\\n                \\n                {% block sw_settings_delivery_time_detail_custom_field_sets %}\\n                <sw-card\\n                    v-if=\\\"showCustomFields\\\"\\n                    position-identifier=\\\"sw-settings-delivery-time-detail-custom-field-sets\\\"\\n                    :title=\\\"$tc('sw-settings-custom-field.general.mainMenuItemGeneral')\\\"\\n                    :is-loading=\\\"isLoading\\\"\\n                >\\n                    <sw-custom-field-set-renderer\\n                        :entity=\\\"deliveryTime\\\"\\n                        :disabled=\\\"!acl.can('delivery_times.editor')\\\"\\n                        :sets=\\\"customFieldSets\\\"\\n                    />\\n                </sw-card>\\n                {% endblock %}\\n            </template>\\n        </sw-card-view>\\n    </template>\\n    {% endblock %}\\n</sw-page>\\n{% endblock %}\\n\";"],"sourceRoot":""}