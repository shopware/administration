(window.webpackJsonpAdministration=window.webpackJsonpAdministration||[]).push([[43314],{62299:function(){},43314:function(o,t,e){"use strict";e.r(t),e.d(t,{default:function(){return c}});var n=e(67883);e(172);let{State:r,Utils:a,Service:i}=Shopware,{format:s}=a;var c={template:'\n{% block sw_order_create_promotion_modal %}\n<sw-modal\n    :title="$tc(\'sw-order.promotionModal.labelTitle\')"\n    class="sw-order-create-promotion-modal"\n    @modal-close="onCancel"\n>\n    \n    {% block sw_order_create_promotion_modal_body %}\n    \n    {% block sw_order_create_promotion_modal_message %}\n    <p>{{ hasNoAutomaticPromotions ? $tc(\'sw-order.promotionModal.messageNoItems\') : $tc(\'sw-order.promotionModal.message\') }}</p>\n    {% endblock %}\n\n    \n    {% block sw_order_create_promotion_modal_promotions %}\n    <div\n        v-for="(item, index) in cartAutomaticPromotionItems"\n        :key="index"\n        class="sw-order-create-promotion-modal__promotion"\n    >\n        \n        {% block sw_order_create_promotion_modal_promotion_name %}\n        <strong class="sw-order-create-promotion-modal__promotion-name">{{ item.label }}</strong>\n        {% endblock %}\n\n        \n        {% block sw_order_create_promotion_modal_promotion_description %}\n        <p>{{ getDescription(item) }}</p>\n        {% endblock %}\n    </div>\n    {% endblock %}\n    {% endblock %}\n\n    \n    {% block sw_order_create_promotion_modal_footer %}\n    <template #modal-footer>\n        \n        {% block sw_order_create_promotion_modal_footer_button_cancel %}\n        <sw-button\n            size="small"\n            @click="onCancel"\n        >\n            {{ $tc(\'global.default.cancel\') }}\n        </sw-button>\n        {% endblock %}\n\n        \n        {% block sw_order_create_promotion_modal_footer_button_save %}\n        <sw-button\n            size="small"\n            variant="primary"\n            :is-loading="isLoading"\n            :disabled="hasNoAutomaticPromotions"\n            @click="onSave"\n        >\n            {{ $tc(\'sw-order.promotionModal.buttonDisable\') }}\n        </sw-button>\n        {% endblock %}\n    </template>\n    {% endblock %}\n</sw-modal>\n{% endblock %}\n',props:{currency:{type:Object,required:!0},salesChannelId:{type:String,required:!1,default:null}},data(){return{isLoading:!1}},computed:{cart(){return r.get("swOrder").cart},cartAutomaticPromotionItems(){return this.cart.lineItems.filter(o=>"promotion"===o.type&&""===o.payload.code)},hasNoAutomaticPromotions(){return 0===this.cartAutomaticPromotionItems.length}},methods:{onCancel(){this.$emit("close")},onSave(){this.disableAutomaticPromotions()},disableAutomaticPromotions(){this.isLoading=!0;let o={salesChannelId:this.salesChannelId};i("cartStoreService").disableAutomaticPromotions(this.cart.token,o).then(()=>{this.isLoading=!1,this.$emit("save")})},getDescription(o){let{totalPrice:t}=o.price,{value:e,discountScope:r,discountType:a,groupId:i}=o.payload,c=`sw-order.createBase.textPromotionDescription.${r}`;if(r===n.nv.CART&&a===n.sC.ABSOLUTE&&Math.abs(t)<e)return this.$tc(`${c}.absoluteUpto`,0,{value:s.currency(Number(e),this.currency.shortName),totalPrice:s.currency(Math.abs(t),this.currency.shortName)});let l=a===n.sC.PERCENTAGE?e:s.currency(Number(e),this.currency.shortName);return this.$tc(`${c}.${a}`,0,{value:l,groupId:i})}}}},67883:function(o,t,e){"use strict";e.d(t,{em:function(){return i},nv:function(){return a},sC:function(){return r}});var n=e(10323);let r={PERCENTAGE:"percentage",ABSOLUTE:"absolute",FIXED:"fixed",FIXED_UNIT:"fixed_unit"},a={CART:"cart",DELIVERY:"delivery",SET:"set",SETGROUP:"setgroup"},i={isEditingAllowed:function(o){if(null==o)return!1;if(!(0,n.nr)(o,"hasOrders"))throw Error("Promotion Property hasOrders does not exist. Please use the Hydrator before!");return!o.hasOrders}}},172:function(o,t,e){var n=e(62299);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[o.id,n,""]]),n.locals&&(o.exports=n.locals),e(45346).Z("139b221b",n,!0,{})}}]);