{"version":3,"sources":["webpack:///./src/module/sw-users-permissions/components/sw-users-permissions-detailed-permissions-grid/index.js","webpack:///./src/module/sw-users-permissions/components/sw-users-permissions-detailed-permissions-grid/sw-users-permissions-detailed-permissions-grid.html.twig","webpack:///./src/module/sw-users-permissions/components/sw-users-permissions-detailed-permissions-grid/sw-users-permissions-detailed-permissions-grid.scss"],"names":["template","inject","props","role","type","Object","required","disabled","Boolean","default","detailedPrivileges","Array","computed","allEntities","entitiesMap","Shopware","Application","getContainer","entityDefinition","getDefinitionRegistry","_toConsumableArray","keys","allGeneralSelectedPrivileges","this","privileges","getPrivilegesForAdminPrivilegeKeys","permissionTypes","methods","isEntitySelected","entity","identifier","concat","includes","isEntityDisabled","changePermissionForEntity","privilegeIndex","indexOf","splice","push","content","__esModule","module","i","locals","exports","add"],"mappings":"iKAOe,WACXA,SCRW,yzKDUXC,OAAQ,CAAC,cAETC,MAAO,CACHC,KAAM,CACFC,KAAMC,OACNC,UAAU,GAGdC,SAAU,CACNH,KAAMI,QACNF,UAAU,EACVG,SAAS,GAGbC,mBAAoB,CAChBN,KAAMO,MACNL,UAAU,IAIlBM,SAAU,CACNC,YAAW,WACP,IAAMC,EAAcC,SAASC,YAAYC,aAAa,WAAWC,iBAAiBC,wBAElF,OAAAC,IAAWN,EAAYO,SAG3BC,6BAA4B,WACxB,OAAOC,KAAKC,WAAWC,mCAAmCF,KAAKpB,KAAKqB,aAGxEE,gBAAe,WACX,MAAO,CACH,OACA,SACA,SACA,YAKZC,QAAS,CACLC,iBAAgB,SAACC,EAAQ1B,GACrB,IAAM2B,EAAU,GAAAC,OAAMF,EAAM,KAAAE,OAAI5B,GAOhC,MALmB,GAAA4B,OAAAX,IACZG,KAAKD,8BAA4BF,IACjCG,KAAKb,qBAGSsB,SAASF,IAGlCG,iBAAgB,SAACJ,EAAQ1B,GACrB,GAAIoB,KAAKhB,SACL,OAAO,EAGX,IAAMuB,EAAU,GAAAC,OAAMF,EAAM,KAAAE,OAAI5B,GAEhC,OAAOoB,KAAKD,6BAA6BU,SAASF,IAGtDI,0BAAyB,SAACL,EAAQ1B,GAC9B,IAAM2B,EAAU,GAAAC,OAAMF,EAAM,KAAAE,OAAI5B,GAE1BgC,EAAiBZ,KAAKb,mBAAmB0B,QAAQN,GAEnDK,GAAkB,EAClBZ,KAAKb,mBAAmB2B,OAAOF,EAAgB,GAInDZ,KAAKb,mBAAmB4B,KAAKR,O,8CEhFzC,IAAIS,EAAU,EAAQ,QACnBA,EAAQC,aAAYD,EAAUA,EAAQ9B,SACnB,iBAAZ8B,IAAsBA,EAAU,CAAC,CAACE,EAAOC,EAAIH,EAAS,MAC7DA,EAAQI,SAAQF,EAAOG,QAAUL,EAAQI,SAG/BE,EADH,EAAQ,QAAwEpC,SACzE,WAAY8B,GAAS,EAAM","file":"static/js/7723186950ffff57a676.js","sourcesContent":["/**\n * @package services-settings\n */\nimport template from './sw-users-permissions-detailed-permissions-grid.html.twig';\nimport './sw-users-permissions-detailed-permissions-grid.scss';\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    inject: ['privileges'],\n\n    props: {\n        role: {\n            type: Object,\n            required: true,\n        },\n\n        disabled: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n\n        detailedPrivileges: {\n            type: Array,\n            required: true,\n        },\n    },\n\n    computed: {\n        allEntities() {\n            const entitiesMap = Shopware.Application.getContainer('factory').entityDefinition.getDefinitionRegistry();\n\n            return [...entitiesMap.keys()];\n        },\n\n        allGeneralSelectedPrivileges() {\n            return this.privileges.getPrivilegesForAdminPrivilegeKeys(this.role.privileges);\n        },\n\n        permissionTypes() {\n            return [\n                'read',\n                'update',\n                'create',\n                'delete',\n            ];\n        },\n    },\n\n    methods: {\n        isEntitySelected(entity, role) {\n            const identifier = `${entity}:${role}`;\n\n            const allPrivileges = [\n                ...this.allGeneralSelectedPrivileges,\n                ...this.detailedPrivileges,\n            ];\n\n            return allPrivileges.includes(identifier);\n        },\n\n        isEntityDisabled(entity, role) {\n            if (this.disabled) {\n                return true;\n            }\n\n            const identifier = `${entity}:${role}`;\n\n            return this.allGeneralSelectedPrivileges.includes(identifier);\n        },\n\n        changePermissionForEntity(entity, role) {\n            const identifier = `${entity}:${role}`;\n\n            const privilegeIndex = this.detailedPrivileges.indexOf(identifier);\n\n            if (privilegeIndex >= 0) {\n                this.detailedPrivileges.splice(privilegeIndex, 1);\n                return;\n            }\n\n            this.detailedPrivileges.push(identifier);\n        },\n    },\n};\n","export default \"\\n{% block sw_users_permissions_detailed_permissions_grid %}\\n<sw-card\\n    class=\\\"sw-users-permissions-detailed-permissions-grid\\\"\\n    position-identifier=\\\"sw-users-permissions-detailed-permissions-grid\\\"\\n    :title=\\\"$tc('sw-users-permissions.roles.grid.title')\\\"\\n>\\n    <div class=\\\"sw-users-permissions-detailed-permissions-grid__grid\\\">\\n        \\n        {% block sw_users_permissions_detailed_permissions_grid_header %}\\n        <div class=\\\"sw-users-permissions-detailed-permissions-grid__entry sw-users-permissions-detailed-permissions-grid__entry-header\\\">\\n            \\n            {% block sw_users_permissions_detailed_permissions_grid_header_title %}\\n            <div class=\\\"sw-users-permissions-detailed-permissions-grid__title\\\"></div>\\n            {% endblock %}\\n\\n            \\n            {% block sw_users_permissions_detailed_permissions_grid_header_roles %}\\n            <div\\n                v-for=\\\"permissionType in permissionTypes\\\"\\n                :key=\\\"permissionType\\\"\\n                class=\\\"sw-users-permissions-detailed-permissions-grid__checkbox-wrapper\\\"\\n            >\\n                \\n                {% block sw_users_permissions_detailed_permissions_grid_header_roles_name %}\\n                {{ $tc('sw-privileges.permissionType.' + permissionType) }}\\n                {% endblock %}\\n            </div>\\n            {% endblock %}\\n        </div>\\n        {% endblock %}\\n\\n        \\n        {% block sw_users_permissions_detailed_permissions_grid_permissions %}\\n        <div\\n            v-for=\\\"entity in allEntities\\\"\\n            :key=\\\"entity\\\"\\n            :class=\\\"'sw-users-permissions-detailed-permissions-grid__entry_' + entity\\\"\\n            class=\\\"sw-users-permissions-detailed-permissions-grid__entry\\\"\\n        >\\n            \\n            {% block sw_users_permissions_detailed_permissions_grid_permissions_title %}\\n            <div class=\\\"sw-users-permissions-detailed-permissions-grid__title\\\">\\n                {{ entity }}\\n            </div>\\n            {% endblock %}\\n\\n            \\n            {% block sw_users_permissions_detailed_permissions_grid_permissions_roles %}\\n            <div\\n                v-for=\\\"permissionType in permissionTypes\\\"\\n                :key=\\\"permissionType\\\"\\n                :class=\\\"'sw-users-permissions-detailed-permissions-grid__role_' + permissionType\\\"\\n                class=\\\"sw-users-permissions-detailed-permissions-grid__checkbox-wrapper\\\"\\n            >\\n                \\n                {% block sw_users_permissions_detailed_permissions_grid_permissions_roles_field %}\\n                {# Checkbox are hardcoded for better performance #}\\n                <div class=\\\"sw-field--checkbox\\\">\\n                    <div class=\\\"sw-field--checkbox__content\\\">\\n                        <div class=\\\"sw-field__checkbox\\\">\\n                            \\n                            <input\\n                                type=\\\"checkbox\\\"\\n                                :name=\\\"entity\\\"\\n                                :disabled=\\\"isEntityDisabled(entity, permissionType)\\\"\\n                                :checked=\\\"isEntitySelected(entity, permissionType)\\\"\\n                                @change=\\\"changePermissionForEntity(entity, permissionType)\\\"\\n                            >\\n                            <div class=\\\"sw-field__checkbox-state\\\">\\n                                <span\\n                                    class=\\\"sw-icon sw-icon--fill\\\"\\n                                    style=\\\"width: 16px; height: 16px;\\\"\\n                                >\\n                                    <svg\\n                                        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n                                        xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"\\n                                        width=\\\"16\\\"\\n                                        height=\\\"16\\\"\\n                                        viewBox=\\\"0 0 16 16\\\"\\n                                    >\\n                                        <defs>\\n                                            <path\\n                                                id=\\\"icons-small-default-checkmark-line-small-a\\\"\\n                                                d=\\\"M5.70710678,7.29289322 C5.31658249,6.90236893 4.68341751,6.90236893 4.29289322,7.29289322 C3.90236893,7.68341751 3.90236893,8.31658249 4.29289322,8.70710678 L6.29289322,10.7071068 C6.68341751,11.0976311 7.31658249,11.0976311 7.70710678,10.7071068 L11.7071068,6.70710678 C12.0976311,6.31658249 12.0976311,5.68341751 11.7071068,5.29289322 C11.3165825,4.90236893 10.6834175,4.90236893 10.2928932,5.29289322 L7,8.58578644 L5.70710678,7.29289322 Z\\\"\\n                                            />\\n                                        </defs>\\n                                        <use\\n                                            fill=\\\"#758CA3\\\"\\n                                            fill-rule=\\\"evenodd\\\"\\n                                            xlink:href=\\\"#icons-small-default-checkmark-line-small-a\\\"\\n                                        />\\n                                    </svg>\\n                                </span>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n                {% endblock %}\\n            </div>\\n            {% endblock %}\\n        </div>\\n        {% endblock %}\\n    </div>\\n</sw-card>\\n{% endblock %}\\n\";","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--15-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--15-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--15-3!./sw-users-permissions-detailed-permissions-grid.scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"15ab1bf8\", content, true, {});"],"sourceRoot":""}