{"version":3,"sources":["webpack:///./src/module/sw-settings-rule/view/sw-settings-rule-detail-base/index.js","webpack:///./src/module/sw-settings-rule/view/sw-settings-rule-detail-base/sw-settings-rule-detail-base.html.twig"],"names":["template","inject","emits","props","rule","type","Object","required","conditions","Array","default","conditionRepository","isLoading","Boolean","ruleNameError","rulePriorityError","data","currentConditions","customFieldSets","computed","availableModuleTypes","this","ruleConditionDataProviderService","getModuleTypes","moduleType","moduleTypes","get","_this$rule$moduleType","_this$rule","_this$rule$moduleType2","types","set","value","length","showCustomFields","created","createdComponent","methods","loadCustomFieldSets","_this","customFieldDataProviderService","getCustomFieldSets","then","sets"],"mappings":"4HAMe,WACXA,SCPW,+yLDSXC,OAAQ,CACJ,mCACA,MACA,kCAGJC,MAAO,CACH,qBACA,yBAGJC,MAAO,CACHC,KAAM,CACFC,KAAMC,OACNC,UAAU,GAEdC,WAAY,CACRH,KAAMI,MACNF,UAAU,EACVG,QAAS,MAEbC,oBAAqB,CACjBN,KAAMC,OACNC,UAAU,GAEdK,UAAW,CACPP,KAAMQ,QACNN,UAAU,GAEdO,cAAe,CACXT,KAAMC,OACNC,UAAU,EACVG,QAAS,MAEbK,kBAAmB,CACfV,KAAMC,OACNC,UAAU,EACVG,QAAS,OAIjBM,KAAI,WACA,MAAO,CACHC,kBAAmB,KACnBC,gBAAiB,OAIzBC,SAAU,CACNC,qBAAoB,WAChB,OAAOC,KAAKC,iCAAiCC,gBAAe,SAAAC,GAAU,OAAIA,MAG9EC,YAAa,CACTC,IAAG,WAAI,IAADC,EAAAC,EAAAC,EACF,OAAoC,QAApCF,EAAgB,QAAhBC,EAAOP,KAAKjB,YAAI,IAAAwB,GAAa,QAAbC,EAATD,EAAWH,mBAAW,IAAAI,OAAb,EAATA,EAAwBC,aAAK,IAAAH,IAAI,IAE5CI,IAAG,SAACC,GACc,OAAVA,GAAmC,IAAjBA,EAAMC,OAI5BZ,KAAKjB,KAAKqB,YAAc,CAAEK,MAAOE,GAH7BX,KAAKjB,KAAKqB,YAAc,OAOpCS,iBAAgB,WACZ,OAAOb,KAAKjB,MAAQiB,KAAKH,iBAAmBG,KAAKH,gBAAgBe,OAAS,IAIlFE,QAAO,WACHd,KAAKe,oBAGTC,QAAS,CACLD,iBAAgB,WACZf,KAAKiB,uBAGTA,oBAAmB,WAAI,IAADC,EAAA,KAClBlB,KAAKmB,+BAA+BC,mBAAmB,QAAQC,MAAK,SAACC,GACjEJ,EAAKrB,gBAAkByB","file":"static/js/f81421aeaf399d687a0e.js","sourcesContent":["import template from './sw-settings-rule-detail-base.html.twig';\n\n/**\n * @private\n * @package services-settings\n */\nexport default {\n    template,\n\n    inject: [\n        'ruleConditionDataProviderService',\n        'acl',\n        'customFieldDataProviderService',\n    ],\n\n    emits: [\n        'conditions-changed',\n        'tree-finished-loading',\n    ],\n\n    props: {\n        rule: {\n            type: Object,\n            required: true,\n        },\n        conditions: {\n            type: Array,\n            required: false,\n            default: null,\n        },\n        conditionRepository: {\n            type: Object,\n            required: true,\n        },\n        isLoading: {\n            type: Boolean,\n            required: true,\n        },\n        ruleNameError: {\n            type: Object,\n            required: false,\n            default: null,\n        },\n        rulePriorityError: {\n            type: Object,\n            required: false,\n            default: null,\n        },\n    },\n\n    data() {\n        return {\n            currentConditions: null,\n            customFieldSets: null,\n        };\n    },\n\n    computed: {\n        availableModuleTypes() {\n            return this.ruleConditionDataProviderService.getModuleTypes(moduleType => moduleType);\n        },\n\n        moduleTypes: {\n            get() {\n                return this.rule?.moduleTypes?.types ?? [];\n            },\n            set(value) {\n                if (value === null || value.length === 0) {\n                    this.rule.moduleTypes = null;\n                    return;\n                }\n                this.rule.moduleTypes = { types: value };\n            },\n        },\n\n        showCustomFields() {\n            return this.rule && this.customFieldSets && this.customFieldSets.length > 0;\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.loadCustomFieldSets();\n        },\n\n        loadCustomFieldSets() {\n            this.customFieldDataProviderService.getCustomFieldSets('rule').then((sets) => {\n                this.customFieldSets = sets;\n            });\n        },\n    },\n};\n","export default \"\\n{% block sw_settings_rule_detail_base %}\\n<div class=\\\"sw-settings-rule-detail-base\\\">\\n    \\n    {% block sw_settings_rule_detail_base_content_card %}\\n    <sw-card\\n        position-identifier=\\\"sw-settings-rule-detail-base-content\\\"\\n        :large=\\\"true\\\"\\n        :is-loading=\\\"isLoading\\\"\\n        :title=\\\"$tc('sw-settings-rule.detail.titleCard')\\\"\\n    >\\n        <template v-if=\\\"rule\\\">\\n            <div style=\\\"display: grid; grid-template-columns: 2fr 1fr; grid-column-gap: 32px\\\">\\n                \\n                {% block sw_settings_rule_detail_base_content_card_field_name %}\\n                <sw-text-field\\n                    {% if VUE3 %}\\n                    v-model:value=\\\"rule.name\\\"\\n                    {% else %}\\n                    v-model=\\\"rule.name\\\"\\n                    {% endif %}\\n                    :label=\\\"$tc('sw-settings-rule.detail.labelName')\\\"\\n                    :placeholder=\\\"$tc('sw-settings-rule.detail.placeholderName')\\\"\\n                    :error=\\\"ruleNameError\\\"\\n                    :disabled=\\\"!acl.can('rule.editor')\\\"\\n                    required\\n                />\\n                {% endblock %}\\n\\n                \\n                {% block sw_settings_rule_detail_base_content_card_field_priority %}\\n                <sw-number-field\\n                    {% if VUE3 %}\\n                    v-model:value=\\\"rule.priority\\\"\\n                    {% else %}\\n                    v-model=\\\"rule.priority\\\"\\n                    {% endif %}\\n                    :label=\\\"$tc('sw-settings-rule.detail.labelPriority')\\\"\\n                    :placeholder=\\\"$tc('sw-settings-rule.detail.placeholderPriority')\\\"\\n                    :error=\\\"rulePriorityError\\\"\\n                    :disabled=\\\"!acl.can('rule.editor')\\\"\\n                    required\\n                />\\n                {% endblock %}\\n            </div>\\n\\n            \\n            {% block sw_settings_rule_detail_base_content_card_field_description %}\\n            <sw-textarea-field\\n                {% if VUE3 %}\\n                v-model:value=\\\"rule.description\\\"\\n                {% else %}\\n                v-model=\\\"rule.description\\\"\\n                {% endif %}\\n                :label=\\\"$tc('sw-settings-rule.detail.labelDescription')\\\"\\n                :placeholder=\\\"$tc('sw-settings-rule.detail.placeholderDescription')\\\"\\n                :disabled=\\\"!acl.can('rule.editor')\\\"\\n            />\\n            {% endblock %}\\n\\n            <div style=\\\"display: grid; grid-template-columns: 1fr 1fr; grid-column-gap: 32px\\\">\\n                \\n                {% block sw_settings_rule_detail_base_content_card_field_type %}\\n                <sw-multi-select\\n                    v-if=\\\"rule\\\"\\n                    {% if VUE3 %}\\n                    v-model:value=\\\"moduleTypes\\\"\\n                    {% else %}\\n                    v-model=\\\"moduleTypes\\\"\\n                    {% endif %}\\n                    class=\\\"sw-settings-rule-detail__type-field\\\"\\n                    value-property=\\\"id\\\"\\n                    label-property=\\\"name\\\"\\n                    :label=\\\"$tc('sw-settings-rule.detail.labelType')\\\"\\n                    :disabled=\\\"!acl.can('rule.editor')\\\"\\n                    :options=\\\"availableModuleTypes\\\"\\n                >\\n                    <template #selection-label-property=\\\"{ item }\\\">\\n                        {{ $tc(item.name) }}\\n                    </template>\\n\\n                    <template #result-label-property=\\\"{ item }\\\">\\n                        {{ $tc(item.name) }}\\n                    </template>\\n                </sw-multi-select>\\n                {% endblock %}\\n\\n                \\n                {% block sw_settings_rule_detail_base_content_card_field_tags %}\\n                <sw-entity-tag-select\\n                    v-if=\\\"rule\\\"\\n                    {% if VUE3 %}\\n                    v-model:entityCollection=\\\"rule.tags\\\"\\n                    {% else %}\\n                    v-model=\\\"rule.tags\\\"\\n                    {% endif %}\\n                    class=\\\"sw-settings-rule-detail__tags-field\\\"\\n                    :label=\\\"$tc('global.sw-tag-field.title')\\\"\\n                    :disabled=\\\"!acl.can('rule.editor')\\\"\\n                    :placeholder=\\\"$tc('sw-settings-rule.detail.placeholderTags')\\\"\\n                />\\n                {% endblock %}\\n            </div>\\n        </template>\\n        <sw-loader v-else />\\n    </sw-card>\\n    {% endblock %}\\n\\n    \\n    {% block sw_settings_rule_detail_base_conditions_card %}\\n    <sw-card\\n        class=\\\"sw-settings-rule-detail__condition_container\\\"\\n        position-identifier=\\\"sw-settings-rule-detail-base-conditions\\\"\\n        :large=\\\"true\\\"\\n        :is-loading=\\\"isLoading\\\"\\n        :title=\\\"$tc('sw-settings-rule.detail.ruleCard')\\\"\\n    >\\n        <sw-condition-tree\\n            :initial-conditions=\\\"conditions\\\"\\n            :condition-repository=\\\"conditionRepository\\\"\\n            :condition-data-provider-service=\\\"ruleConditionDataProviderService\\\"\\n            association-field=\\\"ruleId\\\"\\n            :association-value=\\\"rule.id\\\"\\n            :association-entity=\\\"rule\\\"\\n            :root-condition=\\\"null\\\"\\n            :disabled=\\\"!acl.can('rule.editor')\\\"\\n            @conditions-changed=\\\"$emit('conditions-changed', $event)\\\"\\n            @initial-loading-done=\\\"$emit('tree-finished-loading')\\\"\\n        />\\n    </sw-card>\\n    {% endblock %}\\n\\n    \\n    {% block sw_settings_rule_detail_custom_field_sets %}\\n    <sw-card\\n        v-if=\\\"showCustomFields\\\"\\n        position-identifier=\\\"sw-settings-rule-detail-base-custom-field-sets\\\"\\n        :large=\\\"true\\\"\\n        :title=\\\"$tc('sw-settings-custom-field.general.mainMenuItemGeneral')\\\"\\n        :is-loading=\\\"isLoading\\\"\\n    >\\n        <sw-custom-field-set-renderer\\n            :entity=\\\"rule\\\"\\n            :disabled=\\\"!acl.can('rule.editor')\\\"\\n            :sets=\\\"customFieldSets\\\"\\n        />\\n    </sw-card>\\n    {% endblock %}\\n</div>\\n{% endblock %}\\n\";"],"sourceRoot":""}