{"version":3,"sources":["webpack:///./src/module/sw-product/component/sw-product-variants/sw-product-variants-configurator/sw-product-restriction-selection/sw-product-restriction-selection.scss","webpack:///./src/module/sw-product/component/sw-product-variants/sw-product-variants-configurator/sw-product-restriction-selection/index.js","webpack:///./src/module/sw-product/component/sw-product-variants/sw-product-variants-configurator/sw-product-restriction-selection/sw-product-restriction-selection.html.twig"],"names":["content","__esModule","default","module","i","locals","exports","add","template","props","groupsWithOptions","type","Array","required","restriction","Object","data","optionLoading","selectedGroup","optionStore","selectedOptionStore","options","selectedOptions","computed","availableGroups","this","watch","_this","optionsForGroup","find","groupWithOption","group","id","existedOptions","reduce","result","option","optionIndex","indexOf","optionId","push","selectedOptionArray","mounted","mountedComponent","methods","length","deleteRestriction","$emit"],"mappings":"iIAGA,IAAIA,EAAU,EAAQ,QACnBA,EAAQC,aAAYD,EAAUA,EAAQE,SACnB,iBAAZF,IAAsBA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAC7DA,EAAQK,SAAQF,EAAOG,QAAUN,EAAQK,SAG/BE,EADH,EAAQ,QAA8EL,SAC/E,WAAYF,GAAS,EAAM,K,mDCD7B,WACXQ,SCTW,u5GDWXC,MAAO,CACHC,kBAAmB,CACfC,KAAMC,MACNC,UAAU,GAGdC,YAAa,CACTH,KAAMI,OACNF,UAAU,IAIlBG,KAAI,WACA,MAAO,CACHC,eAAe,EACfC,cAAe,GACfC,YAAa,GACbC,oBAAqB,GACrBC,QAAS,GACTC,gBAAiB,KAIzBC,SAAU,CACNC,gBAAe,WACX,OAAOC,KAAKf,oBAIpBgB,MAAO,CACHR,cAAa,WAAI,IAADS,EAAA,KACZF,KAAKR,eAAgB,EAGrB,IAAMW,EAAkBH,KAAKf,kBAAkBmB,MAAK,SAACC,GACjD,OAAOA,EAAgBC,MAAMC,KAAOL,EAAKT,iBAC1CG,QAGGY,EAAiBL,EAAgBM,QAAO,SAACC,EAAQC,GACnD,IAAMC,EAAcV,EAAKb,YAAYO,QAAQiB,QAAQF,EAAOG,UAM5D,OAJIF,GAAe,GACfF,EAAOK,KAAKb,EAAKb,YAAYO,QAAQgB,IAGlCF,IACR,IAEHV,KAAKJ,QAAUO,EACfH,KAAKH,gBAAkBW,EAGvBR,KAAKX,YAAYiB,MAAQN,KAAKP,cAE9BO,KAAKR,eAAgB,GAGzB,gBAAiB,WACb,IAAMwB,EAA+C,OAAzBhB,KAAKH,gBAA2BG,KAAKH,gBAAkB,GAEnFG,KAAKX,YAAYO,QAAUoB,IAInCC,QAAO,WACHjB,KAAKkB,oBAGTC,QAAS,CACLD,iBAAgB,YACPlB,KAAKf,mBAAqBe,KAAKf,kBAAkBmC,QAAU,IAIhEpB,KAAKP,cAAgBO,KAAKX,YAAYiB,QAG1Ce,kBAAiB,WACbrB,KAAKsB,MAAM,qBAAsBtB,KAAKX","file":"static/js/667dae320dfa520b73a1.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--15-1!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--15-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--15-3!./sw-product-restriction-selection.scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"6a65abb6\", content, true, {});","/*\n * @package inventory\n */\n\nimport template from './sw-product-restriction-selection.html.twig';\nimport './sw-product-restriction-selection.scss';\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    props: {\n        groupsWithOptions: {\n            type: Array,\n            required: true,\n        },\n\n        restriction: {\n            type: Object,\n            required: true,\n        },\n    },\n\n    data() {\n        return {\n            optionLoading: true,\n            selectedGroup: '',\n            optionStore: {},\n            selectedOptionStore: {},\n            options: {},\n            selectedOptions: [],\n        };\n    },\n\n    computed: {\n        availableGroups() {\n            return this.groupsWithOptions;\n        },\n    },\n\n    watch: {\n        selectedGroup() {\n            this.optionLoading = true;\n\n            // get all options for the group\n            const optionsForGroup = this.groupsWithOptions.find((groupWithOption) => {\n                return groupWithOption.group.id === this.selectedGroup;\n            }).options;\n\n            // get all selected options for the group\n            const existedOptions = optionsForGroup.reduce((result, option) => {\n                const optionIndex = this.restriction.options.indexOf(option.optionId);\n\n                if (optionIndex >= 0) {\n                    result.push(this.restriction.options[optionIndex]);\n                }\n\n                return result;\n            }, []);\n\n            this.options = optionsForGroup;\n            this.selectedOptions = existedOptions;\n\n            // update the group id in the store\n            this.restriction.group = this.selectedGroup;\n\n            this.optionLoading = false;\n        },\n\n        'selectedOptions'() {\n            const selectedOptionArray = this.selectedOptions !== null ? this.selectedOptions : [];\n\n            this.restriction.options = selectedOptionArray;\n        },\n    },\n\n    mounted() {\n        this.mountedComponent();\n    },\n\n    methods: {\n        mountedComponent() {\n            if (!this.groupsWithOptions && this.groupsWithOptions.length <= 0) {\n                return;\n            }\n\n            this.selectedGroup = this.restriction.group;\n        },\n\n        deleteRestriction() {\n            this.$emit('restriction-delete', this.restriction);\n        },\n    },\n};\n","export default \"\\n{% block sw_product_restriction_selection %}\\n<div class=\\\"sw-product-restriction-selection\\\">\\n    \\n    {% block sw_product_restriction_selection_container %}\\n    <sw-container\\n        columns=\\\"minmax(270px, 350px) 1fr\\\"\\n        gap=\\\"0\\\"\\n        class=\\\"sw-product-restriction-selection__container\\\"\\n    >\\n\\n        \\n        {% block sw_product_restriction_selection_select_group_wrapper %}\\n        <div class=\\\"sw-product-restriction-selection__select-group-wrapper\\\">\\n            \\n            {% block sw_product_restriction_selection_select_group %}\\n            <sw-select-field\\n                {% if VUE3 %}\\n                v-model:value=\\\"selectedGroup\\\"\\n                {% else %}\\n                v-model=\\\"selectedGroup\\\"\\n                {% endif %}\\n                class=\\\"sw-product-restriction-selection__select-group\\\"\\n            >\\n                <option\\n                    v-for=\\\"item in availableGroups\\\"\\n                    :key=\\\"item.id\\\"\\n                    :value=\\\"item.group.id\\\"\\n                >\\n                    {{ item.group.translated.name }}\\n                </option>\\n            </sw-select-field>\\n            {% endblock %}\\n\\n            \\n            {% block sw_product_restriction_selection_is_from %}\\n            <div class=\\\"sw-product-restriction-selection__isFrom\\\">\\n                <span>{{ $tc('sw-product.variations.configuratorModal.isOneFrom') }}</span>\\n            </div>\\n            {% endblock %}\\n        </div>\\n        {% endblock %}\\n\\n        \\n        {% block sw_product_restriction_selection_select_option_wrapper %}\\n        <sw-container\\n            columns=\\\"1fr minmax(40px, 40px)\\\"\\n            gap=\\\"0\\\"\\n            class=\\\"sw-product-restriction-selection__select-option-wrapper\\\"\\n        >\\n\\n            \\n            {% block sw_product_restriction_selection_multi_select %}\\n            <sw-multi-select\\n                v-if=\\\"!optionLoading\\\"\\n                {% if VUE3 %}\\n                v-model:value=\\\"selectedOptions\\\"\\n                {% else %}\\n                v-model=\\\"selectedOptions\\\"\\n                {% endif %}\\n                :options=\\\"options\\\"\\n                value-property=\\\"optionId\\\"\\n            >\\n\\n                <template\\n                    #selection-label-property=\\\"{ item }\\\"\\n                >\\n                    {{ item.option.translated.name }}\\n                </template>\\n                <template\\n                    #result-label-property=\\\"{ item }\\\"\\n                >\\n                    {{ item.option.translated.name }}\\n                </template>\\n            </sw-multi-select>\\n            {% endblock %}\\n\\n            \\n            {% block sw_product_restriction_selection_context_button %}\\n            <sw-context-button>\\n                \\n                {% block sw_product_restriction_selection_context_button_items %}\\n                <sw-context-menu-item\\n                    variant=\\\"danger\\\"\\n                    @click=\\\"deleteRestriction\\\"\\n                >\\n                    {{ $tc('sw-product.variations.configuratorModal.deleteCombination') }}\\n                </sw-context-menu-item>\\n                {% endblock %}\\n            </sw-context-button>\\n            {% endblock %}\\n        </sw-container>\\n        {% endblock %}\\n    </sw-container>\\n    {% endblock %}\\n\\n    \\n    {% block sw_product_restriction_selection_content_after %}\\n    <slot name=\\\"contentAfter\\\"></slot>\\n    {% endblock %}\\n</div>\\n{% endblock %}\\n\";"],"sourceRoot":""}