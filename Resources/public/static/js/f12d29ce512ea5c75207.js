(window.webpackJsonpAdministration=window.webpackJsonpAdministration||[]).push([[3922],{376605:function(){},303922:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return c}}),t(318296);var s=t(37698),a=t(974071);let{Criteria:o}=Shopware.Data,{mapPropertyErrors:l}=Shopware.Component.getComponentHelper();var c={template:'\n{% block sw_customer_base_info %}\n<sw-container\n    class="sw-customer-base-info"\n    columns="repeat(auto-fit, minmax(250px, 1fr))"\n    gap="0px 15px"\n>\n    \n    {% block sw_customer_base_info_metadata %}\n    \n    {% block sw_customer_base_info_metadata_left %}\n    <sw-loader v-if="isLoading" />\n\n    <div\n        v-else\n        class="sw-customer-base-info-columns"\n    >\n        <template v-if="isBusinessAccountType && !customerEditMode">\n            <sw-description-list>\n                <dt class="sw-customer-base-info__label">\n                    {{ $tc(\'sw-customer.baseInfo.labelCompany\') }}\n                </dt>\n\n                <dd>\n                    {{ customer.company }}\n                </dd>\n            </sw-description-list>\n\n            <sw-description-list>\n                <dt class="sw-customer-base-info__label">\n                    {{ $tc(\'sw-customer.baseInfo.labelVatId\') }}\n                </dt>\n\n                <dd>\n                    {{ customer.vatIds[0] || \'-\' }}\n                </dd>\n            </sw-description-list>\n        </template>\n\n        \n        {% block sw_customer_base_metadata_customer_group %}\n        <sw-description-list>\n            \n            {% block sw_customer_base_metadata_customer_group_label %}\n            <dt class="sw-customer-base-info__label">\n                {{ $tc(\'sw-customer.baseInfo.labelCustomerGroup\') }}\n            </dt>\n            {% endblock %}\n\n            \n            {% block sw_customer_base_metadata_customer_group_content %}\n            <dd v-if="!customerEditMode">\n                {{ customer.group.translated.name }}\n            </dd>\n            {% endblock %}\n\n            \n            {% block sw_customer_base_metadata_customer_group_editor %}\n            <dd v-else>\n                <sw-entity-single-select\n                    v-model:value="customer.groupId"\n                    name="sw-field--customer-groupId"\n                    entity="customer_group"\n                    size="small"\n                    show-clearable-button\n                    :error="customerGroupIdError"\n                />\n            </dd>\n            {% endblock %}\n        </sw-description-list>\n        {% endblock %}\n\n        \n        {% block sw_customer_base_metadata_default_payment %}\n        <sw-description-list>\n            \n            {% block sw_customer_base_metadata_default_payment_label %}\n            <dt class="sw-customer-base-info__label">\n                {{ $tc(\'sw-customer.baseInfo.labelDefaultPayment\') }}\n            </dt>\n            {% endblock %}\n\n            \n            {% block sw_customer_base_metadata_default_payment_content %}\n            <dd\n                v-if="!customerEditMode"\n                class="sw-customer-base__label-default-payment-method"\n            >\n                {{ customer.defaultPaymentMethod.translated.distinguishableName }}\n            </dd>\n            {% endblock %}\n\n            \n            {% block sw_customer_base_metadata_default_payment_editor %}\n            <dd v-else>\n                <sw-entity-single-select\n                    v-model:value="customer.defaultPaymentMethodId"\n                    name="sw-field--customer-defaultPaymentMethodId"\n                    class="sw-customer-base-info__payment-select"\n                    entity="payment_method"\n                    label-property="distinguishableName"\n                    size="small"\n                    show-clearable-button\n                    :error="customerDefaultPaymentMethodIdError"\n                />\n            </dd>\n            {% endblock %}\n        </sw-description-list>\n        {% endblock %}\n\n        \n        {% block sw_customer_base_metadata_active %}\n        <sw-description-list>\n            \n            {% block sw_customer_base_metadata_active_label %}\n            <dt class="sw-customer-base-info__label">\n                {{ $tc(\'sw-customer.baseInfo.labelActive\') }}\n            </dt>\n            {% endblock %}\n\n            \n            {% block sw_customer_base_metadata_active_content %}\n            <dd\n                v-if="!customerEditMode"\n                class="sw-customer-base__label-is-active"\n            >\n                {{ $tc(\'sw-customer.baseInfo.contentActive\', customer.active ? 1 : 2) }}\n            </dd>\n            {% endblock %}\n\n            \n            {% block sw_customer_base_metadata_active_editor %}\n            <dd v-else>\n                <sw-checkbox-field\n                    v-model:value="customer.active"\n                    name="sw-field--customer-active"\n                    class="sw-customer-base-info__checkbox-field"\n                    :label="$tc(\'sw-customer.baseInfo.contentActive\')"\n                    size="small"\n                />\n            </dd>\n            {% endblock %}\n        </sw-description-list>\n        {% endblock %}\n\n        \n        {% block sw_customer_base_metadata_confirmed %}\n        <sw-description-list v-if="customer.doubleOptInRegistration">\n            \n            {% block sw_customer_base_metadata_confirmed_label %}\n            <dt class="sw-customer-base-info__label">\n                {{ $tc(\'sw-customer.baseInfo.labelConfirmed\') }}\n            </dt>\n            {% endblock %}\n\n            \n            {% block sw_customer_base_metadata_confirmed_content %}\n            <dd\n                v-if="!customerEditMode"\n                class="sw-customer-base__label-is-confirmed"\n            >\n                {{ $tc(\'sw-customer.baseInfo.contentConfirmed\', customer.doubleOptInConfirmDate ? 1 : 2) }}\n            </dd>\n            {% endblock %}\n\n            \n            {% block sw_customer_base_metadata_confirmed_editor %}\n            <dd v-else>\n                <sw-checkbox-field\n                    name="sw-field--customer-confirmed"\n                    class="sw-customer-base-info__checkbox-field"\n                    :value="!!customer.doubleOptInConfirmDate"\n                    :label="$tc(\'sw-customer.baseInfo.contentConfirmed\')"\n                    size="small"\n                    @update:value="customer.doubleOptInConfirmDate = $event ? new Date() : null"\n                />\n            </dd>\n            {% endblock %}\n        </sw-description-list>\n        {% endblock %}\n\n        \n        {% block sw_customer_base_metadata_language %}\n        <sw-description-list>\n            \n            {% block sw_customer_base_metadata_language_label %}\n            <dt class="sw-customer-base-info__label">\n                {{ $tc(\'sw-customer.baseInfo.labelLanguage\') }}\n            </dt>\n            {% endblock %}\n\n            \n            {% block sw_customer_base_metadata_language_content %}\n            <dd\n                v-if="!customerEditMode"\n                class="sw-customer-base__label-language"\n            >\n                {{ customerLanguageName }}\n            </dd>\n            {% endblock %}\n\n            \n            {% block sw_customer_base_metadata_language_editor %}\n            <dd v-else>\n                <sw-entity-single-select\n                    v-model:value="customer.languageId"\n                    name="sw-field--customer-languageId"\n                    class="sw-customer-base-info__language-select"\n                    entity="language"\n                    :criteria="languageCriteria"\n                    size="small"\n                    show-clearable-button\n                />\n            </dd>\n            {% endblock %}\n        </sw-description-list>\n        {% endblock %}\n\n        \n        {% block ssw_customer_base_metadata_affiliate %}\n        <sw-description-list>\n            <dt>{{ $tc(\'sw-customer.baseInfo.labelAffiliateCode\') }}</dt>\n            <dd>{{ customer.affiliateCode || \'-\' }}</dd>\n        </sw-description-list>\n        {% endblock %}\n\n        \n        {% block sw_customer_base_metadata_campaign %}\n        <sw-description-list>\n            <dt>{{ $tc(\'sw-customer.baseInfo.labelCampaignCode\') }}</dt>\n            <dd>{{ customer.campaignCode || \'-\' }}</dd>\n        </sw-description-list>\n        {% endblock %}\n    </div>\n    {% endblock %}\n\n    \n    {% block sw_customer_base_info_metadata_right %}\n    <div class="sw-customer-base-info-columns">\n        \n        {% block sw_customer_base_metadata_customer_number %}\n        <sw-description-list>\n            <dt class="sw-customer-base-info__label">\n                {{ $tc(\'sw-customer.baseInfo.labelCustomerNumber\') }}\n            </dt>\n            <dd class="sw-customer-base__label-customer-number">\n                {{ customer.customerNumber }}\n            </dd>\n        </sw-description-list>\n        {% endblock %}\n\n        \n        {% block sw_customer_base_metadata_bound_sales_channel %}\n        <sw-description-list>\n            \n            {% block sw_customer_base_metadata_bound_sales_channel_label %}\n            <dt class="sw-customer-base-info__label sw-bound-sales-channel__label">\n                {{ $tc(\'sw-customer.baseInfo.labelBoundSalesChannel\') }}\n                <sw-help-text :text="$tc(\'sw-customer.baseInfo.helpTextBoundSalesChannel\')" />\n            </dt>\n            {% endblock %}\n\n            \n            {% block sw_customer_base_metadata_bound_saleschannel_content %}\n            <dd class="sw-customer-base__label-bound-sales-channel">\n                <template v-if="customer.boundSalesChannelId">\n                    {{ customer.boundSalesChannel.translated.name }}\n                </template>\n                <template v-else>\n                    {{ $tc(\'sw-customer.baseInfo.emptyBoundSalesChannel\') }}\n                </template>\n            </dd>\n            {% endblock %}\n        </sw-description-list>\n        {% endblock %}\n\n        \n        {% block sw_customer_base_metadata_last_login %}\n        <sw-description-list>\n            <dt class="sw-customer-base-info__label">\n                {{ $tc(\'sw-customer.baseInfo.labelLastLogin\') }}\n            </dt>\n            <dd class="sw-customer-base__label-last-login">\n                <template v-if="customer.lastLogin">\n                    {{ dateFilter(customer.lastLogin) }}\n                </template>\n                <template v-else>\n                    {{ $tc(\'sw-customer.baseInfo.emptyTextLogin\') }}\n                </template>\n            </dd>\n        </sw-description-list>\n        {% endblock %}\n\n        \n        {% block sw_customer_base_metadata_turnover %}\n        <sw-description-list>\n            <dt class="sw-customer-base-info__label">\n                {{ $tc(\'sw-customer.baseInfo.labelTurnover\') }}\n            </dt>\n            <dd class="sw-customer-base__label-turnover">\n                {{ currencyFilter(customer.orderTotalAmount, currencyCode) }}\n            </dd>\n        </sw-description-list>\n        {% endblock %}\n\n        \n        {% block sw_customer_base_metadata_orders %}\n        <sw-description-list>\n            <dt class="sw-customer-base-info__label">\n                {{ $tc(\'sw-customer.baseInfo.labelOrders\') }}\n            </dt>\n            <dd>{{ orderCount }}</dd>\n        </sw-description-list>\n        {% endblock %}\n\n        \n        {% block sw_customer_base_metadata_birthday %}\n        <sw-description-list>\n            \n            {% block sw_customer_base_metadata_birthday_label %}\n            <dt class="sw-customer-base-info__label">\n                {{ $tc(\'sw-customer.baseInfo.labelBirthday\') }}\n            </dt>\n            {% endblock %}\n\n            \n            {% block sw_customer_base_metadata_birthday_content %}\n            <dd\n                v-if="!customerEditMode"\n                class="sw-customer-base__label-birthday"\n            >\n                <template v-if="customer.birthday">\n                    {{ dateFilter(customer.birthday, { minute: undefined, hour: undefined, skipTimezoneConversion: true }) }}\n                </template>\n                <template v-else>\n                    {{ $tc(\'sw-customer.baseInfo.emptyTextBirthday\') }}\n                </template>\n            </dd>\n            {% endblock %}\n\n            \n            {% block sw_custoemr_base_metadata_birthday_editor %}\n            <dd v-else>\n                <sw-datepicker\n                    v-model:value="customer.birthday"\n                    name="sw-field--customer-birthday"\n                    size="small"\n                    date-type="date"\n                />\n            </dd>\n            {% endblock %}\n        </sw-description-list>\n        {% endblock %}\n    </div>\n    {% endblock %}\n    {% endblock %}\n</sw-container>\n{% endblock %}\n',inject:["repositoryFactory","feature"],props:{customer:{type:Object,required:!0},customerEditMode:{type:Boolean,required:!0,default:!1},isLoading:{type:Boolean,required:!1,default:!1}},data(){return{orderAmount:0,orderCount:0,customerLanguage:null,currencyCode:Shopware.Context.app.systemCurrencyISOCode}},computed:{orderRepository(){return this.repositoryFactory.create("order")},languageRepository(){return this.repositoryFactory.create("language")},languageId(){return this.customer.languageId},customerLanguageName(){return this.customerLanguage?this.customerLanguage.name:"…"},languageCriteria(){let e=new o(1,25);return e.addFilter(o.equals("salesChannels.id",this.customer.salesChannelId)),e},orderCriteria(){let e=new o(1,1);return e.addFilter(o.equals("order.orderCustomer.customerId",this.$route.params.id)),e},...l("customer",[...s["sw.customer.detail.base"].customer]),isBusinessAccountType(){return this.customer?.accountType===a.Z.ACCOUNT_TYPE_BUSINESS},dateFilter(){return Shopware.Filter.getByName("date")},currencyFilter(){return Shopware.Filter.getByName("currency")}},watch:{languageId:{immediate:!0,handler(){this.languageRepository.get(this.languageId).then(e=>{this.customerLanguage=e})}},customer(){this.createdComponent()}},created(){this.createdComponent()},methods:{createdComponent(){this.orderRepository.search(this.orderCriteria).then(e=>{this.orderCount=e.total})}}}},974071:function(e,n){"use strict";n.Z=Object.freeze({ACCOUNT_TYPE_PRIVATE:"private",ACCOUNT_TYPE_BUSINESS:"business"})},318296:function(e,n,t){var s=t(376605);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals),t(745346).Z("9c9728e2",s,!0,{})},37698:function(e){"use strict";e.exports=JSON.parse('{"sw.customer.detail.base":{"customer":["salutationId","firstName","lastName","email","groupId","salesChannelId","defaultPaymentMethodId","customerNumber","password","vatIds","company","passwordNew","passwordConfirm"]}}')}}]);