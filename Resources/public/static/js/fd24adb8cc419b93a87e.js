(this.webpackJsonpAdministration=this.webpackJsonpAdministration||[]).push([[280],{"3ZGe":function(e,t,r){var o=r("IWwp");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,r("ydqr").default)("7a7fdcd2",o,!0,{})},"9lJ5":function(e,t,r){"use strict";r.r(t);r("3ZGe");var o=Shopware.Mixin,n=Shopware.Data.Criteria;t.default={template:'\n{% block sw_import_export_exporter %}\n<div class="sw-import-export-exporter">\n    \n    {% block sw_import_export_exporter_header %}\n    <h2>{{ $tc(\'sw-import-export.importer.selectProfileLabel\') }}</h2>\n    {% endblock %}\n\n    \n    {% block sw_import_export_exporter_profile_select %}\n    <sw-entity-single-select\n        class="sw-import-export-exporter__profile-select"\n        :disabled="isLoading"\n        :label="$tc(\'sw-import-export.importer.profileLabel\')"\n        :criteria="profileCriteria"\n        entity="import_export_profile"\n        label-property="label"\n        :value="selectedProfileId"\n        required\n        show-clearable-button\n        @change="onProfileSelect"\n    />\n    {% endblock %}\n\n    <template v-if="selectedProfile && selectedProfile.sourceEntity === \'product\'">\n        \n        {% block sw_import_export_exporter_profile_select_product_variants_switch %}\n        <sw-field\n            v-model="config.parameters.includeVariants"\n            type="switch"\n            class="sw-import-export-exporter__variants-switch-field"\n            :label="$tc(\'sw-import-export.exporter.exportVariants\')"\n        />\n        {% endblock %}\n    </template>\n\n    <template v-if="showProductVariantsInfo">\n        \n        {% block sw_import_export_exporter_product_variants_warning %}\n        <sw-alert\n            variant="warning"\n            class="sw-import-export-exporter__variants-warning"\n        >\n            \n            {% block sw_import_export_exporter_product_variants_warning_text %}\n            <p>\n                <span v-html="$tc(\'sw-import-export.exporter.variantsWarning\')"></span>\n            </p>\n            <p>\n                <a\n                    href="#"\n                    class="sw-import-export-exporter__link"\n                    @click.prevent="setExportModalProfile(\'product_configurator_setting\')"\n                >\n                    {{ $tc(\'sw-import-export.exporter.directExportVariantsLabel\') }}\n                </a>\n                <br>\n                <a\n                    href="#"\n                    class="sw-import-export-exporter__link"\n                    @click.prevent="setExportModalProfile(\'property_group_option\')"\n                >\n                    {{ $tc(\'sw-import-export.exporter.directExportPropertiesLabel\') }}\n                </a>\n            </p>\n            {% endblock %}\n        </sw-alert>\n        {% endblock %}\n    </template>\n\n    \n    {% block sw_import_export_exporter_modal %}\n    <sw-modal\n        v-if="exportModalProfile"\n        :title="$tc(\'sw-import-export.exporter.exportLabel\')"\n        @modal-close="setExportModalProfile(null)"\n    >\n        \n        {% block sw_import_export_exporter_modal_exporter %}\n        <sw-import-export-exporter\n            :source-entity="exportModalProfile"\n            @export-started="$emit(\'export-started\', $event)"\n        />\n        {% endblock %}\n\n        <template #modal-footer>\n            \n            {% block sw_import_export_exporter_modal_footer %}\n            <sw-button\n                size="small"\n                @click="setExportModalProfile(null)"\n            >\n                {{ $tc(\'sw-import-export.exporter.close\') }}\n            </sw-button>\n            {% endblock %}\n        </template>\n    </sw-modal>\n    {% endblock %}\n\n    \n    {% block sw_import_export_exporter_progress %}\n    <sw-import-export-progress\n        activity-type="export"\n        :disable-button="disableExporting"\n        @process-start="onStartProcess"\n    />\n    {% endblock %}\n\n</div>\n{% endblock %}\n',inject:["importExport","repositoryFactory","feature"],mixins:[o.getByName("notification")],props:{sourceEntity:{type:String,required:!1,default:""}},data:function(){return{selectedProfileId:null,selectedProfile:null,config:{parameters:{}},isLoading:!1,exportModalProfile:null}},computed:{profileCriteria:function(){var e=new n(1,25);return e.addSorting(n.sort("label")),this.sourceEntity.length>0&&e.addFilter(n.equals("sourceEntity",this.sourceEntity)),e.addFilter(n.not("AND",[n.equals("type","import")])),e},disableExporting:function(){return this.isLoading||null===this.selectedProfileId},showProductVariantsInfo:function(){return this.selectedProfile&&"product"===this.selectedProfile.sourceEntity&&this.config&&this.config.parameters&&this.config.parameters.includeVariants},logRepository:function(){return this.repositoryFactory.create("import_export_log")}},methods:{onProfileSelect:function(e,t){this.selectedProfileId=e,this.selectedProfile=t},onStartProcess:function(){var e=this;this.isLoading=!0,this.importExport.export(this.selectedProfileId,this.handleProgress,this.config).catch((function(t){t.response&&t.response.data&&t.response.data.errors?t.response.data.errors.forEach((function(t){e.createNotificationError({message:"".concat(t.code,": ").concat(t.detail)})})):e.createNotificationError({message:t.message}),e.isLoading=!1}))},handleProgress:function(e){this.createNotificationInfo({message:this.$tc("sw-import-export.exporter.messageExportStarted")}),this.isLoading=!1,this.$emit("export-started",e)},setExportModalProfile:function(e){this.exportModalProfile=e}}}},IWwp:function(e,t,r){}}]);