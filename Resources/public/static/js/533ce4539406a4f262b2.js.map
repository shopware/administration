{"version":3,"sources":["webpack:///./src/module/sw-property/component/sw-property-option-detail/index.js","webpack:///./src/module/sw-property/component/sw-property-option-detail/sw-property-option-detail.html.twig"],"names":["mapPropertyErrors","Shopware","Component","getComponentHelper","template","inject","props","currentOption","type","Object","default","allowEdit","Boolean","required","emits","computed","_objectSpread","mediaRepository","this","repositoryFactory","create","methods","onCancel","State","dispatch","expression","$emit","onSave","successfulUpload","_ref","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","targetId","wrap","_context","prev","next","mediaId","get","stop","removeMedia","setMedia","selection","id"],"mappings":"6ZAMA,IACQA,EADcC,SAAdC,UACgCC,qBAAhCH,kBAGO,WACXI,SCXW,ijGDaXC,OAAQ,CAAC,oBAAqB,OAE9BC,MAAO,CACHC,cAAe,CACXC,KAAMC,OACNC,QAAO,WACH,MAAO,KAGfC,UAAW,CACPH,KAAMI,QACNC,UAAU,EAGVH,SAAS,IAIjBI,MAAO,CACH,qBACA,oBAGJC,S,iWAAQC,CAAA,CACJC,gBAAe,WACX,OAAOC,KAAKC,kBAAkBC,OAAO,WAGtCpB,EAAkB,gBAAiB,CAAC,UAG3CqB,QAAS,CACLC,SAAQ,WAEJrB,SAASsB,MAAMC,SACX,uBACA,CAAEC,WAAY,0BAGlBP,KAAKQ,MAAM,qBAAsBR,KAAKX,gBAG1CoB,OAAM,WACFT,KAAKQ,MAAM,mBAAoBR,KAAKX,gBAGlCqB,iBAAgB,SAAAC,GAAgB,IAADC,EAAA,YAAAC,IAAAC,IAAAC,MAAA,SAAAC,IAAA,IAAAC,EAAA,OAAAH,IAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACK,OADjBJ,EAAQN,EAARM,SACrBL,EAAKvB,cAAciC,QAAUL,EAASE,EAAAE,KAAA,EAChCT,EAAKb,gBAAgBwB,IAAIN,GAAU,KAAD,mBAAAE,EAAAK,UAAAR,MAFPH,IAKrCY,YAAW,WACPzB,KAAKX,cAAciC,QAAU,MAGjCI,SAAQ,SAACC,GACL3B,KAAKX,cAAciC,QAAUK,EAAU,GAAGC","file":"static/js/533ce4539406a4f262b2.js","sourcesContent":["/*\n * @package inventory\n */\n\nimport template from './sw-property-option-detail.html.twig';\n\nconst { Component } = Shopware;\nconst { mapPropertyErrors } = Component.getComponentHelper();\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    inject: ['repositoryFactory', 'acl'],\n\n    props: {\n        currentOption: {\n            type: Object,\n            default() {\n                return {};\n            },\n        },\n        allowEdit: {\n            type: Boolean,\n            required: false,\n            // TODO: Boolean props should only be opt in and therefore default to false\n            // eslint-disable-next-line vue/no-boolean-default\n            default: true,\n        },\n    },\n\n    emits: [\n        'cancel-option-edit',\n        'save-option-edit',\n    ],\n\n    computed: {\n        mediaRepository() {\n            return this.repositoryFactory.create('media');\n        },\n\n        ...mapPropertyErrors('currentOption', ['name']),\n    },\n\n    methods: {\n        onCancel() {\n            // Remove all property group options\n            Shopware.State.dispatch(\n                'error/removeApiError',\n                { expression: 'property_group_option' },\n            );\n\n            this.$emit('cancel-option-edit', this.currentOption);\n        },\n\n        onSave() {\n            this.$emit('save-option-edit', this.currentOption);\n        },\n\n        async successfulUpload({ targetId }) {\n            this.currentOption.mediaId = targetId;\n            await this.mediaRepository.get(targetId);\n        },\n\n        removeMedia() {\n            this.currentOption.mediaId = null;\n        },\n\n        setMedia(selection) {\n            this.currentOption.mediaId = selection[0].id;\n        },\n    },\n};\n","export default \"\\n{% block sw_property_option_detail %}\\n<sw-modal\\n    :title=\\\"currentOption.name ? currentOption.name : $tc('sw-property.detail.textOptionHeadline')\\\"\\n    @modal-close=\\\"onCancel\\\"\\n>\\n    \\n    {% block sw_property_option_detail_name %}\\n    <sw-text-field\\n        {% if VUE3 %}\\n        v-model:value=\\\"currentOption.name\\\"\\n        {% else %}\\n        v-model=\\\"currentOption.name\\\"\\n        {% endif %}\\n        validation=\\\"required\\\"\\n        :label=\\\"$tc('sw-property.detail.labelOptionName')\\\"\\n        :disabled=\\\"!allowEdit\\\"\\n        :placeholder=\\\"$tc('sw-property.detail.placeholderOptionName')\\\"\\n        :error=\\\"currentOptionNameError\\\"\\n        required\\n    />\\n    {% endblock %}\\n\\n    \\n    {% block sw_property_option_detail_position %}\\n    <sw-number-field\\n        {% if VUE3 %}\\n        v-model:value=\\\"currentOption.position\\\"\\n        {% else %}\\n        v-model=\\\"currentOption.position\\\"\\n        {% endif %}\\n        pattern=\\\"[0-9]\\\"\\n        :step=\\\"1\\\"\\n        :disabled=\\\"!allowEdit\\\"\\n        :label=\\\"$tc('sw-property.detail.labelOptionPosition')\\\"\\n        :placeholder=\\\"$tc('sw-property.detail.placeholderOptionPosition')\\\"\\n    />\\n    {% endblock %}\\n\\n    \\n    {% block sw_property_option_detail_color %}\\n    <sw-colorpicker\\n        {% if VUE3 %}\\n        v-model:value=\\\"currentOption.colorHexCode\\\"\\n        {% else %}\\n        v-model=\\\"currentOption.colorHexCode\\\"\\n        {% endif %}\\n        color-output=\\\"hex\\\"\\n        :disabled=\\\"!allowEdit\\\"\\n        :label=\\\"$tc('sw-property.detail.labelOptionColor')\\\"\\n        :z-index=\\\"1000\\\"\\n    />\\n    {% endblock %}\\n\\n    \\n    {% block sw_property_option_detail_media %}\\n    <sw-upload-listener\\n        :upload-tag=\\\"currentOption.id\\\"\\n        auto-upload\\n        @media-upload-finish=\\\"successfulUpload\\\"\\n    />\\n    <sw-media-compact-upload-v2\\n        default-folder=\\\"product\\\"\\n        :label=\\\"$tc('sw-property.detail.labelMediaUpload')\\\"\\n        :source=\\\"currentOption.mediaId\\\"\\n        :upload-tag=\\\"currentOption.id\\\"\\n        :disabled=\\\"!allowEdit\\\"\\n        @media-upload-remove-image=\\\"removeMedia\\\"\\n        @selection-change=\\\"setMedia\\\"\\n    />\\n    {% endblock %}\\n\\n    \\n    {% block sw_property_option_detail_footer %}\\n    <template #modal-footer>\\n        \\n        {% block sw_property_option_detail_footer_cancel %}\\n        <sw-button\\n            size=\\\"small\\\"\\n            @click=\\\"onCancel\\\"\\n        >\\n            {{ $tc('sw-property.detail.buttonCancel') }}\\n        </sw-button>\\n        {% endblock %}\\n\\n        \\n        {% block sw_property_option_detail_footer_save %}\\n        <sw-button\\n            v-tooltip.bottom=\\\"{\\n                message: $tc('sw-privileges.tooltip.warning'),\\n                disabled: acl.can('property.editor'),\\n                showOnDisabledElements: true\\n            }\\\"\\n            variant=\\\"primary\\\"\\n            size=\\\"small\\\"\\n            :disabled=\\\"!allowEdit\\\"\\n            @click=\\\"onSave\\\"\\n        >\\n            {{ $tc('sw-property.detail.buttonApply') }}\\n        </sw-button>\\n        {% endblock %}\\n    </template>\\n    {% endblock %}\\n</sw-modal>\\n{% endblock %}\\n\";"],"sourceRoot":""}