{"version":3,"sources":["webpack:///./src/module/sw-product/view/sw-product-detail-seo/index.js","webpack:///./src/module/sw-product/view/sw-product-detail-seo/sw-product-detail-seo.html.twig"],"names":["_Component$getCompone","Shopware","Component","getComponentHelper","mapState","mapGetters","template","inject","data","currentSalesChannelId","undefined","computed","_objectSpread","categories","_this$parentProduct$c","this","product","length","parentProduct","parentMainCategory","_this","mainCategories","find","category","salesChannelId","productMainCategory","get","_this2","set","newMainCategory","_this3","push","filter","methods","onAddMainCategory","mainCategory","onChangeSalesChannel"],"mappings":"stBAMA,IACAA,EADsBC,SAAdC,UACmCC,qBAAnCC,EAAQJ,EAARI,SAAUC,EAAUL,EAAVK,WAGH,WACXC,SCXW,s9EDaXC,OAAQ,CAAC,UAAW,OAEpBC,KAAI,WACA,MAAO,CACHC,2BAAuBC,IAI/BC,SAAQC,MAAA,GACDR,EAAS,kBAAmB,CAC3B,UACA,mBAGDC,EAAW,kBAAmB,CAC7B,eACF,IAEFQ,WAAU,WAAI,IAADC,EACT,OAAIC,KAAKC,QAAQH,WAAWI,OAAS,EAC1BF,KAAKC,QAAQH,WAGY,QAApCC,EAAOC,KAAKG,cAAcL,kBAAU,IAAAC,IAAI,IAG5CK,mBAAkB,WAAI,IAADC,EAAA,KACjB,OAAIL,KAAKG,cAAcG,gBAAkBN,KAAKN,sBACnCM,KAAKG,cAAcG,eAAeC,MAAK,SAACC,GAC3C,OAAOA,EAASC,iBAAmBJ,EAAKX,yBAIzC,MAGXgB,oBAAqB,CACjBC,IAAG,WAAI,IAADC,EAAA,KACF,OAAOZ,KAAKC,QAAQK,eAAeC,MAAK,SAACC,GACrC,OAAOA,EAASC,iBAAmBG,EAAKlB,0BAGhDmB,IAAG,SAACC,GAAkB,IAADC,EAAA,MACbf,KAAKC,QAAQK,gBAAmBQ,EAQpCd,KAAKC,QAAQK,eAAeU,KAAKF,GAP7Bd,KAAKC,QAAQK,eAAiBN,KAAKC,QAAQK,eAAeW,QAAO,SAAAT,GAC7D,OAAOA,EAASC,iBAAmBM,EAAKrB,6BAW5DwB,QAAS,CACLC,kBAAiB,SAACC,GACVpB,KAAKC,QAAQK,gBACbN,KAAKC,QAAQK,eAAeU,KAAKI,IAGzCC,qBAAoB,SAAC3B,GACjBM,KAAKN,sBAAwBA","file":"static/js/21cc635b322f8a05dc84.js","sourcesContent":["/*\n * @package inventory\n */\n\nimport template from './sw-product-detail-seo.html.twig';\n\nconst { Component } = Shopware;\nconst { mapState, mapGetters } = Component.getComponentHelper();\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    inject: ['feature', 'acl'],\n\n    data() {\n        return {\n            currentSalesChannelId: undefined,\n        };\n    },\n\n    computed: {\n        ...mapState('swProductDetail', [\n            'product',\n            'parentProduct',\n        ]),\n\n        ...mapGetters('swProductDetail', [\n            'isLoading',\n        ]),\n\n        categories() {\n            if (this.product.categories.length > 0) {\n                return this.product.categories;\n            }\n\n            return this.parentProduct.categories ?? [];\n        },\n\n        parentMainCategory() {\n            if (this.parentProduct.mainCategories && this.currentSalesChannelId) {\n                return this.parentProduct.mainCategories.find((category) => {\n                    return category.salesChannelId === this.currentSalesChannelId;\n                });\n            }\n\n            return null;\n        },\n\n        productMainCategory: {\n            get() {\n                return this.product.mainCategories.find((category) => {\n                    return category.salesChannelId === this.currentSalesChannelId;\n                });\n            },\n            set(newMainCategory) {\n                if (this.product.mainCategories && !newMainCategory) {\n                    this.product.mainCategories = this.product.mainCategories.filter(category => {\n                        return category.salesChannelId !== this.currentSalesChannelId;\n                    });\n\n                    return;\n                }\n\n                this.product.mainCategories.push(newMainCategory);\n            },\n        },\n    },\n\n    methods: {\n        onAddMainCategory(mainCategory) {\n            if (this.product.mainCategories) {\n                this.product.mainCategories.push(mainCategory);\n            }\n        },\n        onChangeSalesChannel(currentSalesChannelId) {\n            this.currentSalesChannelId = currentSalesChannelId;\n        },\n    },\n};\n","export default \"\\n{% block sw_product_detail_seo %}\\n<div v-if=\\\"isLoading\\\">\\n    <sw-skeleton variant=\\\"detail-bold\\\" />\\n    <sw-skeleton />\\n</div>\\n\\n<div v-else>\\n    \\n    {% block sw_product_detail_seo_general %}\\n    <sw-card\\n        position-identifier=\\\"sw-product-detail-seo\\\"\\n        :title=\\\"$tc('sw-product.seo.cardTitleSeo')\\\"\\n    >\\n        \\n        {% block sw_product_detail_seo_general_content %}\\n        <sw-product-seo-form\\n            ref=\\\"seoForm\\\"\\n            :allow-edit=\\\"acl.can('product.editor')\\\"\\n        />\\n        {% endblock %}\\n    </sw-card>\\n    {% endblock %}\\n\\n    \\n    {% block sw_product_detail_seo_urls %}\\n    <sw-seo-url\\n        v-if=\\\"product.seoUrls\\\"\\n        :has-default-template=\\\"false\\\"\\n        :disabled=\\\"!acl.can('product.editor')\\\"\\n        :urls=\\\"product.seoUrls\\\"\\n        @on-change-sales-channel=\\\"onChangeSalesChannel\\\"\\n    >\\n        \\n        {% block sw_product_detail_seo_urls_content %}\\n        <template #seo-additional=\\\"props\\\">\\n            \\n            {% block sw_product_detail_seo_urls_content_seo_additional %}\\n            <sw-inherit-wrapper\\n                v-if=\\\"product.mainCategories\\\"\\n                {% if VUE3 %}\\n                v-model:value=\\\"productMainCategory\\\"\\n                {% else %}\\n                v-model=\\\"productMainCategory\\\"\\n                {% endif %}\\n                :has-parent=\\\"!!parentProduct.id && !!props.currentSalesChannelId && product.categories.length === 0\\\"\\n                :label=\\\"$tc('sw-seo-url.labelMainCategory')\\\"\\n                :inherited-value=\\\"parentMainCategory\\\"\\n            >\\n\\n                <template #content=\\\"{ currentValue, isInherited }\\\">\\n                    \\n                    {% block sw_product_detail_seo_urls_content_seo_additional_edit %}\\n                    <sw-seo-main-category\\n                        :current-sales-channel-id=\\\"props.currentSalesChannelId\\\"\\n                        :categories=\\\"categories\\\"\\n                        :main-categories=\\\"isInherited ? parentProduct.mainCategories : product.mainCategories\\\"\\n                        :overwrite-label=\\\"true\\\"\\n                        :allow-edit=\\\"acl.can('product.editor') && !isInherited\\\"\\n                        @main-category-add=\\\"onAddMainCategory\\\"\\n                    />\\n                    {% endblock %}\\n                </template>\\n\\n            </sw-inherit-wrapper>\\n            {% endblock %}\\n        </template>\\n        {% endblock %}\\n    </sw-seo-url>\\n    {% endblock %}\\n</div>\\n{% endblock %}\\n\";"],"sourceRoot":""}