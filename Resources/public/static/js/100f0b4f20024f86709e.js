(window.webpackJsonpAdministration=window.webpackJsonpAdministration||[]).push([[24148],{71477:function(){},24148:function(t,s,i){"use strict";i.r(s),i.d(s,{default:function(){return o}}),i(64015);let{Component:e,Mixin:a}=Shopware;var o=e.wrapComponentConfig({template:'<sw-modal\n    class="sw-settings-tax-provider-sorting-modal"\n    :title="$tc(\'sw-settings-tax.list.taxProvider.sorting-modal.modalTitle\')"\n    @modal-close="closeModal"\n>\n    <template #body>\n        <div class="sw-modal__body sw-settings-tax-provider-sorting-modal__subtitle">\n            {{ $tc(\'sw-settings-tax.list.taxProvider.sorting-modal.subTitle\') }}\n        </div>\n\n        <div class="sw-modal__body">\n            <sw-sortable-list\n                class="sw-settings-tax-provider-sorting-modal__tax-provider-list"\n                :items="sortedTaxProviders"\n                @items-sorted="onSort"\n            >\n                <template #item="{ item: taxProvider }">\n                    <div\n                        class="sw-settings-tax-provider-sorting-modal__tax-provider-list-item"\n                        :class="!taxProvider.active ? \'is--disabled\' : \'\'"\n                    >\n                        <sw-icon\n                            class="sw-settings-tax-provider-sorting-modal__tax-provider-list-item__action"\n                            name="regular-grip-vertical"\n                        />\n\n                        <div class="sw-settings-tax-provider-sorting-modal__tax-provider-list-item__name">\n                            {{ taxProvider.translated.name }}\n                        </div>\n                    </div>\n                </template>\n            </sw-sortable-list>\n        </div>\n    </template>\n\n    <template #modal-footer>\n        <sw-button\n            class="sw-settings-tax-provider-sorting-modal__cancel-button"\n            @click="closeModal"\n        >\n            {{ $tc(\'global.default.cancel\') }}\n        </sw-button>\n\n        <sw-button-process\n            class="sw-settings-tax-provider-sorting-modal__save-button"\n            variant="primary"\n            :is-loading="isSaving"\n            :disabled="!acl.can(\'tax.editor\')"\n            :process-success="false"\n            @click="applyChanges"\n        >\n            {{ $tc(\'global.default.save\') }}\n        </sw-button-process>\n    </template>\n</sw-modal>\n',inject:["acl","repositoryFactory"],mixins:[a.getByName("notification")],props:{taxProviders:{type:Array,required:!0}},data(){return{isSaving:!1,originalTaxProviders:this.taxProviders,sortedTaxProviders:this.taxProviders}},computed:{taxProviderRepository(){return this.repositoryFactory.create("tax_provider")}},methods:{closeModal(){this.$emit("modal-close")},applyChanges(){this.isSaving=!0,this.sortedTaxProviders.map((t,s)=>(t.priority=this.sortedTaxProviders.length-s,t)),this.taxProviderRepository.saveAll(this.sortedTaxProviders).then(()=>{this.isSaving=!1,this.$emit("modal-close"),this.$emit("modal-save"),this.createNotificationSuccess({message:this.$tc("sw-settings-tax.list.taxProvider.sorting-modal.saveSuccessful")})}).catch(()=>{this.createNotificationError({message:this.$tc("sw-settings-tax.list.taxProvider.sorting-modal.errorMessage")})})},onSort(t){this.sortedTaxProviders=t}}})},64015:function(t,s,i){var e=i(71477);e.__esModule&&(e=e.default),"string"==typeof e&&(e=[[t.id,e,""]]),e.locals&&(t.exports=e.locals),i(45346).Z("0f54a66f",e,!0,{})}}]);