{"version":3,"sources":["webpack:///./src/module/sw-settings-usage-data/component/sw-usage-data-consent-banner/sw-usage-data-consent-banner.scss","webpack:///./src/module/sw-settings-usage-data/component/sw-usage-data-consent-banner/index.ts","webpack:///./src/module/sw-settings-usage-data/component/sw-usage-data-consent-banner/sw-usage-data-consent-banner.html.twig"],"names":["content","__esModule","default","module","i","locals","exports","add","Shopware","Component","wrapComponentConfig","name","template","inject","props","canBeHidden","type","Boolean","required","data","showLinkToSettingsPage","showThankYouBanner","computed","isAccepted","get","State","isConsentGiven","set","commit","isHidden","isBannerHidden","hasSufficientPrivileges","this","acl","can","methods","onReject","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","usageDataService","revokeConsent","stop","onAccept","_this2","_callee2","_context2","acceptConsent","onHide","_this3","_callee3","_context3","hideBanner","onClose"],"mappings":"0GAGA,IAAIA,EAAU,EAAQ,QACnBA,EAAQC,aAAYD,EAAUA,EAAQE,SACnB,iBAAZF,IAAsBA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAC7DA,EAAQK,SAAQF,EAAOG,QAAUN,EAAQK,SAG/BE,EADH,EAAQ,QAAwEL,SACzE,WAAYF,GAAS,EAAM,K,wHCD7BQ,mBAASC,UAAUC,oBAAoB,CAClDC,KAAM,+BACNC,SCVW,yjRDYXC,OAAQ,CACJ,MACA,oBAGJC,MAAO,CACHC,YAAa,CACTC,KAAMC,QACNC,UAAU,EACVhB,SAAS,IAIjBiB,KAAI,WACA,MAAO,CACHC,wBAAwB,EACxBC,oBAAoB,IAI5BC,SAAU,CACNC,WAAY,CACRC,IAAG,WACC,OAAOhB,SAASiB,MAAMD,IAAI,aAAaE,gBAE3CC,IAAG,SAACD,GACAlB,SAASiB,MAAMG,OAAO,iCAAkCF,KAIhEG,SAAQ,WACJ,OAAOrB,SAASiB,MAAMD,IAAI,aAAaM,gBAG3CC,wBAAuB,WACnB,OAAOC,KAAKC,IAAIC,IAAI,0BAI5BC,QAAS,CACCC,SAAQ,WAAI,IAADC,EAAA,YAAAC,IAAAC,IAAAC,MAAA,SAAAC,IAAA,OAAAF,IAAAG,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACPR,EAAKS,iBAAiBC,gBAAgB,KAAD,EAE3CV,EAAKd,YAAa,EAAM,wBAAAoB,EAAAK,UAAAP,MAHXH,IAMXW,SAAQ,WAAI,IAADC,EAAA,YAAAZ,IAAAC,IAAAC,MAAA,SAAAW,IAAA,OAAAZ,IAAAG,MAAA,SAAAU,GAAA,cAAAA,EAAAR,KAAAQ,EAAAP,MAAA,cAAAO,EAAAP,KAAA,EACPK,EAAKJ,iBAAiBO,gBAAgB,KAAD,EAE3CH,EAAK7B,oBAAqB,EAC1B6B,EAAK3B,YAAa,EAAK,wBAAA6B,EAAAJ,UAAAG,MAJVb,IAOXgB,OAAM,WAAI,IAADC,EAAA,YAAAjB,IAAAC,IAAAC,MAAA,SAAAgB,IAAA,OAAAjB,IAAAG,MAAA,SAAAe,GAAA,cAAAA,EAAAb,KAAAa,EAAAZ,MAAA,cAAAY,EAAAZ,KAAA,EACLU,EAAKT,iBAAiBY,aAAa,KAAD,EACxCH,EAAKnC,wBAAyB,EAE9BZ,SAASiB,MAAMG,OAAO,wBAAwB,wBAAA6B,EAAAT,UAAAQ,MAJnClB,IAOfqB,QAAO,WACH3B,KAAKZ,wBAAyB,EAC9BY,KAAKX,oBAAqB","file":"static/js/de130d7ab6a89cd36e3f.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--15-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--15-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--15-3!./sw-usage-data-consent-banner.scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"0f548c30\", content, true, {});","import template from './sw-usage-data-consent-banner.html.twig';\nimport './sw-usage-data-consent-banner.scss';\n\n/**\n * @package merchant-services\n *\n * @private\n */\nexport default Shopware.Component.wrapComponentConfig({\n    name: 'sw-usage-data-consent-banner',\n    template,\n\n    inject: [\n        'acl',\n        'usageDataService',\n    ],\n\n    props: {\n        canBeHidden: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n    },\n\n    data(): { showLinkToSettingsPage: boolean, showThankYouBanner: boolean } {\n        return {\n            showLinkToSettingsPage: false,\n            showThankYouBanner: false,\n        };\n    },\n\n    computed: {\n        isAccepted: {\n            get() {\n                return Shopware.State.get('usageData').isConsentGiven;\n            },\n            set(isConsentGiven: boolean) {\n                Shopware.State.commit('usageData/updateIsConsentGiven', isConsentGiven);\n            },\n        },\n\n        isHidden() {\n            return Shopware.State.get('usageData').isBannerHidden;\n        },\n\n        hasSufficientPrivileges() {\n            return this.acl.can('system.system_config');\n        },\n    },\n\n    methods: {\n        async onReject() {\n            await this.usageDataService.revokeConsent();\n\n            this.isAccepted = false;\n        },\n\n        async onAccept() {\n            await this.usageDataService.acceptConsent();\n\n            this.showThankYouBanner = true;\n            this.isAccepted = true;\n        },\n\n        async onHide() {\n            await this.usageDataService.hideBanner();\n            this.showLinkToSettingsPage = true;\n\n            Shopware.State.commit('usageData/hideBanner');\n        },\n\n        onClose(): void {\n            this.showLinkToSettingsPage = false;\n            this.showThankYouBanner = false;\n        },\n    },\n});\n","export default \"<div\\n    v-if=\\\"(showLinkToSettingsPage || showThankYouBanner) && canBeHidden\\\"\\n    class=\\\"sw-usage-data-consent-banner-reject-accept-message\\\"\\n>\\n    <sw-icon\\n        v-if=\\\"showThankYouBanner\\\"\\n        name=\\\"solid-check-circle\\\"\\n        size=\\\"20px\\\"\\n        color=\\\"#23BE2F\\\"\\n    />\\n    <i18n\\n        tag=\\\"p\\\"\\n        :path=\\\"showThankYouBanner ? 'sw-usage-data-consent-banner.thankYouMessage' : 'sw-usage-data-consent-banner.rejectedMessage'\\\"\\n        class=\\\"sw-usage-data-consent-banner-reject-accept-message__message\\\"\\n    >\\n        <template\\n            #thanksForParticipation>\\n            <strong>{{ $tc('sw-usage-data-consent-banner.thanksForParticipation') }}</strong>\\n        </template>\\n        <template #link>\\n            <sw-internal-link\\n                :router-link=\\\"{ name: 'sw.settings.usage.data.index' }\\\"\\n            >\\n                {{ $tc('sw-usage-data-consent-banner.togglePath') }}\\n            </sw-internal-link>\\n        </template>\\n    </i18n>\\n    <button\\n        class=\\\"sw-usage-data-consent-banner-reject-accept-message__close\\\"\\n        @click=\\\"onClose\\\"\\n    >\\n        <sw-icon\\n            name=\\\"solid-times-xs\\\"\\n            size=\\\"8px\\\" />\\n    </button>\\n</div>\\n\\n<div\\n    v-else-if=\\\"(hasSufficientPrivileges && !isAccepted && !isHidden) || !canBeHidden\\\"\\n    class=\\\"sw-usage-data-consent-banner\\\">\\n    <section class=\\\"sw-usage-data-consent-banner__content\\\">\\n        <header class=\\\"sw-usage-data-consent-banner__title\\\">\\n            {{ $tc('sw-usage-data-consent-banner.headline') }}\\n        </header>\\n        <p>{{ isAccepted ? $tc('sw-usage-data-consent-banner.improvingDescriptionNotAccepted') : $tc('sw-usage-data-consent-banner.improvingDescriptionNotAccepted') }}</p>\\n        <aside class=\\\"sw-usage-data-consent-banner__data-shared-card\\\">\\n            <h4>{{ isAccepted ? $tc('sw-usage-data-consent-banner.collectionInformation.title') : $tc('sw-usage-data-consent-banner.collectionInformation.titleNotAccepted') }}</h4>\\n            <ul>\\n                <li>\\n                    <sw-icon\\n                        name=\\\"solid-shopping-bag\\\"\\n                        size=\\\"16\\\" />\\n                    <span>{{ $tc('sw-usage-data-consent-banner.collectionInformation.orderData') }}\\n                        <sw-help-text\\n                            :text=\\\"$tc('sw-usage-data-consent-banner.collectionInformation.helpText.orderDataHelp')\\\"\\n                            :width=\\\"350\\\"\\n                            tooltip-position=\\\"top\\\"\\n                            :show-delay=\\\"100\\\"\\n                            :hide-delay=\\\"100\\\" />\\n                    </span>\\n                </li>\\n                <li>\\n                    <sw-icon\\n                        name=\\\"solid-sidebar\\\"\\n                        size=\\\"16\\\" />\\n                    <span>{{ $tc('sw-usage-data-consent-banner.collectionInformation.usageData') }}\\n                        <sw-help-text\\n                            :text=\\\"$tc('sw-usage-data-consent-banner.collectionInformation.helpText.usageDataHelp')\\\"\\n                            :width=\\\"350\\\"\\n                            tooltip-position=\\\"top\\\"\\n                            :show-delay=\\\"100\\\"\\n                            :hide-delay=\\\"100\\\" />\\n                    </span>\\n                </li>\\n                <li>\\n                    <sw-icon\\n                        name=\\\"solid-sitemap\\\"\\n                        size=\\\"16\\\" />\\n                    <span>{{ $tc('sw-usage-data-consent-banner.collectionInformation.diagnosticData') }}\\n                        <sw-help-text\\n                            :text=\\\"$tc('sw-usage-data-consent-banner.collectionInformation.helpText.diagnosticDataHelp')\\\"\\n                            :width=\\\"350\\\"\\n                            tooltip-position=\\\"top\\\"\\n                            :show-delay=\\\"100\\\"\\n                            :hide-delay=\\\"100\\\" />\\n                    </span>\\n                </li>\\n                <li>\\n                    <sw-icon\\n                        name=\\\"solid-storefront\\\"\\n                        size=\\\"16\\\" />\\n                    <span>{{ $tc('sw-usage-data-consent-banner.collectionInformation.storeData') }}\\n                        <sw-help-text\\n                            :text=\\\"$tc('sw-usage-data-consent-banner.collectionInformation.helpText.storeDataHelp')\\\"\\n                            :width=\\\"350\\\"\\n                            tooltip-position=\\\"top\\\"\\n                            :show-delay=\\\"100\\\"\\n                            :hide-delay=\\\"100\\\" />\\n                    </span>\\n                </li>\\n            </ul>\\n        </aside>\\n        <aside class=\\\"sw-usage-data-consent-banner__data-shared-card\\\">\\n            <h4>{{ $tc('sw-usage-data-consent-banner.checkListDataSharing.title') }}</h4>\\n            <ul>\\n                <li>\\n                    <sw-icon\\n                        name=\\\"solid-check-circle\\\"\\n                        size=\\\"16px\\\"\\n                        color=\\\"#23BE2F\\\"\\n                    />\\n                    <span>{{ $tc('sw-usage-data-consent-banner.checkListDataSharing.gdprCompliant') }}</span></li>\\n                <li>\\n                    <sw-icon\\n                        name=\\\"solid-check-circle\\\"\\n                        size=\\\"16px\\\"\\n                        color=\\\"#23BE2F\\\"\\n                    />\\n                    <span>{{ $tc('sw-usage-data-consent-banner.checkListDataSharing.personalData') }}</span></li>\\n                <li>\\n                    <sw-icon\\n                        name=\\\"solid-check-circle\\\"\\n                        size=\\\"16px\\\"\\n                        color=\\\"#23BE2F\\\"\\n                    />\\n                    <span>{{ $tc('sw-usage-data-consent-banner.checkListDataSharing.securelyProcessed') }}</span></li>\\n                <li>\\n                    <sw-icon\\n                        name=\\\"solid-check-circle\\\"\\n                        size=\\\"16px\\\"\\n                        color=\\\"#23BE2F\\\"\\n                    />\\n                    <span>{{ $tc('sw-usage-data-consent-banner.checkListDataSharing.thirdParty') }}\\n                        <sw-help-text\\n                            :text=\\\"$tc('sw-usage-data-consent-banner.checkListDataSharing.helpText.shareDataHelpText')\\\"\\n                            :width=\\\"350\\\"\\n                            tooltip-position=\\\"top\\\"\\n                            :show-delay=\\\"100\\\"\\n                            :hide-delay=\\\"100\\\" />\\n                    </span>\\n                </li>\\n            </ul>\\n        </aside>\\n        <i18n\\n            tag=\\\"p\\\"\\n            path=\\\"sw-usage-data-consent-banner.fullDetailsDescription\\\"\\n            class=\\\"sw-usage-data-consent-banner__description\\\">\\n            <template #link>\\n                <sw-external-link :href=\\\"$tc('sw-usage-data-consent-banner.privacyPolicyLink')\\\">\\n                    {{ $tc('sw-usage-data-consent-banner.privacyPolicy') }}\\n                </sw-external-link>\\n            </template>\\n            <template #fullDetailsDescriptionNotAccepted>\\n                {{ isAccepted ? '' : $tc('sw-usage-data-consent-banner.fullDetailsDescriptionNotAccepted') }}\\n            </template>\\n        </i18n>\\n\\n        <p v-if=\\\"!isAccepted\\\">\\n            {{ $tc('sw-usage-data-consent-banner.confirmAuthorization') }}\\n        </p>\\n    </section>\\n    <footer\\n        class=\\\"sw-usage-data-consent-banner__footer\\\"\\n        :class=\\\"!canBeHidden ? 'sw-usage-data-consent-banner__footer-settings' : ''\\\">\\n        <sw-button\\n            v-if=\\\"!isAccepted\\\"\\n            class=\\\"sw-usage-data-consent-banner__accept-button\\\"\\n            variant=\\\"primary\\\"\\n            @click=\\\"onAccept\\\"\\n        >\\n            {{ $tc('sw-usage-data-consent-banner.acceptDataCollection') }}\\n        </sw-button>\\n\\n        <sw-button\\n            v-if=\\\"canBeHidden\\\"\\n            class=\\\"sw-usage-data-consent-banner__decline-button\\\"\\n            @click=\\\"onHide\\\"\\n        >\\n            {{ $tc('sw-usage-data-consent-banner.declineDataCollection') }}\\n        </sw-button>\\n\\n        <div\\n            v-if=\\\"isAccepted && !canBeHidden\\\"\\n            class=\\\"sw-usage-data-consent-banner__accepted-message\\\">\\n            <sw-icon\\n                name=\\\"solid-check-circle\\\"\\n                size=\\\"16px\\\"\\n                color=\\\"#23BE2F\\\"\\n            />{{ $tc('sw-usage-data-consent-banner.settings.sharingInformation') }}\\n        </div>\\n\\n        <sw-button\\n            v-if=\\\"isAccepted && !canBeHidden\\\"\\n            class=\\\"sw-usage-data-consent-banner__reject-button\\\"\\n            variant=\\\"context\\\"\\n            @click=\\\"onReject\\\"\\n        >\\n            {{ $tc('sw-usage-data-consent-banner.settings.deactivateDataCollection') }}\\n        </sw-button>\\n    </footer>\\n</div>\\n\";"],"sourceRoot":""}