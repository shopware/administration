(this.webpackJsonpAdministration=this.webpackJsonpAdministration||[]).push([[150],{"06J6":function(e,n,t){var l=t("b2f5");l.__esModule&&(l=l.default),"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);(0,t("P8hj").default)("04e0e3f9",l,!0,{})},b2f5:function(e,n,t){},gjgp:function(e,n,t){"use strict";t.r(n);var l=t("CsSd"),o=t.n(l),s=t("c1oF"),i=t.n(s),c=(t("06J6"),Shopware.Utils.object.deepCopyObject);n.default={template:'\n{% block sw_cms_slot %}\n<div\n    :id="slotElementId"\n    class="sw-cms-slot"\n    :class="componentClasses"\n>\n\n    \n    {% block sw_cms_slot_content %}\n\n    \n    {% block sw_cms_slot_content_component %}\n    <component\n        :is="elementConfig.component"\n        v-if="elementConfig && elementConfig.component"\n        {% if VUE3 %}\n        v-model:element="element"\n        {% else %}\n        v-model="element"\n        {% endif %}\n        :element-data="elementConfig"\n        :disabled="disabled"\n    />\n    {% endblock %}\n\n    {# This is just a quick inline design which needs to be refactored for a real design implementation #}\n    <div\n        v-else-if="elementNotFound"\n        class="sw-cms-slot__element-not-found"\n        style="\n            width: 100%;\n            min-height: 250px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            background-color: #fbe5ea;\n            border: 1px solid #de294c;\n            border-radius: 4px;\n            gap: 16px;\n        "\n    >\n        <sw-icon\n            name="regular-exclamation-circle"\n            color="#de294c"\n        />\n\n        <div>\n            <p style="color: #de294c;">\n                <strong>Element could not be load</strong>\n            </p>\n            <p style="color: #de294c; margin-top: 6px;">\n                Please try again or select another element.\n            </p>\n        </div>\n    </div>\n\n    <div v-else>\n        <sw-skeleton-bar style="width: 100%; min-height: 250px;" />\n    </div>\n\n    \n    {% block sw_cms_slot_content_preview_overlay %}\n    <div\n        v-if="!active"\n        class="sw-cms-slot__preview-overlay"\n    ></div>\n    {% endblock %}\n\n    \n    {% block sw_cms_slot_content_overlay %}\n    <div\n        v-if="active"\n        class="sw-cms-slot__overlay"\n    >\n        \n        {% block sw_cms_slot_content_overlay_content %}\n        <div class="sw-cms-slot__actions">\n            \n            {% block sw_cms_slot_content_overlay_action_settings %}\n            <div\n                v-tooltip.bottom="tooltipDisabled"\n                class="sw-cms-slot__settings-action"\n                :class="cmsSlotSettingsClasses"\n                role="button"\n                tabindex="0"\n                @click="onSettingsButtonClick"\n                @keydown.enter="onSelectElement(element.name)"\n            >\n                <sw-icon\n                    name="regular-cog"\n                    size="16"\n                />\n            </div>\n            {% endblock %}\n\n            \n            {% block sw_cms_slot_content_overlay_action_swap %}\n            <div\n                v-if="elementConfig?.removable !== false"\n                class="sw-cms-slot__element-action"\n                role="button"\n                tabindex="0"\n                @click="onElementButtonClick"\n                @keydown.enter="onSelectElement(element.name)"\n            >\n                <sw-icon\n                    name="regular-repeat"\n                    size="16"\n                />\n            </div>\n            {% endblock %}\n        </div>\n        {% endblock %}\n    </div>\n    {% endblock %}\n\n    \n    {% block sw_cms_slot_content_settings_modal %}\n    <sw-modal\n        v-if="showElementSettings"\n        class="sw-cms-slot__config-modal"\n        variant="large"\n        :title="$tc(\'sw-cms.detail.title.elementSettingsModal\')"\n        @modal-close="onCloseSettingsModal"\n    >\n        \n        {% block sw_cms_slot_content_settings_modal_component %}\n        <component\n            :is="elementConfig.configComponent"\n            ref="elementComponentRef"\n            {% if VUE3 %}\n            v-model:element="element"\n            {% else %}\n            v-model="element"\n            {% endif %}\n            :element-data="elementConfig"\n        />\n        {% endblock %}\n\n        \n        {% block sw_cms_slot_content_settings_modal_footer %}\n        <template #modal-footer>\n            \n            {% block sw_cms_slot_content_settings_modal_action_confirm %}\n            <sw-button\n                variant="primary"\n                @click="onCloseSettingsModal"\n            >\n                {{ $tc(\'sw-cms.detail.label.buttonElementSettingsConfirm\') }}\n            </sw-button>\n            {% endblock %}\n        </template>\n        {% endblock %}\n    </sw-modal>\n    {% endblock %}\n\n    \n    {% block sw_cms_slot_content_element_modal %}\n    <sw-modal\n        v-if="showElementSelection"\n        :title="$tc(\'sw-cms.detail.title.elementChangeModal\')"\n        @modal-close="onCloseElementModal"\n    >\n        \n        {% block sw_cms_slot_content_element_modal_selection %}\n        <div class="sw-cms-slot__modal-container">\n            \n            {% block sw_cms_slot_content_element_modal_selection_groups %}\n            <sw-sidebar-collapse\n                v-for="cmsElementGroup in groupedCmsElements"\n                :key="cmsElementGroup.title"\n                expand-on-loading\n                expand-chevron-direction="up"\n            >\n                <template #header>\n                    {{ $tc(cmsElementGroup.title) }}\n                </template>\n\n                <template #content>\n                    <div class="sw-cms-slot__element-selection">\n                        \n                        {% block sw_cms_slot_content_element_modal_selection_element %}\n                        <template\n                            v-for="element in cmsElementGroup.items"\n                            {% if VUE3 %}\n                            :key="element.name"\n                            {% endif %}\n                        >\n                            <div\n                                v-if="!element.hidden && element.previewComponent"\n                                {% if VUE2 %}\n                                :key="element.name"\n                                {% endif %}\n                                class="element-selection__element-wrapper"\n                            >\n                                <div class="element-selection__element">\n                                    \n                                    {% block sw_cms_slot_content_element_modal_selection_element_component %}\n                                    <component\n                                        :is="element.previewComponent"\n                                        class="sw-cms-slot__element-preview"\n                                        :element-data="element"\n                                    />\n                                    {% endblock %}\n\n                                    \n                                    {% block sw_cms_slot_content_element_modal_selection_element_overlay %}\n                                    <div\n                                        class="element-selection__overlay element-selection__overlay-action-select"\n                                        role="button"\n                                        tabindex="0"\n                                        @click="onSelectElement(element)"\n                                        @keydown.enter="onSelectElement(element)"\n                                    >\n                                        <sw-icon\n                                            name="regular-repeat"\n                                            size="28"\n                                        />\n                                    </div>\n                                    {% endblock %}\n\n                                    \n                                    {% block sw_cms_slot_content_element_modal_selection_element_overlay_favorite %}\n                                    <div\n                                        class="element-selection__overlay element-selection__overlay-action-favorite"\n                                        role="button"\n                                        tabindex="0"\n                                        @click="onToggleElementFavorite(element.name)"\n                                        @keydown.enter="onToggleElementFavorite(element.name)"\n                                    >\n                                        <sw-icon\n                                            v-if="cmsElementFavorites.isFavorite(element.name)"\n                                            name="solid-heart"\n                                            size="28"\n                                        />\n                                        <sw-icon\n                                            v-else\n                                            name="regular-heart"\n                                            size="28"\n                                        />\n                                    </div>\n                                {% endblock %}\n                                </div>\n\n                                \n                                {% block sw_cms_slot_content_element_modal_selection_element_label %}\n                                <span class="element-selection__label">{{ $tc(element.label) }}</span>\n                            {% endblock %}\n                            </div>\n                        </template>\n                        {% endblock %}\n                    </div>\n                </template>\n            </sw-sidebar-collapse>\n            {% endblock %}\n        </div>\n        {% endblock %}\n\n        \n        {% block sw_cms_slot_content_element_modal_footer %}\n        <template #modal-footer>\n\n            \n            {% block sw_cms_slot_content_element_modal_action_abort %}\n            <sw-button @click="onCloseElementModal">\n                {{ $tc(\'sw-cms.detail.label.buttonElementChangeAbort\') }}\n            </sw-button>\n            {% endblock %}\n        </template>\n        {% endblock %}\n    </sw-modal>\n    {% endblock %}\n    {% endblock %}\n</div>\n{% endblock %}\n',inject:["cmsService","cmsElementFavorites"],props:{element:{type:Object,required:!0,default:function(){return{}}},active:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1}},data:function(){return{showElementSettings:!1,showElementSelection:!1,elementNotFound:!1}},computed:{slotElementId:function(){return this.element.id},cmsServiceState:function(){return this.cmsService.getCmsServiceState()},elementConfig:function(){return this.cmsServiceState.elementRegistry[this.element.type]},cmsElements:function(){var e=this,n=Shopware.State.get("cmsPageState").currentPageType,t=Object.entries(this.cmsService.getCmsElementRegistry()).filter((function(t){var l=i()(t,1)[0];return e.cmsService.isElementAllowedInPageType(l,n)}));return Object.fromEntries(t)},groupedCmsElements:function(){var e=this,n=[],t=Object.values(this.cmsElements).sort((function(e,n){return e.name.localeCompare(n.name)})),l=t.filter((function(n){return e.cmsElementFavorites.isFavorite(n.name)})),o=t.filter((function(n){return!e.cmsElementFavorites.isFavorite(n.name)}));return l.length&&n.push({title:"sw-cms.elements.general.switch.groups.favorites",items:l}),n.push({title:"sw-cms.elements.general.switch.groups.all",items:o}),n},componentClasses:function(){var e="sw-cms-slot-".concat(this.element.slot);return o()({"is--disabled":this.disabled},e,!!this.element.slot)},cmsSlotSettingsClasses:function(){var e,n;return null===(e=this.elementConfig)||void 0===e||!e.defaultConfig||null!==(n=this.element)&&void 0!==n&&n.locked?"is--disabled":null},tooltipDisabled:function(){var e;return null!==(e=this.elementConfig)&&void 0!==e&&e.disabledConfigInfoTextKey?{message:this.$tc(this.elementConfig.disabledConfigInfoTextKey),disabled:!!this.elementConfig.defaultConfig&&!this.element.locked}:{message:this.$tc("sw-cms.elements.general.config.tab.settings"),disabled:!0}}},mounted:function(){this.mountedComponent()},methods:{mountedComponent:function(){var e=this;setTimeout((function(){e.elementConfig||(e.elementNotFound=!0)}),1e4)},onSettingsButtonClick:function(){var e,n;null===(e=this.elementConfig)||void 0===e||!e.defaultConfig||null!==(n=this.element)&&void 0!==n&&n.locked||(this.showElementSettings=!0)},onCloseSettingsModal:function(){var e=this.$refs.elementComponentRef;e&&e.handleUpdateContent&&e.handleUpdateContent(),this.showElementSettings=!1},onElementButtonClick:function(){this.showElementSelection=!0},onCloseElementModal:function(){this.showElementSelection=!1},onSelectElement:function(e){this.element.data=c((null==e?void 0:e.defaultData)||{}),this.element.config=c((null==e?void 0:e.defaultConfig)||{}),this.element.type=e.name,this.element.locked=!1,this.showElementSelection=!1},onToggleElementFavorite:function(e){this.cmsElementFavorites.update(!this.cmsElementFavorites.isFavorite(e),e)},elementInElementGroup:function(e,n){return"favorite"!==n||this.cmsElementFavorites.isFavorite(e.name)}}}}}]);
//# sourceMappingURL=8a31946b92803c215460.js.map