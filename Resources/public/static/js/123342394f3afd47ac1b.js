(this.webpackJsonpAdministration=this.webpackJsonpAdministration||[]).push([[133],{"1k5X":function(e,n,t){var s=t("xzpa");s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,t("ydqr").default)("5bdf2fe0",s,!0,{})},gcsV:function(e,n,t){"use strict";t.r(n);t("1k5X");var s=Shopware.Filter;n.default={template:'\n{% block sw_cms_create_wizard %}\n<div class="sw-cms-create-wizard">\n    <div class="sw-cms-create-wizard__inner">\n\n        \n        {% block sw_cms_create_wizard_first_step %}\n        <div\n            v-if="step === 1"\n            class="sw-cms-create-wizard__step-1"\n        >\n            <h2 class="sw-cms-create-wizard__title">\n                {{ $tc(\'sw-cms.createWizard.choosePageTypeTitle\') }}\n            </h2>\n\n            \n            {% block sw_cms_create_wizard_page_type %}\n            <div class="sw-cms-create-wizard__page-type-selection">\n                \n                {% block sw_cms_create_wizard_page_type_options %}\n                <div\n                    v-for="pageType in visiblePageTypes"\n                    :key="pageType.name"\n                    class="sw-cms-create-wizard__page-type"\n                    :class="pageType.class"\n                    @click="onPageTypeSelect(pageType.name)"\n                    @keyup.enter="onPageTypeSelect(pageType.name)"\n                >\n                    <sw-icon\n                        :name="pageType.icon"\n                        size="24"\n                    />\n                    <p>{{ $tc(pageType.title) }}</p>\n                </div>\n\n                {# @deprecated tag:v6.6.0 - Remove block #}\n                \n                {% block sw_cms_create_wizard_page_type_options_page %}{% endblock %}\n\n                {# @deprecated tag:v6.6.0 - Remove block #}\n                \n                {% block sw_cms_create_wizard_page_type_options_landing_page %}{% endblock %}\n\n                {# @deprecated tag:v6.6.0 - Remove block #}\n                \n                {% block sw_cms_create_wizard_page_type_options_product_list %}{% endblock %}\n\n                {# @deprecated tag:v6.6.0 - Remove block #}\n                \n                {% block sw_cms_create_wizard_page_type_options_product_detail %}{% endblock %}\n                {% endblock %}\n            </div>\n            {% endblock %}\n\n            \n            {% block sw_cms_create_wizard_first_step_abort %}\n            <router-link\n                class="sw-cms-create-wizard__back"\n                :to="{ name: \'sw.cms.index\' }"\n            >\n                <sw-icon\n                    name="regular-times-s"\n                    small\n                /> {{ $tc(\'sw-cms.createWizard.abortCreation\') }}\n            </router-link>\n            {% endblock %}\n\n            \n            {% block sw_cms_create_wizard_first_step_helptext %}\n            <p class="sw-cms-create-wizard__step1-helptext">\n                {{ $tc(\'sw-cms.createWizard.choosePageTypeHelpText\') }}\n            </p>\n            {% endblock %}\n\n        </div>\n        {% endblock %}\n\n        \n        {% block sw_cms_create_wizard_second_step %}\n        <div\n            v-if="step === 2"\n            class="sw-cms-create-wizard__step-2"\n        >\n            <h2 class="sw-cms-create-wizard__title">\n                {{ $tc(\'sw-cms.createWizard.chooseSectionTitle\') }}\n            </h2>\n\n            \n            {% block sw_cms_create_wizard_section %}\n            <div class="sw-cms-create-wizard__section-selection">\n                <sw-cms-stage-section-selection @section-select="onSectionSelect" />\n            </div>\n            {% endblock %}\n\n            \n            {% block sw_cms_create_wizard_second_step_back %}\n            \n            <div\n                class="sw-cms-create-wizard__back"\n                @click="goToStep(\'pageType\')"\n            >\n                <sw-icon\n                    name="regular-long-arrow-left"\n                    small\n                /> {{ $tc(\'sw-cms.createWizard.stepBack\') }}\n            </div>\n            {% endblock %}\n\n            \n            {% block sw_cms_create_wizard_second_step_helptext %}\n            <p class="sw-cms-create-wizard__step2-helptext">\n                {{ $tc(\'sw-cms.createWizard.chooseSectionHelpText\') }}\n            </p>\n            {% endblock %}\n        </div>\n        {% endblock %}\n\n        \n        {% block sw_cms_create_wizard_third_step %}\n        <div\n            v-if="step === 3"\n            class="sw-cms-create-wizard__step-3"\n        >\n            <h2 class="sw-cms-create-wizard__title">\n                {{ $tc(\'sw-cms.createWizard.chooseNameTitle\') }}\n            </h2>\n\n            <div class="sw-cms-create-wizard__name-select">\n                \n                {% block sw_cms_create_wizard_page_preview %}\n                <div class="sw-cms-create-wizard__page-preview">\n                    <div\n                        class="sw-cms-create-wizard__preview_image"\n                        :style="pagePreviewStyle"\n                    ></div>\n                    <div class="sw-cms-create-wizard__preview_info">\n                        <sw-icon\n                            :name="currentPageType?.icon"\n                            size="16"\n                        />\n                        <p>{{ $tc(currentPageType?.title) }}</p>\n                    </div>\n                </div>\n                {% endblock %}\n\n                \n                {% block sw_cms_create_wizard_page_completion %}\n                <div class="sw-cms-create-wizard__page-completion">\n\n                    \n                    {% block sw_cms_create_wizard_page_name %}\n                    <sw-text-field\n                        v-model="page.name"\n                        class="sw-cms-create-wizard__page-completion-name"\n                        :label="$tc(\'sw-cms.detail.label.pageName\')"\n                        :placeholder="$tc(\'sw-cms.detail.label.pageNamePlaceholder\')"\n                        @keypress.enter="onCompletePageCreation"\n                    />\n                    {% endblock %}\n\n                    <sw-single-select\n                        v-if="isCustomEntityType"\n                        v-model="page.entity"\n                        class="sw-cms-create-wizard__page-completion-custom-entity"\n                        :label="$tc(\'sw-cms.detail.label.pageEntity\')"\n                        :placeholder="$tc(\'sw-cms.detail.label.pageEntityPlaceholder\')"\n                        :options="customEntities"\n                        require\n                    />\n\n                    \n                    {% block sw_cms_create_wizard_page_completion_buttons %}\n                    <div class="sw-cms-create-wizard__page-completion-buttons">\n                        \n                        {% block sw_cms_create_wizard_page_completion_save_button %}\n                        <sw-button\n                            variant="primary"\n                            :disabled="!isCompletable"\n                            @click="onCompletePageCreation"\n                        >\n                            {{ $tc(\'sw-cms.createWizard.createLayout\') }}\n                        </sw-button>\n                        {% endblock %}\n                    </div>\n                    {% endblock %}\n                </div>\n                {% endblock %}\n            </div>\n\n            \n            {% block sw_cms_create_wizard_third_step_back %}\n            \n            <div\n                class="sw-cms-create-wizard__back"\n                @click="goToStep(\'sectionType\')"\n            >\n                <sw-icon\n                    name="regular-long-arrow-left"\n                    small\n                /> {{ $tc(\'sw-cms.createWizard.stepBack\') }}\n            </div>\n            {% endblock %}\n        </div>\n        {% endblock %}\n    </div>\n</div>\n{% endblock %}\n',inject:["feature","cmsPageTypeService","customEntityDefinitionService"],props:{page:{type:Object,required:!0}},data:function(){return{step:1,steps:{pageType:1,sectionType:2,pageName:3}}},computed:{visiblePageTypes:function(){return this.cmsPageTypeService.getVisibleTypes()},currentPageType:function(){return this.cmsPageTypeService.getType(this.page.type)},isCustomEntityType:function(){return this.page.type.startsWith("custom_entity_")},isCompletable:function(){return[this.page.name,!this.isCustomEntityType||this.page.entity].every((function(e){return e}))},customEntities:function(){var e=this;return this.customEntityDefinitionService.getCmsAwareDefinitions().map((function(n){var t="".concat(n.entity,".moduleTitle"),s=n.entity;return{value:s,label:e.$te(t)?e.$tc(t):s}}))},pagePreviewMedia:function(){if(this.page.sections.length<1)return"";return"url(".concat(this.assetFilter("".concat("administration/static/img/cms","/preview_").concat(this.page.type,"_").concat(this.page.sections[0].type,".png")),")")},pagePreviewStyle:function(){return{"background-image":this.pagePreviewMedia,"background-size":"cover"}},assetFilter:function(){return s.getByName("asset")}},watch:{step:function(e){"sectionType"===this.getStepName(e)&&(this.page.sections=[])}},methods:{goToStep:function(e){this.step=this.steps[e]},getStepName:function(e){var n=Object.entries(this.steps).find((function(n){return e===n[1]}));return n?n[0]:""},onPageTypeSelect:function(e){Shopware.State.commit("cmsPageState/setCurrentPageType",e),this.page.type=e,this.goToStep("sectionType")},onSectionSelect:function(e){this.goToStep("pageName"),this.$emit("on-section-select",e)},onCompletePageCreation:function(){this.page.name&&this.$emit("wizard-complete")}}}},xzpa:function(e,n,t){}}]);