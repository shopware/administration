{"version":3,"sources":["webpack:///./src/module/sw-cms/component/sw-cms-create-wizard/sw-cms-create-wizard.scss","webpack:///./src/module/sw-cms/component/sw-cms-create-wizard/sw-cms-create-wizard.html.twig","webpack:///./src/module/sw-cms/component/sw-cms-create-wizard/index.js"],"names":["content","__esModule","default","module","i","locals","exports","add","Filter","Shopware","template","inject","props","page","type","Object","required","data","step","steps","pageType","sectionType","pageName","computed","visiblePageTypes","this","cmsPageTypeService","getVisibleTypes","currentPageType","getType","isCustomEntityType","startsWith","isCompletable","name","entity","every","condition","customEntities","_this","customEntityDefinitionService","getCmsAwareDefinitions","map","snippetKey","concat","value","label","$te","$tc","pagePreviewMedia","sections","length","assetFilter","pagePreviewStyle","getByName","watch","newStep","getStepName","methods","goToStep","stepName","stepValue","find","entries","onPageTypeSelect","State","commit","onSectionSelect","section","$emit","onCompletePageCreation"],"mappings":"0GAGA,IAAIA,EAAU,EAAQ,QACnBA,EAAQC,aAAYD,EAAUA,EAAQE,SACnB,iBAAZF,IAAsBA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAC7DA,EAAQK,SAAQF,EAAOG,QAAUN,EAAQK,SAG/BE,EADH,EAAQ,QAAwEL,SACzE,WAAYF,GAAS,EAAM,K,mDCT7B,ICGPQ,EAAWC,SAAXD,OAMO,WACXE,SDVW,yoQCYXC,OAAQ,CACJ,UACA,qBACA,iCAGJC,MAAO,CACHC,KAAM,CACFC,KAAMC,OACNC,UAAU,IAIlBC,KAAI,WACA,MAAO,CACHC,KAAM,EACNC,MAAO,CACHC,SAAU,EACVC,YAAa,EACbC,SAAU,KAKtBC,SAAU,CACNC,iBAAgB,WACZ,OAAOC,KAAKC,mBAAmBC,mBAGnCC,gBAAe,WACX,OAAOH,KAAKC,mBAAmBG,QAAQJ,KAAKZ,KAAKC,OAGrDgB,mBAAkB,WACd,OAAOL,KAAKZ,KAAKC,KAAKiB,WAAW,mBAGrCC,cAAa,WACT,MAAO,CACHP,KAAKZ,KAAKoB,MACTR,KAAKK,oBAAsBL,KAAKZ,KAAKqB,QACxCC,OAAM,SAAAC,GAAS,OAAIA,MAGzBC,eAAc,WAAI,IAADC,EAAA,KACb,OAAOb,KAAKc,8BAA8BC,yBAAyBC,KAAI,SAACP,GACpE,IAAMQ,EAAU,GAAAC,OAAMT,EAAOA,OAAM,gBAC7BU,EAAQV,EAAOA,OAErB,MAAO,CACHU,QACAC,MAAOP,EAAKQ,IAAIJ,GAAcJ,EAAKS,IAAIL,GAAcE,OAKjEI,iBAAgB,WACZ,GAAIvB,KAAKZ,KAAKoC,SAASC,OAAS,EAC5B,MAAO,GAKX,MAAM,OAANP,OAAclB,KAAK0B,YAAY,GAADR,OAFd,gCAEyB,aAAAA,OAAYlB,KAAKZ,KAAKC,KAAI,KAAA6B,OAAIlB,KAAKZ,KAAKoC,SAAS,GAAGnC,KAAI,SAAO,MAG5GsC,iBAAgB,WACZ,MAAO,CACH,mBAAoB3B,KAAKuB,iBACzB,kBAAmB,UAI3BG,YAAW,WACP,OAAO3C,EAAO6C,UAAU,WAIhCC,MAAO,CACHpC,KAAI,SAACqC,GACiC,gBAA9B9B,KAAK+B,YAAYD,KACjB9B,KAAKZ,KAAKoC,SAAW,MAKjCQ,QAAS,CACLC,SAAQ,SAACC,GACLlC,KAAKP,KAAOO,KAAKN,MAAMwC,IAG3BH,YAAW,SAACI,GACR,IAAMC,EAAO9C,OAAO+C,QAAQrC,KAAKN,OAAO0C,MAAK,SAAC3C,GAC1C,OAAO0C,IAAc1C,EAAK,MAG9B,OAAK2C,EAIEA,EAAK,GAHD,IAMfE,iBAAgB,SAACjD,GACbL,SAASuD,MAAMC,OAAO,kCAAmCnD,GACzDW,KAAKZ,KAAKC,KAAOA,EAEjBW,KAAKiC,SAAS,gBAGlBQ,gBAAe,SAACC,GACZ1C,KAAKiC,SAAS,YAEdjC,KAAK2C,MAAM,oBAAqBD,IAGpCE,uBAAsB,WACb5C,KAAKZ,KAAKoB,MAIfR,KAAK2C,MAAM,uB","file":"static/js/7405f5e42b29dd77fa6b.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--15-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--15-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--15-3!./sw-cms-create-wizard.scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"ddb8cafe\", content, true, {});","export default \"\\n{% block sw_cms_create_wizard %}\\n<div class=\\\"sw-cms-create-wizard\\\">\\n    <div class=\\\"sw-cms-create-wizard__inner\\\">\\n\\n        \\n        {% block sw_cms_create_wizard_first_step %}\\n        <div\\n            v-if=\\\"step === 1\\\"\\n            class=\\\"sw-cms-create-wizard__step-1\\\"\\n        >\\n            <h2 class=\\\"sw-cms-create-wizard__title\\\">\\n                {{ $tc('sw-cms.createWizard.choosePageTypeTitle') }}\\n            </h2>\\n\\n            \\n            {% block sw_cms_create_wizard_page_type %}\\n            <div class=\\\"sw-cms-create-wizard__page-type-selection\\\">\\n                \\n                {% block sw_cms_create_wizard_page_type_options %}\\n                <div\\n                    v-for=\\\"pageType in visiblePageTypes\\\"\\n                    :key=\\\"pageType.name\\\"\\n                    class=\\\"sw-cms-create-wizard__page-type\\\"\\n                    :class=\\\"pageType.class\\\"\\n                    role=\\\"button\\\"\\n                    tabindex=\\\"0\\\"\\n                    @click=\\\"onPageTypeSelect(pageType.name)\\\"\\n                    @keyup.enter=\\\"onPageTypeSelect(pageType.name)\\\"\\n                >\\n                    <sw-icon\\n                        :name=\\\"pageType.icon\\\"\\n                        size=\\\"24\\\"\\n                    />\\n                    <p>{{ $tc(pageType.title) }}</p>\\n                </div>\\n\\n                {# @deprecated tag:v6.6.0 - Remove block #}\\n                \\n                {% block sw_cms_create_wizard_page_type_options_page %}{% endblock %}\\n\\n                {# @deprecated tag:v6.6.0 - Remove block #}\\n                \\n                {% block sw_cms_create_wizard_page_type_options_landing_page %}{% endblock %}\\n\\n                {# @deprecated tag:v6.6.0 - Remove block #}\\n                \\n                {% block sw_cms_create_wizard_page_type_options_product_list %}{% endblock %}\\n\\n                {# @deprecated tag:v6.6.0 - Remove block #}\\n                \\n                {% block sw_cms_create_wizard_page_type_options_product_detail %}{% endblock %}\\n                {% endblock %}\\n            </div>\\n            {% endblock %}\\n\\n            \\n            {% block sw_cms_create_wizard_first_step_abort %}\\n            <router-link\\n                class=\\\"sw-cms-create-wizard__back\\\"\\n                :to=\\\"{ name: 'sw.cms.index' }\\\"\\n            >\\n                <sw-icon\\n                    name=\\\"regular-times-s\\\"\\n                    small\\n                /> {{ $tc('sw-cms.createWizard.abortCreation') }}\\n            </router-link>\\n            {% endblock %}\\n\\n            \\n            {% block sw_cms_create_wizard_first_step_helptext %}\\n            <p class=\\\"sw-cms-create-wizard__step1-helptext\\\">\\n                {{ $tc('sw-cms.createWizard.choosePageTypeHelpText') }}\\n            </p>\\n            {% endblock %}\\n\\n        </div>\\n        {% endblock %}\\n\\n        \\n        {% block sw_cms_create_wizard_second_step %}\\n        <div\\n            v-if=\\\"step === 2\\\"\\n            class=\\\"sw-cms-create-wizard__step-2\\\"\\n        >\\n            <h2 class=\\\"sw-cms-create-wizard__title\\\">\\n                {{ $tc('sw-cms.createWizard.chooseSectionTitle') }}\\n            </h2>\\n\\n            \\n            {% block sw_cms_create_wizard_section %}\\n            <div class=\\\"sw-cms-create-wizard__section-selection\\\">\\n                <sw-cms-stage-section-selection @section-select=\\\"onSectionSelect\\\" />\\n            </div>\\n            {% endblock %}\\n\\n            \\n            {% block sw_cms_create_wizard_second_step_back %}\\n            <div\\n                class=\\\"sw-cms-create-wizard__back\\\"\\n                role=\\\"button\\\"\\n                tabindex=\\\"0\\\"\\n                @click=\\\"goToStep('pageType')\\\"\\n                @keydown.enter=\\\"goToStep('pageType')\\\"\\n            >\\n                <sw-icon\\n                    name=\\\"regular-long-arrow-left\\\"\\n                    small\\n                /> {{ $tc('sw-cms.createWizard.stepBack') }}\\n            </div>\\n            {% endblock %}\\n\\n            \\n            {% block sw_cms_create_wizard_second_step_helptext %}\\n            <p class=\\\"sw-cms-create-wizard__step2-helptext\\\">\\n                {{ $tc('sw-cms.createWizard.chooseSectionHelpText') }}\\n            </p>\\n            {% endblock %}\\n        </div>\\n        {% endblock %}\\n\\n        \\n        {% block sw_cms_create_wizard_third_step %}\\n        <div\\n            v-if=\\\"step === 3\\\"\\n            class=\\\"sw-cms-create-wizard__step-3\\\"\\n        >\\n            <h2 class=\\\"sw-cms-create-wizard__title\\\">\\n                {{ $tc('sw-cms.createWizard.chooseNameTitle') }}\\n            </h2>\\n\\n            <div class=\\\"sw-cms-create-wizard__name-select\\\">\\n                \\n                {% block sw_cms_create_wizard_page_preview %}\\n                <div class=\\\"sw-cms-create-wizard__page-preview\\\">\\n                    <div\\n                        class=\\\"sw-cms-create-wizard__preview_image\\\"\\n                        :style=\\\"pagePreviewStyle\\\"\\n                    ></div>\\n                    <div class=\\\"sw-cms-create-wizard__preview_info\\\">\\n                        <sw-icon\\n                            :name=\\\"currentPageType?.icon\\\"\\n                            size=\\\"16\\\"\\n                        />\\n                        <p>{{ $tc(currentPageType?.title) }}</p>\\n                    </div>\\n                </div>\\n                {% endblock %}\\n\\n                \\n                {% block sw_cms_create_wizard_page_completion %}\\n                <div class=\\\"sw-cms-create-wizard__page-completion\\\">\\n\\n                    \\n                    {% block sw_cms_create_wizard_page_name %}\\n                    <sw-text-field\\n                        {% if VUE3 %}\\n                        v-model:value=\\\"page.name\\\"\\n                        {% else %}\\n                        v-model=\\\"page.name\\\"\\n                        {% endif %}\\n                        class=\\\"sw-cms-create-wizard__page-completion-name\\\"\\n                        :label=\\\"$tc('sw-cms.detail.label.pageName')\\\"\\n                        :placeholder=\\\"$tc('sw-cms.detail.label.pageNamePlaceholder')\\\"\\n                        @keypress.enter=\\\"onCompletePageCreation\\\"\\n                    />\\n                    {% endblock %}\\n\\n                    <sw-single-select\\n                        v-if=\\\"isCustomEntityType\\\"\\n                        {% if VUE3 %}\\n                        v-model:value=\\\"page.entity\\\"\\n                        {% else %}\\n                        v-model=\\\"page.entity\\\"\\n                        {% endif %}\\n                        class=\\\"sw-cms-create-wizard__page-completion-custom-entity\\\"\\n                        :label=\\\"$tc('sw-cms.detail.label.pageEntity')\\\"\\n                        :placeholder=\\\"$tc('sw-cms.detail.label.pageEntityPlaceholder')\\\"\\n                        :options=\\\"customEntities\\\"\\n                        require\\n                    />\\n\\n                    \\n                    {% block sw_cms_create_wizard_page_completion_buttons %}\\n                    <div class=\\\"sw-cms-create-wizard__page-completion-buttons\\\">\\n                        \\n                        {% block sw_cms_create_wizard_page_completion_save_button %}\\n                        <sw-button\\n                            variant=\\\"primary\\\"\\n                            :disabled=\\\"!isCompletable\\\"\\n                            @click=\\\"onCompletePageCreation\\\"\\n                        >\\n                            {{ $tc('sw-cms.createWizard.createLayout') }}\\n                        </sw-button>\\n                        {% endblock %}\\n                    </div>\\n                    {% endblock %}\\n                </div>\\n                {% endblock %}\\n            </div>\\n\\n            \\n            {% block sw_cms_create_wizard_third_step_back %}\\n            <div\\n                class=\\\"sw-cms-create-wizard__back\\\"\\n                role=\\\"button\\\"\\n                tabindex=\\\"0\\\"\\n                @click=\\\"goToStep('sectionType')\\\"\\n                @keydown.enter=\\\"goToStep('sectionType')\\\"\\n            >\\n                <sw-icon\\n                    name=\\\"regular-long-arrow-left\\\"\\n                    small\\n                /> {{ $tc('sw-cms.createWizard.stepBack') }}\\n            </div>\\n            {% endblock %}\\n        </div>\\n        {% endblock %}\\n    </div>\\n</div>\\n{% endblock %}\\n\";","import template from './sw-cms-create-wizard.html.twig';\nimport './sw-cms-create-wizard.scss';\n\nconst { Filter } = Shopware;\n\n/**\n * @package buyers-experience\n */\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    inject: [\n        'feature',\n        'cmsPageTypeService',\n        'customEntityDefinitionService',\n    ],\n\n    props: {\n        page: {\n            type: Object,\n            required: true,\n        },\n    },\n\n    data() {\n        return {\n            step: 1,\n            steps: {\n                pageType: 1,\n                sectionType: 2,\n                pageName: 3,\n            },\n        };\n    },\n\n    computed: {\n        visiblePageTypes() {\n            return this.cmsPageTypeService.getVisibleTypes();\n        },\n\n        currentPageType() {\n            return this.cmsPageTypeService.getType(this.page.type);\n        },\n\n        isCustomEntityType() {\n            return this.page.type.startsWith('custom_entity_');\n        },\n\n        isCompletable() {\n            return [\n                this.page.name,\n                !this.isCustomEntityType || this.page.entity,\n            ].every(condition => condition);\n        },\n\n        customEntities() {\n            return this.customEntityDefinitionService.getCmsAwareDefinitions().map((entity) => {\n                const snippetKey = `${entity.entity}.moduleTitle`;\n                const value = entity.entity;\n\n                return {\n                    value,\n                    label: this.$te(snippetKey) ? this.$tc(snippetKey) : value,\n                };\n            });\n        },\n\n        pagePreviewMedia() {\n            if (this.page.sections.length < 1) {\n                return '';\n            }\n\n            const imgPath = 'administration/static/img/cms';\n\n            return `url(${this.assetFilter(`${imgPath}/preview_${this.page.type}_${this.page.sections[0].type}.png`)})`;\n        },\n\n        pagePreviewStyle() {\n            return {\n                'background-image': this.pagePreviewMedia,\n                'background-size': 'cover',\n            };\n        },\n\n        assetFilter() {\n            return Filter.getByName('asset');\n        },\n    },\n\n    watch: {\n        step(newStep) {\n            if (this.getStepName(newStep) === 'sectionType') {\n                this.page.sections = [];\n            }\n        },\n    },\n\n    methods: {\n        goToStep(stepName) {\n            this.step = this.steps[stepName];\n        },\n\n        getStepName(stepValue) {\n            const find = Object.entries(this.steps).find((step) => {\n                return stepValue === step[1];\n            });\n\n            if (!find) {\n                return '';\n            }\n\n            return find[0];\n        },\n\n        onPageTypeSelect(type) {\n            Shopware.State.commit('cmsPageState/setCurrentPageType', type);\n            this.page.type = type;\n\n            this.goToStep('sectionType');\n        },\n\n        onSectionSelect(section) {\n            this.goToStep('pageName');\n\n            this.$emit('on-section-select', section);\n        },\n\n        onCompletePageCreation() {\n            if (!this.page.name) {\n                return;\n            }\n\n            this.$emit('wizard-complete');\n        },\n    },\n};\n"],"sourceRoot":""}