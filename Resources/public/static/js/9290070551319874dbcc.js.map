{"version":3,"sources":["webpack:///./src/module/sw-review/page/sw-review-list/sw-review-list.scss","webpack:///./src/module/sw-review/page/sw-review-list/index.js","webpack:///./src/module/sw-review/page/sw-review-list/sw-review-list.html.twig"],"names":["content","__esModule","default","module","i","locals","exports","add","Mixin","Shopware","Criteria","Data","template","inject","mixins","getByName","data","isLoading","items","sortBy","metaInfo","title","this","$createTitle","computed","columns","property","dataIndex","label","routerLink","primary","align","repository","repositoryFactory","create","criteria","_this","page","limit","setTerm","term","split","forEach","sorting","addSorting","sort","sortDirection","naturalSorting","addAssociation","dateFilter","Filter","created","createdComponent","methods","getList","_this2","context","_objectSpread","Context","api","inheritance","search","then","result","total","onDelete","option","_this3","$refs","listing","deleteItem"],"mappings":"mIAGA,IAAIA,EAAU,EAAQ,QACnBA,EAAQC,aAAYD,EAAUA,EAAQE,SACnB,iBAAZF,IAAsBA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAC7DA,EAAQK,SAAQF,EAAOG,QAAUN,EAAQK,SAG/BE,EADH,EAAQ,QAAwEL,SACzE,WAAYF,GAAS,EAAM,K,6oBCN5C,IAAQQ,EAAUC,SAAVD,MACAE,EAAaD,SAASE,KAAtBD,SAMO,WACXE,SCXW,u1KDaXC,OAAQ,CAAC,oBAAqB,OAE9BC,OAAQ,CACJN,EAAMO,UAAU,YAGpBC,KAAI,WACA,MAAO,CACHC,WAAW,EACXC,MAAO,KACPC,OAAQ,qBAIhBC,SAAQ,WACJ,MAAO,CACHC,MAAOC,KAAKC,iBAIpBC,SAAU,CACNC,QAAO,WACH,MAAO,CACH,CACIC,SAAU,QACVC,UAAW,QACXC,MAAO,8BAEX,CACIF,SAAU,SACVC,UAAW,SACXC,MAAO,+BAEX,CACIF,SAAU,UACVC,UAAW,eACXC,MAAO,+BACPC,WAAY,mBACZC,SAAS,GAEb,CACIJ,SAAU,OACVC,UAAW,uCACXC,MAAO,6BAEX,CACIF,SAAU,YACVC,UAAW,YACXC,MAAO,kCAEX,CACIF,SAAU,SACVC,UAAW,SACXC,MAAO,8BACPG,MAAO,UAEX,CACIL,SAAU,UACVC,UAAW,UACXC,MAAO,+BACPG,MAAO,YAKnBC,WAAU,WACN,OAAOV,KAAKW,kBAAkBC,OAAO,mBAGzCC,SAAQ,WAAI,IAADC,EAAA,KACDD,EAAW,IAAIzB,EAASY,KAAKe,KAAMf,KAAKgB,OAU9C,OARAH,EAASI,QAAQjB,KAAKkB,MAEtBlB,KAAKH,OAAOsB,MAAM,KAAKC,SAAQ,SAAAC,GAC3BR,EAASS,WAAWlC,EAASmC,KAAKF,EAASP,EAAKU,cAAeV,EAAKW,oBAExEZ,EAASa,eAAe,YACxBb,EAASa,eAAe,WAEjBb,GAGXc,WAAU,WACN,OAAOxC,SAASyC,OAAOnC,UAAU,UAIzCoC,QAAO,WACH7B,KAAK8B,oBAGTC,QAAS,CACLD,iBAAgB,WACZ9B,KAAKgC,WAGTA,QAAO,WAAI,IAADC,EAAA,KACNjC,KAAKL,WAAY,EAEjB,IAAMuC,EAAOC,IAAA,GAAQhD,SAASiD,QAAQC,KAAG,IAAEC,aAAa,IACxD,OAAOtC,KAAKU,WAAW6B,OAAOvC,KAAKa,SAAUqB,GAASM,MAAK,SAACC,GACxDR,EAAKS,MAAQD,EAAOC,MACpBT,EAAKrC,MAAQ6C,EACbR,EAAKtC,WAAY,MAIzBgD,SAAQ,SAACC,GAAS,IAADC,EAAA,KACb7C,KAAK8C,MAAMC,QAAQC,WAAWJ,GAE9B5C,KAAKU,WAAW6B,OAAOvC,KAAKa,SAAQsB,IAAA,GAAOhD,SAASiD,QAAQC,KAAG,IAAEC,aAAa,KAAQE,MAAK,SAACC,GACxFI,EAAKH,MAAQD,EAAOC,MACpBG,EAAKjD,MAAQ6C","file":"static/js/9290070551319874dbcc.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--15-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--15-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--15-3!./sw-review-list.scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"1dd11ead\", content, true, {});","import template from './sw-review-list.html.twig';\nimport './sw-review-list.scss';\n\nconst { Mixin } = Shopware;\nconst { Criteria } = Shopware.Data;\n\n/**\n * @package inventory\n */\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    inject: ['repositoryFactory', 'acl'],\n\n    mixins: [\n        Mixin.getByName('listing'),\n    ],\n\n    data() {\n        return {\n            isLoading: false,\n            items: null,\n            sortBy: 'status,createdAt',\n        };\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(),\n        };\n    },\n\n    computed: {\n        columns() {\n            return [\n                {\n                    property: 'title',\n                    dataIndex: 'title',\n                    label: 'sw-review.list.columnTitle',\n                },\n                {\n                    property: 'points',\n                    dataIndex: 'points',\n                    label: 'sw-review.list.columnPoints',\n                },\n                {\n                    property: 'product',\n                    dataIndex: 'product.name',\n                    label: 'sw-review.list.columnProduct',\n                    routerLink: 'sw.review.detail',\n                    primary: true,\n                },\n                {\n                    property: 'user',\n                    dataIndex: 'customer.lastName,customer.firstName',\n                    label: 'sw-review.list.columnUser',\n                },\n                {\n                    property: 'createdAt',\n                    dataIndex: 'createdAt',\n                    label: 'sw-review.list.columnCreatedAt',\n                },\n                {\n                    property: 'status',\n                    dataIndex: 'status',\n                    label: 'sw-review.list.columnStatus',\n                    align: 'center',\n                },\n                {\n                    property: 'comment',\n                    dataIndex: 'comment',\n                    label: 'sw-review.list.columnComment',\n                    align: 'center',\n                },\n            ];\n        },\n\n        repository() {\n            return this.repositoryFactory.create('product_review');\n        },\n\n        criteria() {\n            const criteria = new Criteria(this.page, this.limit);\n\n            criteria.setTerm(this.term);\n\n            this.sortBy.split(',').forEach(sorting => {\n                criteria.addSorting(Criteria.sort(sorting, this.sortDirection, this.naturalSorting));\n            });\n            criteria.addAssociation('customer');\n            criteria.addAssociation('product');\n\n            return criteria;\n        },\n\n        dateFilter() {\n            return Shopware.Filter.getByName('date');\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.getList();\n        },\n\n        getList() {\n            this.isLoading = true;\n\n            const context = { ...Shopware.Context.api, inheritance: true };\n            return this.repository.search(this.criteria, context).then((result) => {\n                this.total = result.total;\n                this.items = result;\n                this.isLoading = false;\n            });\n        },\n\n        onDelete(option) {\n            this.$refs.listing.deleteItem(option);\n\n            this.repository.search(this.criteria, { ...Shopware.Context.api, inheritance: true }).then((result) => {\n                this.total = result.total;\n                this.items = result;\n            });\n        },\n    },\n};\n","export default \"\\n{% block sw_review_list %}\\n<sw-page class=\\\"sw-review-list\\\">\\n\\n    \\n    {% block sw_review_list_search_bar %}\\n    <template #search-bar>\\n        <sw-search-bar\\n            initial-search-type=\\\"product_review\\\"\\n            :initial-search=\\\"term\\\"\\n            :placeholder=\\\"$tc('sw-review.list.placeholderSearchBar')\\\"\\n            @search=\\\"onSearch\\\"\\n        />\\n    </template>\\n    {% endblock %}\\n\\n    \\n    {% block sw_review_list_smart_bar_header %}\\n    <template #smart-bar-header>\\n\\n        \\n        {% block sw_review_list_smart_bar_header_title %}\\n        <h2>\\n\\n            \\n            {% block sw_review_list_smart_bar_header_title_text %}\\n            {{ $tc('sw-review.list.textReviewOverview') }}\\n            {% endblock %}\\n\\n            \\n            {% block sw_review_list_smart_bar_header_amount %}\\n            <span\\n                v-if=\\\"!isLoading\\\"\\n                class=\\\"sw-page__smart-bar-amount\\\"\\n            >\\n                ({{ items.total }})\\n            </span>\\n            {% endblock %}\\n        </h2>\\n        {% endblock %}\\n    </template>\\n    {% endblock %}\\n\\n    \\n    {% block sw_review_list_content %}\\n    <template #content>\\n\\n        \\n        {% block sw_review_list_content_list %}\\n        <sw-entity-listing\\n            v-if=\\\"isLoading || items\\\"\\n            ref=\\\"listing\\\"\\n            detail-route=\\\"sw.review.detail\\\"\\n            :repository=\\\"repository\\\"\\n            :columns=\\\"columns\\\"\\n            :items=\\\"items\\\"\\n            :allow-edit=\\\"acl.can('review.editor')\\\"\\n            :allow-delete=\\\"acl.can('review.deleter')\\\"\\n            :show-selection=\\\"acl.can('review.deleter')\\\"\\n            :disable-data-fetching=\\\"true\\\"\\n            :sort-by=\\\"sortBy\\\"\\n            :sort-direction=\\\"sortDirection\\\"\\n            identifier=\\\"sw-review-list\\\"\\n            :is-loading=\\\"isLoading\\\"\\n            @page-change=\\\"onPageChange\\\"\\n            @column-sort=\\\"onSortColumn\\\"\\n        >\\n\\n            \\n            {% block sw_review_list_content_list_status %}\\n            <template #column-status=\\\"{ item }\\\">\\n                <sw-data-grid-column-boolean\\n                    v-model=\\\"item.status\\\"\\n                    :is-inline-edit=\\\"false\\\"\\n                />\\n            </template>\\n            {% endblock %}\\n\\n            \\n            {% block sw_review_list_content_list_title %}\\n            <template #column-title=\\\"{ item }\\\">\\n                <div class=\\\"sw-review-text_ellipsis\\\">\\n                    <router-link :to=\\\"{ name: 'sw.review.detail', params: { id: item.id } }\\\">\\n                        {{ item.title }}\\n                    </router-link>\\n                </div>\\n            </template>\\n            {% endblock %}\\n\\n            \\n            {% block sw_review_list_content_list_created_at %}\\n            <template #column-createdAt=\\\"{ item }\\\">\\n                {{ dateFilter(item.createdAt, { hour: '2-digit', minute: '2-digit', second: '2-digit' }) }}\\n            </template>\\n            {% endblock %}\\n\\n            \\n            {% block sw_review_list_content_list_user %}\\n            <template #column-user=\\\"{ item }\\\">\\n                <router-link\\n                    v-if=\\\"item.customer\\\"\\n                    :to=\\\"{ name: 'sw.customer.detail', params: { id: item.customerId } }\\\"\\n                >\\n                    {{ item.customer.lastName }}, {{ item.customer.firstName }}\\n                </router-link>\\n            </template>\\n            {% endblock %}\\n\\n            \\n            {% block sw_review_list_content_list_product %}\\n            <template #column-product=\\\"{ item }\\\">\\n                <template v-if=\\\"item.productId\\\">\\n                    <router-link :to=\\\"{ name: 'sw.product.detail', params: { id: item.productId } }\\\">\\n                        {{ item.product.translated.name }}\\n                    </router-link>\\n                </template>\\n            </template>\\n            {% endblock %}\\n\\n            \\n            {% block sw_review_list_content_list_points %}\\n            <template #column-points=\\\"{ item }\\\">\\n                <sw-rating-stars v-model=\\\"item.points\\\" />\\n            </template>\\n            {% endblock %}\\n\\n            \\n            {% block sw_review_list_content_list_comment %}\\n            <template #column-comment=\\\"{ item }\\\">\\n                \\n                <sw-data-grid-column-boolean\\n                    :value=\\\"item.comment && item.comment.length > 0\\\"\\n                    :is-inline-edit=\\\"false\\\"\\n                />\\n            </template>\\n            {% endblock %}\\n        </sw-entity-listing>\\n        {% endblock %}\\n\\n        \\n        {% block sw_review_list_empty_state %}\\n        <sw-empty-state\\n            v-if=\\\"!isLoading && !total\\\"\\n            icon=\\\"regular-file-text\\\"\\n            :title=\\\"$tc('sw-review.list.messageEmpty')\\\"\\n            :subline=\\\"$tc('sw-review.list.messageEmptySubline')\\\"\\n        />\\n        {% endblock %}\\n    </template>\\n    {% endblock %}\\n\\n    \\n    {% block sw_review_list_sidebar %}\\n    <template #sidebar>\\n        <sw-sidebar>\\n\\n            \\n            {% block sw_review_list_sidebar_refresh %}\\n            <sw-sidebar-item\\n                icon=\\\"regular-undo\\\"\\n                :title=\\\"$tc('sw-review.list.titleSidebarItemRefresh')\\\"\\n                @click=\\\"onRefresh\\\"\\n            />\\n            {% endblock %}\\n        </sw-sidebar>\\n    </template>\\n    {% endblock %}\\n</sw-page>\\n{% endblock %}\\n\";"],"sourceRoot":""}