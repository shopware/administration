(this.webpackJsonpAdministration=this.webpackJsonpAdministration||[]).push([[187],{NZqh:function(e,t,n){"use strict";n.r(t);var o=n("J58c"),c=n.n(o);n("ZHig");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var r=Shopware.Mixin,i=Shopware.Data,a=i.Criteria,d=i.EntityCollection;t.default={template:'\n{% block sw_cms_element_product_slider_config %}\n<div class="sw-cms-el-config-product-slider">\n    \n    {% block sw_cms_element_product_slider_config_tabs %}\n    <sw-tabs\n        position-identifier="sw-cms-element-config-product-slider"\n        class="sw-cms-el-config-product-slider__tabs"\n        default-item="content"\n    >\n        <template #default="{ active }">\n            \n            {% block sw_cms_element_product_slider_config_tab_content %}\n            <sw-tabs-item\n                :title="$tc(\'sw-cms.elements.general.config.tab.content\')"\n                name="content"\n                :active-tab="active"\n            >\n                {{ $tc(\'sw-cms.elements.general.config.tab.content\') }}\n            </sw-tabs-item>\n            {% endblock %}\n            \n            {% block sw_cms_element_product_slider_config_tab_options %}\n            <sw-tabs-item\n                :title="$tc(\'sw-cms.elements.general.config.tab.settings\')"\n                name="settings"\n                :active-tab="active"\n            >\n                {{ $tc(\'sw-cms.elements.general.config.tab.settings\') }}\n            </sw-tabs-item>\n            {% endblock %}\n        </template>\n\n        <template\n            #content="{ active }"\n        >\n            \n            {% block sw_cms_element_product_slider_config_content %}\n            <sw-container\n                v-if="active === \'content\'"\n                class="sw-cms-el-config-product-slider__tab-content"\n            >\n                \n                {% block sw_cms_element_product_slider_config_content_title %}\n                <sw-field\n                    v-model="element.config.title.value"\n                    type="text"\n                    :label="$tc(\'sw-cms.elements.productSlider.config.label.title\')"\n                    :placeholder="$tc(\'sw-cms.elements.productSlider.config.placeholder.title\')"\n                />\n                {% endblock %}\n\n                \n                {% block sw_cms_element_product_slider_config_content_product_assignment_type %}\n                <sw-single-select\n                    v-model="element.config.products.source"\n                    class="sw-cms-el-config-product-slider__product-assignment-type-select"\n                    :label="$tc(\'sw-cms.elements.productSlider.config.label.productAssignmentType\')"\n                    :options="productAssignmentTypes"\n                    show-clearable-button\n                    @change="onChangeAssignmentType"\n                />\n                {% endblock %}\n\n                <template v-if="element.config.products.source === \'product_stream\'">\n                    \n                    {% block sw_cms_element_product_slider_config_content_product_stream_select %}\n                    <sw-entity-single-select\n                        v-model="element.config.products.value"\n                        entity="product_stream"\n                        class="sw-cms-el-config-product-slider__product-stream-select"\n                        :label="$tc(\'sw-cms.elements.productSlider.config.label.productStreamChoice\')"\n                        :placeholder="$tc(\'sw-cms.elements.productSlider.config.placeholder.productStreamChoice\')"\n                        show-clearable-button\n                        @change="onChangeProductStream"\n                    />\n                    {% endblock %}\n\n                    \n                    {% block sw_cms_element_product_slider_config_content_product_stream_performance_hint %}\n                    <sw-alert\n                        class="sw-cms-el-config-product-slider__product-stream-performance-hint"\n                        variant="info"\n                    >\n                        {{ $tc(\'sw-cms.elements.productSlider.config.textProductStreamPerformanceHint\') }}\n                    </sw-alert>\n                    {% endblock %}\n\n                    \n                    {% block sw_cms_element_product_slider_config_content_product_stream_preview %}\n                    <sw-modal\n                        v-if="showProductStreamPreview"\n                        :title="productStream.name"\n                        class="sw-cms-el-config-product-slider__product-stream-preview-modal"\n                        @modal-close="onCloseProductStreamModal"\n                    >\n                        \n                        {% block sw_cms_element_product_slider_config_content_product_stream_preview_grid %}\n                        <sw-product-stream-grid-preview\n                            :filters="productStream.apiFilter"\n                            :columns="productStreamPreviewColumns"\n                            :criteria="productStreamCriteria"\n                        />\n                        {% endblock %}\n                        <template #modal-footer>\n                            \n                            {% block sw_cms_element_product_slider_config_content_product_stream_preview_action_close %}\n                            <sw-button\n                                size="small"\n                                @click="onCloseProductStreamModal"\n                            >\n                                {{ $tc(\'global.sw-modal.labelClose\') }}\n                            </sw-button>\n                            {% endblock %}\n                        </template>\n                    </sw-modal>\n                    {% endblock %}\n\n                    <sw-container\n                        columns="1fr 1fr"\n                        gap="30px"\n                    >\n                        \n                        {% block sw_cms_element_product_slider_config_content_product_stream_sorting %}\n                        <sw-single-select\n                            v-model="element.config.productStreamSorting.value"\n                            :label="$tc(\'sw-cms.elements.productSlider.config.label.productStreamSorting\')"\n                            class="sw-cms-el-config-product-slider__product-stream-sorting"\n                            :disabled="!productStream"\n                            :placeholder="$tc(\'sw-cms.elements.productSlider.config.placeholder.productStreamSorting\')"\n                            :options="productStreamSortingOptions"\n                            show-clearable-button\n                        />\n                        {% endblock %}\n\n                        \n                        {% block sw_cms_element_product_slider_config_content_product_stream_limit %}\n                        <sw-number-field\n                            v-model="element.config.productStreamLimit.value"\n                            :label="$tc(\'sw-cms.elements.productSlider.config.label.productStreamLimit\')"\n                            class="sw-cms-el-config-product-slider__product-stream-limit"\n                            :disabled="!productStream"\n                            :min="1"\n                        />\n                        {% endblock %}\n                    </sw-container>\n\n                    \n                    {% block sw_cms_element_product_slider_config_content_product_stream_preview_link %}\n                    <div class="sw-cms-el-config-product-slider__product-stream-preview-link-container">\n                        <a\n                            class="sw-cms-el-config-product-slider__product-stream-preview-link link"\n                            :class="{ \'is--disabled\': !productStream }"\n                            href="#"\n                            @click.prevent="onClickProductStreamPreview"\n                        >\n                            {{ $tc(\'sw-cms.elements.productSlider.config.textProductStreamPreviewLink\') }}\n                            <sw-icon\n                                name="regular-long-arrow-right"\n                                small\n                            />\n                        </a>\n                    </div>\n                    {% endblock %}\n                </template>\n\n                \n                {% block sw_cms_element_product_slider_config_content_products %}\n                <sw-entity-multi-select\n                    v-else\n                    v-model="productCollection"\n                    class="sw-cms-el-config-product-slider__products"\n                    :label="$tc(\'sw-cms.elements.productSlider.config.label.selection\')"\n                    :placeholder="$tc(\'sw-cms.elements.productSlider.config.placeholder.selection\')"\n                    :context="productMultiSelectContext"\n                    :criteria="productMediaFilter"\n                    @change="onProductsChange"\n                >\n                    <template #selection-label-property="{ item }">\n                        <sw-product-variant-info\n                            :variations="item.variation"\n                        >\n                            {{ item.translated.name || item.name }}\n                        </sw-product-variant-info>\n                    </template>\n                    <template #result-item="{ item, index }">\n                        <slot\n                            name="result-item"\n                            v-bind="{ item, index }"\n                        >\n                            <li\n                                is="sw-select-result"\n                                v-bind="{ item, index, selected: isSelected(item.id)}"\n                            >\n                                \n                                {% block sw_entity_single_select_base_results_list_result_label %}\n                                <span class="sw-select-result__result-item-text">\n                                    <sw-product-variant-info\n                                        :variations="item.variation"\n                                    >\n                                        {{ item.translated.name || item.name }}\n                                    </sw-product-variant-info>\n                                </span>\n                                {% endblock %}\n                            </li>\n                        </slot>\n                    </template>\n                </sw-entity-multi-select>\n                {% endblock %}\n            </sw-container>\n            {% endblock %}\n\n            \n            {% block sw_cms_element_product_slider_config_settings %}\n            <sw-container\n                v-if="active === \'settings\'"\n                class="sw-cms-el-config-product-slider__tab-settings"\n            >\n\n                \n                {% block sw_cms_element_product_slider_config_settings_display_mode %}\n                <sw-select-field\n                    v-model="element.config.displayMode.value"\n                    :label="$tc(\'sw-cms.elements.general.config.label.displayMode\')"\n                >\n                    <option value="standard">\n                        {{ $tc(\'sw-cms.elements.general.config.label.displayModeStandard\') }}\n                    </option>\n                    <option value="cover">\n                        {{ $tc(\'sw-cms.elements.general.config.label.displayModeCover\') }}\n                    </option>\n                    <option value="contain">\n                        {{ $tc(\'sw-cms.elements.general.config.label.displayModeContain\') }}\n                    </option>\n                </sw-select-field>\n                {% endblock %}\n\n                \n                {% block sw_cms_element_product_slider_config_settings_vertical_align %}\n                <sw-select-field\n                    v-model="element.config.verticalAlign.value"\n                    :label="$tc(\'sw-cms.elements.general.config.label.verticalAlign\')"\n                    :placeholder="$tc(\'sw-cms.elements.general.config.label.verticalAlign\')"\n                >\n                    <option value="flex-start">\n                        {{ $tc(\'sw-cms.elements.general.config.label.verticalAlignTop\') }}\n                    </option>\n                    <option value="center">\n                        {{ $tc(\'sw-cms.elements.general.config.label.verticalAlignCenter\') }}\n                    </option>\n                    <option value="flex-end">\n                        {{ $tc(\'sw-cms.elements.general.config.label.verticalAlignBottom\') }}\n                    </option>\n                </sw-select-field>\n                {% endblock %}\n\n                \n                {% block sw_cms_element_product_slider_config_settings_box_layout %}\n                <sw-select-field\n                    v-model="element.config.boxLayout.value"\n                    :label="$tc(\'sw-cms.elements.productBox.config.label.layoutType\')"\n                >\n                    <option value="standard">\n                        {{ $tc(\'sw-cms.elements.productBox.config.label.layoutTypeStandard\') }}\n                    </option>\n                    <option value="image">\n                        {{ $tc(\'sw-cms.elements.productBox.config.label.layoutTypeImage\') }}\n                    </option>\n                    <option value="minimal">\n                        {{ $tc(\'sw-cms.elements.productBox.config.label.layoutTypeMinimal\') }}\n                    </option>\n                </sw-select-field>\n                {% endblock %}\n\n                \n                {% block sw_cms_element_product_slider_config_settings_navigation %}\n                <sw-field\n                    v-model="element.config.navigation.value"\n                    type="switch"\n                    bordered\n                    :label="$tc(\'sw-cms.elements.productSlider.config.label.navigation\')"\n                />\n                {% endblock %}\n\n                \n                {% block sw_cms_element_product_slider_config_settings_rotate %}\n                <sw-field\n                    v-model="element.config.rotate.value"\n                    type="switch"\n                    bordered\n                    :label="$tc(\'sw-cms.elements.productSlider.config.label.rotate\')"\n                />\n                {% endblock %}\n\n                \n                {% block sw_cms_element_product_slider_config_settings_border %}\n                <sw-field\n                    v-model="element.config.border.value"\n                    type="switch"\n                    bordered\n                    :label="$tc(\'sw-cms.elements.productSlider.config.label.border\')"\n                />\n                {% endblock %}\n\n                \n                {% block sw_cms_element_product_slider_config_settings_min_width %}\n                <sw-field\n                    v-model="element.config.elMinWidth.value"\n                    type="text"\n                    :label="$tc(\'sw-cms.elements.productSlider.config.label.minWidth\')"\n                    :placeholder="$tc(\'sw-cms.elements.productSlider.config.placeholder.minWidth\')"\n                />\n                {% endblock %}\n            </sw-container>\n            {% endblock %}\n        </template>\n    </sw-tabs>\n    {% endblock %}\n</div>\n{% endblock %}\n',inject:["repositoryFactory","feature"],mixins:[r.getByName("cms-element")],data:function(){return{productCollection:null,productStream:null,showProductStreamPreview:!1,tempProductIds:[],tempStreamId:null}},computed:{productRepository:function(){return this.repositoryFactory.create("product")},productStreamRepository:function(){return this.repositoryFactory.create("product_stream")},products:function(){var e,t;return null!==(e=this.element)&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.products&&this.element.data.products.length>0?this.element.data.products:null},productMediaFilter:function(){var e=new a(1,25);return e.addAssociation("cover"),e.addAssociation("options.group"),e},productMultiSelectContext:function(){var e=s({},Shopware.Context.api);return e.inheritance=!0,e},productAssignmentTypes:function(){return[{label:this.$tc("sw-cms.elements.productSlider.config.productAssignmentTypeOptions.manual"),value:"static"},{label:this.$tc("sw-cms.elements.productSlider.config.productAssignmentTypeOptions.productStream"),value:"product_stream"}]},productStreamSortingOptions:function(){return[{label:this.$tc("sw-cms.elements.productSlider.config.productStreamSortingOptions.nameAsc"),value:"name:ASC"},{label:this.$tc("sw-cms.elements.productSlider.config.productStreamSortingOptions.nameDesc"),value:"name:DESC"},{label:this.$tc("sw-cms.elements.productSlider.config.productStreamSortingOptions.creationDateAsc"),value:"createdAt:ASC"},{label:this.$tc("sw-cms.elements.productSlider.config.productStreamSortingOptions.creationDateDesc"),value:"createdAt:DESC"},{label:this.$tc("sw-cms.elements.productSlider.config.productStreamSortingOptions.random"),value:"random"},{label:this.$tc("sw-cms.elements.productSlider.config.productStreamSortingOptions.priceAsc"),value:"cheapestPrice:ASC"},{label:this.$tc("sw-cms.elements.productSlider.config.productStreamSortingOptions.priceDesc"),value:"cheapestPrice:DESC"}]},productStreamCriteria:function(){var e=new a(1,10),t=this.element.config.productStreamSorting.value;if(!t||"random"===t)return e;var n=t.split(":")[0],o=t.split(":")[1];return e.addSorting(a.sort(n,o,!1)),e},productStreamPreviewColumns:function(){return[{property:"name",label:this.$tc("sw-category.base.products.columnNameLabel"),dataIndex:"name",sortable:!1},{property:"manufacturer.name",label:this.$tc("sw-category.base.products.columnManufacturerLabel"),sortable:!1}]}},created:function(){this.createdComponent()},methods:{createdComponent:function(){var e=this;if(this.initElementConfig("product-slider"),this.productCollection=new d("/product","product",Shopware.Context.api),!(this.element.config.products.value.length<=0))if("product_stream"===this.element.config.products.source)this.loadProductStream();else{var t=new a(1,100);t.addAssociation("cover"),t.addAssociation("options.group"),t.setIds(this.element.config.products.value),this.productRepository.search(t,s(s({},Shopware.Context.api),{},{inheritance:!0})).then((function(t){e.productCollection=t}))}},onChangeAssignmentType:function(e){"product_stream"===e?(this.tempProductIds=this.element.config.products.value,this.element.config.products.value=this.tempStreamId):(this.tempStreamId=this.element.config.products.value,this.element.config.products.value=this.tempProductIds)},loadProductStream:function(){var e=this;this.productStreamRepository.get(this.element.config.products.value,Shopware.Context.api,new a(1,25)).then((function(t){e.productStream=t}))},onChangeProductStream:function(e){null!==e?this.loadProductStream():this.productStream=null},onClickProductStreamPreview:function(){null!==this.productStream&&(this.showProductStreamPreview=!0)},onCloseProductStreamModal:function(){this.showProductStreamPreview=!1},onProductsChange:function(){var e;this.element.config.products.value=this.productCollection.getIds(),null!==(e=this.element)&&void 0!==e&&e.data&&this.$set(this.element.data,"products",this.productCollection)},isSelected:function(e){return this.productCollection.has(e)}}}},ZHig:function(e,t,n){var o=n("wrAL");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("ydqr").default)("c34fc5a0",o,!0,{})},wrAL:function(e,t,n){}}]);