(window.webpackJsonpAdministration=window.webpackJsonpAdministration||[]).push([[87900],{950261:function(){},187900:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}}),n(45146);let{Criteria:a}=Shopware.Data;var l={template:'{%  block sw_category_link_settings %}\n<sw-card\n    class="sw-category-link-settings"\n    position-identifier="sw-category-link-settings"\n    :title="$tc(\'sw-category.base.link.title\')"\n    :is-loading="isLoading"\n>\n    \n    {% block sw_category_detail_link_type_select_main %}\n    <sw-single-select\n        v-model:value="mainType"\n        class="sw-category-link-settings__type"\n        :disabled="!acl.can(\'category.editor\')"\n        :label="$tc(\'sw-category.base.link.mainTypeLabel\')"\n        :placeholder="$tc(\'sw-category.base.link.mainTypePlaceholder\')"\n        :options="linkTypeValues"\n        show-clearable-button\n    />\n    {% endblock %}\n\n    \n    {% block sw_category_detail_link_type_select_entity %}\n    <sw-single-select\n        v-if="isInternal"\n        v-model:value="category.linkType"\n        class="sw-category-link-settings__entity"\n        :disabled="!acl.can(\'category.editor\')"\n        :label="$tc(\'sw-category.base.link.internalTypeLabel\')"\n        :placeholder="$tc(\'sw-category.base.link.internalTypePlaceholder\')"\n        :options="entityValues"\n        show-clearable-button\n        @update:value="changeEntity"\n    />\n    {% endblock %}\n\n    \n    {% block sw_category_detail_link_type_select_entity_category %}\n    <template v-if="category.linkType === \'category\'">\n        <sw-category-tree-field\n            :categories-collection="categoriesCollection"\n            :placeholder="categoryLinkPlaceholder"\n            :category-criteria="categoryCriteria"\n            :single-select="true"\n            :label="$tc(\'global.entities.category\')"\n            class="sw-category-link-settings__selection-category"\n            @selection-add="onSelectionAdd"\n            @selection-remove="onSelectionRemove"\n        />\n    </template>\n    {% endblock %}\n\n    \n    {% block sw_category_detail_link_type_select_entity_product %}\n    <sw-entity-single-select\n        v-if="category.linkType === \'product\'"\n        v-model:value="category.internalLink"\n        class="sw-category-link-settings__selection-product"\n        :disabled="!acl.can(\'category.editor\')"\n        :label="$tc(\'global.entities.product\')"\n        :placeholder="$tc(\'sw-category.base.link.productPlaceholder\')"\n        :criteria="productCriteria"\n        :display-variants="true"\n        entity="product"\n        show-clearable-button\n    />\n    {% endblock %}\n\n    \n    {% block sw_category_detail_link_type_select_entity_landing_page %}\n    <sw-entity-single-select\n        v-if="category.linkType === \'landing_page\'"\n        v-model:value="category.internalLink"\n        class="sw-category-link-settings__selection-landing-page"\n        :disabled="!acl.can(\'category.editor\')"\n        :label="$tc(\'global.entities.landing_page\')"\n        :placeholder="$tc(\'sw-category.base.link.landingPagePlaceholder\')"\n        entity="landing_page"\n        show-clearable-button\n    />\n    {% endblock %}\n\n    \n    {% block sw_category_detail_link_field %}\n    <sw-text-field\n        v-if="isExternal"\n        v-model:value="category.externalLink"\n        class="sw-category-link-settings__external-link"\n        :disabled="!acl.can(\'category.editor\')"\n        :label="$tc(\'sw-category.base.link.linkLabel\')"\n        :placeholder="$tc(\'sw-category.base.link.linkLabel\')"\n    />\n    {% endblock %}\n\n    \n    {% block sw_category_detail_link_new_tab %}\n    <sw-switch-field\n        v-model:value="category.linkNewTab"\n        class="sw-category-link-settings__link-new-tab"\n        :disabled="!acl.can(\'category.editor\')"\n        :label="$tc(\'sw-category.base.link.linkNewTabLabel\')"\n    />\n    {% endblock %}\n</sw-card>\n{%  endblock %}\n',inject:["acl","repositoryFactory"],props:{category:{type:Object,required:!0},isLoading:{type:Boolean,required:!1,default:!1}},data(){return{categoriesCollection:[]}},computed:{linkTypeValues(){return[{value:"external",label:this.$tc("sw-category.base.link.type.external")},{value:"internal",label:this.$tc("sw-category.base.link.type.internal")}]},entityValues(){return[{value:"category",label:this.$tc("global.entities.category")},{value:"product",label:this.$tc("global.entities.product")},{value:"landing_page",label:this.$tc("global.entities.landing_page")}]},mainType:{get(){return this.isExternal||!this.category.linkType?this.category.linkType:"internal"},set(e){"external"===e?this.category.internalLink=null:this.category.externalLink=null,this.category.linkType=e}},isExternal(){return"external"===this.category.linkType},isInternal(){return!!this.category.linkType&&"external"!==this.category.linkType},productCriteria(){let e=new a(1,25);return e.addAssociation("options.group"),e},categoryCriteria(){let e=new a(1,null);return e.addFilter(a.equals("type","page")),e},internalLinkCriteria(){let e=new a(1,25);return e.addFilter(a.equals("id",this.category.internalLink)),e},categoryRepository(){return this.repositoryFactory.create("category")},categoryLinkPlaceholder(){return this.category.internalLink?"":this.$tc("sw-category.base.link.categoryPlaceholder")}},created(){this.createdComponent()},methods:{createdComponent(){!this.category.linkType&&this.category.externalLink&&(this.category.linkType="external"),this.createCategoryCollection()},changeEntity(){this.category.linkType||(this.category.linkType="internal"),this.category.internalLink=null},createCategoryCollection(){this.categoryRepository.search(this.internalLinkCriteria,Shopware.Context.api).then(e=>{this.categoriesCollection=e})},onSelectionAdd(e){this.category.internalLink=e.id},onSelectionRemove(){this.category.internalLink=null}}}},45146:function(e,t,n){var a=n(950261);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),n(745346).Z("68151ccb",a,!0,{})}}]);