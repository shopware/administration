(window.webpackJsonpAdministration=window.webpackJsonpAdministration||[]).push([[8796],{94936:function(){},8796:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}}),t(79189);let{Component:r}=Shopware,{Criteria:i}=Shopware.Data;var d=r.wrapComponentConfig({template:'<sw-single-select\n    v-model:value="addressId"\n    v-bind="$attrs"\n    class="sw-order-customer-address-select"\n    value-property="id"\n    required\n    disable-search-function\n    :is-loading="isLoading"\n    :options="customerAddresses"\n    :disabled="disabled"\n    @search="searchAddress"\n>\n    <template #selection-label-property="{ item }">\n        {{ getSelectionLabel(item) }}\n    </template>\n\n    <template #result-item="{ item, index, searchTerm, highlightSearchTerm, isSelected, setValue, getKey }">\n        <sw-select-result\n            :selected="isSelected(item)"\n            v-bind="{ item, index }"\n            @item-select="setValue"\n        >\n            <sw-highlight-text\n                v-if="highlightSearchTerm && !isSelected(item)"\n                :text="getCustomerAddress(item)"\n                :search-term="searchTerm"\n            />\n\n            <template v-else>\n                {{ getCustomerAddress(item) }}\n            </template>\n        </sw-select-result>\n    </template>\n</sw-single-select>\n',inject:["repositoryFactory","feature"],props:{customer:{type:Object,required:!0},value:{type:String,required:!0},sameAddressLabel:{type:String,required:!1,default:""},sameAddressValue:{type:String,required:!0},disabled:{type:Boolean,required:!1,default:!1}},data(){return{customerAddresses:[],isLoading:!1,addressSearchTerm:""}},computed:{addressId:{get(){return this.value},set(e){null!==e&&this.$emit("update:value",e)}},isSameAddress(){return this.value===this.sameAddressValue},addressRepository(){return this.repositoryFactory.create(this.customer.addresses?.entity??"customer_address",this.customer.addresses?.source)},addressCriteria(){let e=new i(1,25);return e.addAssociation("salutation"),e.addAssociation("country"),e.addAssociation("countryState"),this.addressSearchTerm&&e.setTerm(this.addressSearchTerm),e}},created(){this.createdComponent()},methods:{createdComponent(){this.getCustomerAddresses()},getSelectionLabel(e){return this.isSameAddress&&this.sameAddressLabel?this.sameAddressLabel:this.getCustomerAddress(e)},getCustomerAddress(e){if(!e)return"";let s=[];return["street","zipcode","city","countryState","country"].forEach(t=>{if(e[t]){if("countryState"===t||"country"===t){let r=e[t]?.translated?.name;r&&s.push(r);return}s.push(e[t])}}),s.join(", ")},getCustomerAddresses(){return this.isLoading=!0,this.addressRepository.search(this.addressCriteria).then(e=>{this.customerAddresses=e}).finally(()=>{this.isLoading=!1})},searchAddress(e){return this.isLoading=!0,this.addressSearchTerm=e,this.addressRepository.search(this.addressCriteria).then(e=>{this.customerAddresses.forEach(s=>{s.hidden=!e.has(s.id)})}).finally(()=>{this.isLoading=!1})}}})},79189:function(e,s,t){var r=t(94936);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),t(45346).Z("2b732053",r,!0,{})}}]);