{"version":3,"sources":["webpack:///./src/module/sw-extension/page/sw-extension-store-landing-page/sw-extension-store-landing-page.scss","webpack:///./src/module/sw-extension/page/sw-extension-store-landing-page/index.js","webpack:///./src/module/sw-extension/page/sw-extension-store-landing-page/sw-extension-store-landing-page.html.twig"],"names":["content","__esModule","default","module","i","locals","exports","add","template","inject","data","isLoading","activationStatus","error","computed","extensionName","assetFilter","Shopware","Filter","getByName","methods","activateStore","_this","this","extensionHelperService","downloadAndActivateExtension","then","window","location","reload","catch","_error$response","response","Array","isArray","errors","Utils","debug","finally"],"mappings":"0GAGA,IAAIA,EAAU,EAAQ,QACnBA,EAAQC,aAAYD,EAAUA,EAAQE,SACnB,iBAAZF,IAAsBA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAC7DA,EAAQK,SAAQF,EAAOG,QAAUN,EAAQK,SAG/BE,EADH,EAAQ,QAAwEL,SACzE,WAAYF,GAAS,EAAM,K,mDCF7B,WACXQ,SCRW,07GDUXC,OAAQ,CAAC,0BAETC,KAAI,WACA,MAAO,CACHC,WAAW,EACXC,iBAAkB,KAClBC,MAAO,OAIfC,SAAU,CACNC,cAAa,WACT,MAAO,sBAGXC,YAAW,WACP,OAAOC,SAASC,OAAOC,UAAU,WAIzCC,QAAS,CACLC,cAAa,WAAI,IAADC,EAAA,KACZC,KAAKZ,WAAY,EACjBY,KAAKX,iBAAmB,KAExBW,KAAKC,uBAAuBC,6BAA6BF,KAAKR,eACzDW,MAAK,WACFJ,EAAKV,iBAAmB,UACxBe,OAAOC,SAASC,YAEnBC,OAAM,SAAAjB,GAAU,IAADkB,EACZT,EAAKV,iBAAmB,QAEpBC,SAAe,QAAVkB,EAALlB,EAAOmB,gBAAQ,IAAAD,GAAfA,EAAiBrB,MACjBuB,MAAMC,QAAQrB,EAAMmB,SAAStB,KAAKyB,SAClCtB,EAAMmB,SAAStB,KAAKyB,OAAO,KAE3Bb,EAAKT,MAAQA,EAAMmB,SAAStB,KAAKyB,OAAO,IAG5ClB,SAASmB,MAAMC,MAAMxB,MAAMA,MAE9ByB,SAAQ,WACLhB,EAAKX,WAAY,S","file":"static/js/419f75ae7ac3b0d7569b.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--15-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--15-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--15-3!./sw-extension-store-landing-page.scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"995c6234\", content, true, {});","import template from './sw-extension-store-landing-page.html.twig';\nimport './sw-extension-store-landing-page.scss';\n\n/**\n * @package services-settings\n * @private\n */\nexport default {\n    template,\n\n    inject: ['extensionHelperService'],\n\n    data() {\n        return {\n            isLoading: false,\n            activationStatus: null,\n            error: null,\n        };\n    },\n\n    computed: {\n        extensionName() {\n            return 'SwagExtensionStore';\n        },\n\n        assetFilter() {\n            return Shopware.Filter.getByName('asset');\n        },\n    },\n\n    methods: {\n        activateStore() {\n            this.isLoading = true;\n            this.activationStatus = null;\n\n            this.extensionHelperService.downloadAndActivateExtension(this.extensionName)\n                .then(() => {\n                    this.activationStatus = 'success';\n                    window.location.reload();\n                })\n                .catch(error => {\n                    this.activationStatus = 'error';\n\n                    if (error?.response?.data &&\n                        Array.isArray(error.response.data.errors) &&\n                        error.response.data.errors[0]\n                    ) {\n                        this.error = error.response.data.errors[0];\n                    }\n\n                    Shopware.Utils.debug.error(error);\n                })\n                .finally(() => {\n                    this.isLoading = false;\n                });\n        },\n    },\n};\n","export default \"\\n{% block sw_extension_store_landing_page %}\\n<div class=\\\"sw-extension-store-landing-page\\\">\\n    <div class=\\\"sw-extension-store-landing-page__wrapper\\\">\\n        <div\\n            v-if=\\\"isLoading\\\"\\n            class=\\\"sw-extension-store-landing-page__wrapper-loading\\\"\\n        >\\n            <sw-loader />\\n\\n            <p>\\n                {{ $tc('sw-extension-store.landing-page.enablingShopwareStore') }}\\n                <br>\\n                {{ $tc('sw-extension-store.landing-page.takeMinutes') }}\\n            </p>\\n        </div>\\n\\n        <div\\n            v-else-if=\\\"activationStatus !== null\\\"\\n            class=\\\"sw-extension-store-landing-page__wrapper-activated\\\"\\n        >\\n            <template v-if=\\\"activationStatus === 'error'\\\">\\n                <sw-label\\n                    appearance=\\\"pill\\\"\\n                    variant=\\\"danger\\\"\\n                >\\n                    <sw-icon\\n                        name=\\\"regular-times-circle\\\"\\n                        size=\\\"30px\\\"\\n                    />\\n                </sw-label>\\n\\n                <h2>\\n                    {{ error && error.title || $tc('sw-extension-store.landing-page.activationErrorTitle') }}\\n                </h2>\\n                <p>\\n                    {{ error && error.detail || $tc('sw-extension-store.landing-page.activationErrorDescription') }}\\n                </p>\\n\\n                <sw-button\\n                    variant=\\\"primary\\\"\\n                    @click=\\\"activateStore\\\"\\n                >\\n                    {{ $tc('sw-extension-store.landing-page.retryButton') }}\\n                </sw-button>\\n            </template>\\n\\n            <template v-else-if=\\\"activationStatus === 'success'\\\">\\n                <sw-label\\n                    appearance=\\\"pill\\\"\\n                    variant=\\\"success\\\"\\n                >\\n                    <sw-icon\\n                        name=\\\"regular-check-circle\\\"\\n                        size=\\\"30px\\\"\\n                    />\\n                </sw-label>\\n\\n                <h2>\\n                    {{ $tc('sw-extension-store.landing-page.activationSuccessTitle') }}\\n                </h2>\\n                <p>\\n                    {{ $tc('sw-extension-store.landing-page.activationSuccessDescription') }}\\n                </p>\\n            </template>\\n        </div>\\n\\n        <div\\n            v-else\\n            class=\\\"sw-extension-store-landing-page__wrapper-content\\\"\\n        >\\n            <img\\n                :src=\\\"assetFilter('/administration/static/img/extension-store/store_illustration.svg')\\\"\\n                alt=\\\"\\\"\\n            >\\n\\n            <span class=\\\"sw-extension-store-landing-page__wrapper-label\\\">\\n                {{ $tc('sw-extension-store.landing-page.label') }}\\n            </span>\\n\\n            <h2>\\n                {{ $tc('sw-extension-store.landing-page.activationDescriptionTitleFirst') }}\\n                <br>\\n                {{ $tc('sw-extension-store.landing-page.activationDescriptionTitleSecond') }}\\n            </h2>\\n\\n            <p>\\n                {{ $tc('sw-extension-store.landing-page.activationDescriptionTitleDescription') }}\\n            </p>\\n\\n            <sw-button\\n                class=\\\"sw-extension-store-landing-page__activate_button\\\"\\n                variant=\\\"primary\\\"\\n                @click=\\\"activateStore\\\"\\n            >\\n                {{ $tc('sw-extension-store.landing-page.activate') }}\\n            </sw-button>\\n        </div>\\n    </div>\\n</div>\\n{% endblock %}\\n\";"],"sourceRoot":""}