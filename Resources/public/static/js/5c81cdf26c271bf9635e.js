(this.webpackJsonpAdministration=this.webpackJsonpAdministration||[]).push([[35],{"/bhU":function(e,n,t){"use strict";t.r(n);var o=t("7yzw"),r=t.n(o),l=t("92Mt"),i=t.n(l),d=(t("Ipr+"),Shopware.Context),a=Shopware.Data.Criteria;n.default={template:'\n{% block sw_media_folder_content %}\n<div class="sw-media-folder-content">\n    \n    {% block sw_media_folder_content_folder_listing %}\n    <ul\n        v-if="subFolders.length > 0 || parentFolder !== null"\n        class="sw-media-folder-content__folder-listing"\n    >\n        \n        {% block sw_media_folder_content_list_item %}\n\n        <li\n            v-if="parentFolder !== null"\n            class="sw-media-folder-content__list-item"\n        >\n            <button\n                class="sw-media-folder-content__button sw-media-folder-content__parent-folder"\n                @click="emitInput(parentFolder)"\n            >\n                \n                {% block sw_media_folder_content_folder_icon %}\n                <img\n                    :src="\'/administration/static/img/media/folder-thumbnail.svg\' | asset"\n                    class="sw-media-folder-content__folder-icon"\n                    alt="Folder thumbnail"\n                >\n                {% endblock %}\n                {{ parentFolder.name }}\n            </button>\n        </li>\n\n        <li\n            v-for="(folder, index) in subFolders"\n            :key="folder.id"\n            :class="[{\'is--selected\': folder.id === selectedId}, \'sw-media-folder-content__list-item--\' + index ]"\n            class="sw-media-folder-content__list-item"\n            role="button"\n            tabindex="0"\n            @click="emitInput(folder)"\n            @keydown.enter="emitInput(folder)"\n        >\n\n            \n            {% block sw_media_folder_content_button_folder %}\n            \n            {% block sw_media_folder_content_button_folder_button %}\n            <button class="sw-media-folder-content__button sw-media-folder-content__folder-button">\n                \n                {% block sw_media_folder_content_folder_button_icon %}\n                <img\n                    :src="\'/administration/static/img/media/folder-thumbnail.svg\' | asset"\n                    class="sw-media-folder-content__folder-icon"\n                    alt="Folder thumbnail"\n                >\n                {% endblock %}\n                {{ folder.name }}\n            </button>\n            {% endblock %}\n            \n            {% block sw_media_folder_content_switch_button %}\n            <sw-icon\n                v-if="getChildCount(folder) > 0"\n                class="sw-media-folder-content__switch-button"\n                name="regular-chevron-right-xxs"\n                size="12px"\n            />\n            {% endblock %}\n            {% endblock %}\n        </li>\n        {% endblock %}\n    </ul>\n    {% endblock %}\n</div>\n{% endblock %}\n',inject:["filterItems","repositoryFactory"],props:{startFolderId:{type:String,required:!1,default:null},selectedId:{type:String,required:!1,default:null}},data:function(){return{subFolders:[],parentFolder:null}},computed:{mediaFolderRepository:function(){return this.repositoryFactory.create("media_folder")}},watch:{startFolderId:function(){this.getSubFolders(this.startFolderId),this.fetchParentFolder(this.startFolderId)}},mounted:function(){this.mountedComponent()},methods:{mountedComponent:function(){this.getSubFolders(this.startFolderId),this.fetchParentFolder(this.startFolderId)},getSubFolders:function(e){var n=this;return r()(i.a.mark((function t(){var o,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=new a(1,50).addFilter(a.equals("parentId",e)).addAssociation("children").addSorting(a.sort("name","asc")),t.next=3,n.mediaFolderRepository.search(o,d.api);case 3:r=t.sent,n.subFolders=r.filter(n.filterItems);case 5:case"end":return t.stop()}}),t)})))()},getChildCount:function(e){return e.children.filter(this.filterItems).length},fetchParentFolder:function(e){var n=this;return r()(i.a.mark((function t(){var o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===e){t.next=7;break}return t.next=3,n.mediaFolderRepository.get(e,d.api);case 3:o=t.sent,n.updateParentFolder(o),t.next=8;break;case 7:n.parentFolder=null;case 8:case"end":return t.stop()}}),t)})))()},updateParentFolder:function(e){var n=this;return r()(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e.id){t.next=4;break}n.parentFolder=null,t.next=11;break;case 4:if(null!==e.parentId){t.next=8;break}n.parentFolder={id:null,name:n.$tc("sw-media.index.rootFolderName")},t.next=11;break;case 8:return t.next=10,n.mediaFolderRepository.get(e.parentId,d.api);case 10:n.parentFolder=t.sent;case 11:case"end":return t.stop()}}),t)})))()},emitInput:function(e){this.$emit("selected",e)}}}},"Ipr+":function(e,n,t){var o=t("soSy");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,t("P8hj").default)("6c594bbb",o,!0,{})},soSy:function(e,n,t){}}]);