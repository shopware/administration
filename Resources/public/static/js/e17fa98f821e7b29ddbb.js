(this.webpackJsonpAdministration=this.webpackJsonpAdministration||[]).push([[594],{NSAz:function(e,n,t){"use strict";t.r(n);var o=t("7yzw"),r=t.n(o),i=t("CsSd"),l=t.n(i),a=t("92Mt"),p=t.n(a);function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}var d=Shopware.Component.getComponentHelper().mapPropertyErrors;n.default={template:'\n{% block sw_property_option_detail %}\n<sw-modal\n    :title="currentOption.name ? currentOption.name : $tc(\'sw-property.detail.textOptionHeadline\')"\n    @modal-close="onCancel"\n>\n    \n    {% block sw_property_option_detail_name %}\n    <sw-text-field\n        {% if VUE3 %}\n        v-model:value="currentOption.name"\n        {% else %}\n        v-model="currentOption.name"\n        {% endif %}\n        validation="required"\n        :label="$tc(\'sw-property.detail.labelOptionName\')"\n        :disabled="!allowEdit"\n        :placeholder="$tc(\'sw-property.detail.placeholderOptionName\')"\n        :error="currentOptionNameError"\n        required\n    />\n    {% endblock %}\n\n    \n    {% block sw_property_option_detail_position %}\n    <sw-number-field\n        {% if VUE3 %}\n        v-model:value="currentOption.position"\n        {% else %}\n        v-model="currentOption.position"\n        {% endif %}\n        pattern="[0-9]"\n        :step="1"\n        :disabled="!allowEdit"\n        :label="$tc(\'sw-property.detail.labelOptionPosition\')"\n        :placeholder="$tc(\'sw-property.detail.placeholderOptionPosition\')"\n    />\n    {% endblock %}\n\n    \n    {% block sw_property_option_detail_color %}\n    <sw-colorpicker\n        {% if VUE3 %}\n        v-model:value="currentOption.colorHexCode"\n        {% else %}\n        v-model="currentOption.colorHexCode"\n        {% endif %}\n        color-output="hex"\n        :disabled="!allowEdit"\n        :label="$tc(\'sw-property.detail.labelOptionColor\')"\n        :z-index="1000"\n    />\n    {% endblock %}\n\n    \n    {% block sw_property_option_detail_media %}\n    <sw-upload-listener\n        :upload-tag="currentOption.id"\n        auto-upload\n        @media-upload-finish="successfulUpload"\n    />\n    <sw-media-compact-upload-v2\n        default-folder="product"\n        :label="$tc(\'sw-property.detail.labelMediaUpload\')"\n        :source="currentOption.mediaId"\n        :upload-tag="currentOption.id"\n        :disabled="!allowEdit"\n        @media-upload-remove-image="removeMedia"\n        @selection-change="setMedia"\n    />\n    {% endblock %}\n\n    \n    {% block sw_property_option_detail_footer %}\n    <template #modal-footer>\n        \n        {% block sw_property_option_detail_footer_cancel %}\n        <sw-button\n            size="small"\n            @click="onCancel"\n        >\n            {{ $tc(\'sw-property.detail.buttonCancel\') }}\n        </sw-button>\n        {% endblock %}\n\n        \n        {% block sw_property_option_detail_footer_save %}\n        <sw-button\n            v-tooltip.bottom="{\n                message: $tc(\'sw-privileges.tooltip.warning\'),\n                disabled: acl.can(\'property.editor\'),\n                showOnDisabledElements: true\n            }"\n            variant="primary"\n            size="small"\n            :disabled="!allowEdit"\n            @click="onSave"\n        >\n            {{ $tc(\'sw-property.detail.buttonApply\') }}\n        </sw-button>\n        {% endblock %}\n    </template>\n    {% endblock %}\n</sw-modal>\n{% endblock %}\n',inject:["repositoryFactory","acl"],props:{currentOption:{type:Object,default:function(){return{}}},allowEdit:{type:Boolean,required:!1,default:!0}},computed:function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){l()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({mediaRepository:function(){return this.repositoryFactory.create("media")}},d("currentOption",["name"])),methods:{onCancel:function(){Shopware.State.dispatch("error/removeApiError",{expression:"property_group_option"}),this.$emit("cancel-option-edit",this.currentOption)},onSave:function(){this.$emit("save-option-edit",this.currentOption)},successfulUpload:function(e){var n=this;return r()(p.a.mark((function t(){var o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.targetId,n.currentOption.mediaId=o,t.next=4,n.mediaRepository.get(o);case 4:case"end":return t.stop()}}),t)})))()},removeMedia:function(){this.currentOption.mediaId=null},setMedia:function(e){this.currentOption.mediaId=e[0].id}}}}}]);