{"version":3,"sources":["webpack:///./src/module/sw-promotion-v2/component/promotion-codes/sw-promotion-v2-individual-codes-behavior/sw-promotion-v2-individual-codes-behavior.html.twig","webpack:///./src/module/sw-promotion-v2/component/promotion-codes/sw-promotion-v2-individual-codes-behavior/index.js","webpack:///./src/module/sw-promotion-v2/component/promotion-codes/sw-promotion-v2-individual-codes-behavior/sw-promotion-v2-individual-codes-behavior.scss"],"names":["Criteria","Shopware","Data","createId","Utils","template","inject","mixins","props","promotion","type","Object","required","data","limit","isGridLoading","isAdding","codeDeleteModal","codeBulkDeleteModal","generateCodesModal","addCodesModal","newCodeAmount","cardIdentifier","currentSelection","computed","promotionRepository","this","repositoryFactory","create","customerRepository","deleteConfirmText","$tc","length","code","codeColumns","property","label","assetFilter","Filter","getByName","mounted","mountedComponent","methods","loadIndividualCodesGrid","onSearchTermChange","term","individualCodes","criteria","setTerm","_this","$refs","individualCodesGrid","addSorting","naturalSorting","load","then","onSelectionChange","selection","arguments","undefined","feature","isActive","values","onCodeSelectionChange","onShowCodeDeleteModal","id","onShowCodeBulkDeleteModal","onConfirmCodeDelete","_this2","onCloseDeleteModal","deleteItem","onConfirmCodeBulkDelete","_this3","onCloseBulkDeleteModal","deleteItems","onOpenGenerateCodesModal","onGenerateFinish","onCloseGenerateCodesModal","$emit","onOpenAddCodesModal","onAddCodes","_this4","promotionCodeApiService","addIndividualCodes","onCloseAddCodesModal","catch","e","response","errors","forEach","error","errorType","createNotificationError","autoClose","message","concat","routeToCustomer","redeemedCustomer","_this5","get","customerId","result","$router","push","name","params","createRoutingErrorNotification","customerName","content","__esModule","default","module","i","locals","exports","add"],"mappings":"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","file":"static/js/7a3fc9e01577a6912d49.js","sourcesContent":["export default \"\\n{% block sw_promotion_v2_individual_codes_behavior %}\\n<div class=\\\"sw-promotion-v2-individual-codes-behavior\\\">\\n\\n    \\n    {% block sw_promotion_v2_individual_codes_behavior_card %}\\n    <sw-card\\n        v-if=\\\"promotion.individualCodes && promotion.individualCodes.length > 0\\\"\\n        class=\\\"sw-promotion-v2-individual-codes-behavior__card\\\"\\n        position-identifier=\\\"sw-promotion-individual-codes-behavior\\\"\\n    >\\n\\n        \\n        {% block sw_promotion_v2_individual_codes_behavior_toolbar %}\\n        <template #toolbar>\\n\\n            \\n            {% block sw_promotion_v2_individual_codes_behavior_toolbar_filter %}\\n            <sw-card-filter\\n                :placeholder=\\\"$tc('sw-promotion-v2.detail.base.codes.individual.searchPlaceholder')\\\"\\n                @sw-card-filter-term-change=\\\"onSearchTermChange\\\"\\n            >\\n                <template #filter>\\n\\n                    \\n                    {% block sw_promotion_v2_individual_codes_behavior_toolbar_filter_add_codes %}\\n                    <sw-button\\n                        class=\\\"sw-promotion-v2-individual-codes-behavior__add-codes-action\\\"\\n                        variant=\\\"ghost\\\"\\n                        size=\\\"small\\\"\\n                        :disabled=\\\"!acl.can('promotion.editor')\\\"\\n                        @click=\\\"onOpenAddCodesModal\\\"\\n                    >\\n                        {{ $tc('sw-promotion-v2.detail.base.codes.individual.addButton') }}\\n                    </sw-button>\\n                    {% endblock %}\\n\\n                    \\n                    {% block sw_promotion_v2_individual_codes_behavior_toolbar_filter_generate_codes %}\\n                    <sw-button\\n                        class=\\\"sw-promotion-v2-individual-codes-behavior__generate-codes-action\\\"\\n                        variant=\\\"ghost\\\"\\n                        size=\\\"small\\\"\\n                        :disabled=\\\"!acl.can('promotion.editor')\\\"\\n                        @click=\\\"onOpenGenerateCodesModal\\\"\\n                    >\\n                        {{ $tc('sw-promotion-v2.detail.base.codes.individual.generateButton') }}\\n                    </sw-button>\\n                    {% endblock %}\\n\\n                </template>\\n            </sw-card-filter>\\n            {% endblock %}\\n        </template>\\n        {% endblock %}\\n\\n        \\n        {% block sw_promotion_v2_individual_codes_behavior_grid %}\\n        <template #grid>\\n            <sw-one-to-many-grid\\n                ref=\\\"individualCodesGrid\\\"\\n                class=\\\"sw-promotion-v2-individual-codes-behavior__grid\\\"\\n                :is-loading=\\\"isGridLoading\\\"\\n                :collection=\\\"promotion.individualCodes\\\"\\n                :data-source=\\\"promotion.individualCodes\\\"\\n                :columns=\\\"codeColumns\\\"\\n                :local-mode=\\\"false\\\"\\n                sort-by=\\\"code\\\"\\n                sort-direction=\\\"ASC\\\"\\n                @selection-change=\\\"onSelectionChange\\\"\\n                @items-delete-finish=\\\"$emit('delete-finish')\\\"\\n            >\\n\\n                \\n                {% block sw_promotion_v2_individual_codes_behavior_grid_redeemed %}\\n                <template #column-payload=\\\"{ item }\\\">\\n\\n                    \\n                    {% block sw_promotion_v2_individual_codes_behavior_grid_redeemed_icon %}\\n                    \\n                    {% block sw_promotion_v2_individual_codes_behavior_grid_redeemed_icon_true %}\\n                    <sw-icon\\n                        v-if=\\\"!!item.payload\\\"\\n                        class=\\\"sw-promotion-v2-individual-codes-behavior__redeemed-state is--active\\\"\\n                        name=\\\"regular-checkmark-xs\\\"\\n                        small\\n                    />\\n                    {% endblock %}\\n\\n                    \\n                    {% block sw_promotion_v2_individual_codes_behavior_grid_redeemed_icon_false %}\\n                    <sw-icon\\n                        v-else\\n                        class=\\\"sw-promotion-v2-individual-codes-behavior__redeemed-state is--inactive\\\"\\n                        name=\\\"regular-times-s\\\"\\n                        small\\n                    />\\n                    {% endblock %}\\n                    {% endblock %}\\n\\n                </template>\\n                {% endblock %}\\n\\n                \\n                {% block sw_promotion_v2_individual_codes_behavior_grid_redeemed_customer %}\\n                <template #column-payload.customerName=\\\"{ item }\\\">\\n\\n                    \\n                    {% block sw_promotion_v2_individual_codes_behavior_grid_redeemed_customer_link %}\\n                    <a\\n                        v-if=\\\"item.payload && item.payload.customerId\\\"\\n                        class=\\\"sw-promotion-v2-individual-codes-behavior__redeemed-customer-name\\\"\\n                        role=\\\"link\\\"\\n                        tabindex=\\\"0\\\"\\n                        @click=\\\"routeToCustomer(item.payload)\\\"\\n                        @keydown.enter=\\\"routeToCustomer(item.payload)\\\"\\n                    >\\n                        {{ item.payload.customerName }}\\n                    </a>\\n                    {% endblock %}\\n\\n                </template>\\n                {% endblock %}\\n\\n                \\n                {% block sw_promotion_v2_individual_codes_behavior_grid_actions %}\\n                <template #actions=\\\"{ item }\\\">\\n\\n                    \\n                    {% block sw_promotion_v2_individual_codes_behavior_grid_actions_route_to_customer %}\\n                    <sw-context-menu-item\\n                        class=\\\"sw-promotion-v2-individual-codes-behavior__customer-route-action\\\"\\n                        :disabled=\\\"!(item.payload && item.payload.customerId)\\\"\\n                        @click=\\\"routeToCustomer(item.payload)\\\"\\n                    >\\n                        {{ $tc('sw-promotion-v2.detail.base.codes.individual.openCustomer') }}\\n                    </sw-context-menu-item>\\n                    {% endblock %}\\n\\n                    \\n                    {% block sw_promotion_v2_individual_codes_behavior_grid_actions_delete %}\\n                    <sw-context-menu-item\\n                        class=\\\"sw-promotion-v2-individual-codes-behavior__code-delete-action\\\"\\n                        variant=\\\"danger\\\"\\n                        :disabled=\\\"!acl.can('promotion.editor')\\\"\\n                        @click=\\\"onShowCodeDeleteModal(item.id)\\\"\\n                    >\\n                        {{ $tc('sw-property.list.contextMenuDelete') }}\\n                    </sw-context-menu-item>\\n                    {% endblock %}\\n\\n                </template>\\n                {% endblock %}\\n\\n                \\n                {% block sw_promotion_v2_individual_codes_behavior_grid_actions_bulk %}\\n                <template #bulk>\\n\\n                    \\n                    {% block sw_promotion_v2_individual_codes_behavior_grid_actions_bulk_delete %}\\n                    <span\\n                        class=\\\"sw-promotion-v2-individual-codes-behavior__code-bulk-delete-action link link-danger\\\"\\n                        role=\\\"button\\\"\\n                        tabindex=\\\"0\\\"\\n                        @click=\\\"onShowCodeBulkDeleteModal\\\"\\n                        @keydown.enter=\\\"onShowCodeBulkDeleteModal\\\"\\n                    >\\n                        {{ $tc('global.default.delete') }}\\n                    </span>\\n                    {% endblock %}\\n\\n                </template>\\n                {% endblock %}\\n\\n                \\n                {% block sw_promotion_v2_individual_codes_behavior_grid_action_modals %}\\n                <template #action-modals=\\\"{ item }\\\">\\n\\n                    \\n                    {% block sw_promotion_v2_individual_codes_behavior_grid_action_delete_modal %}\\n                    <sw-confirm-modal\\n                        v-if=\\\"codeDeleteModal === item.id\\\"\\n                        class=\\\"sw-promotion-v2-individual-codes-behavior__confirm-delete-modal\\\"\\n                        type=\\\"delete\\\"\\n                        :text=\\\"$tc('sw-promotion-v2.detail.base.codes.individual.textDeleteConfirm', 1, { code: item.code })\\\"\\n                        @confirm=\\\"onConfirmCodeDelete(item.id)\\\"\\n                        @close=\\\"onCloseDeleteModal\\\"\\n                        @cancel=\\\"onCloseDeleteModal\\\"\\n                    />\\n                    {% endblock %}\\n\\n                </template>\\n                {% endblock %}\\n\\n            </sw-one-to-many-grid>\\n        </template>\\n        {% endblock %}\\n    </sw-card>\\n    {% endblock %}\\n    <sw-card\\n        v-else\\n        class=\\\"sw-promotion-v2-individual-codes-behavior__card\\\"\\n        position-identifier=\\\"sw-promotion-individual-codes-behavior-empty-state\\\"\\n    >\\n\\n        \\n        {% block sw_promotion_v2_individual_codes_behavior_empty_state %}\\n        <sw-empty-state\\n            class=\\\"sw-promotion-v2-individual-codes-behavior__empty-state\\\"\\n            :title=\\\"$tc('sw-promotion-v2.detail.base.codes.individual.emptyStateTitle')\\\"\\n            :absolute=\\\"false\\\"\\n        >\\n\\n            \\n            {% block sw_promotion_v2_individual_codes_behavior_empty_state_icon %}\\n            <template #icon>\\n                <img\\n                    class=\\\"sw-promotion-v2-individual-codes-behavior__empty-state-icon\\\"\\n                    :src=\\\"assetFilter('/administration/static/img/empty-states/promotion-empty-state.svg')\\\"\\n                    :alt=\\\"$tc('sw-promotion-v2.detail.base.codes.individual.emptyStateTitle')\\\"\\n                >\\n            </template>\\n            {% endblock %}\\n\\n            \\n            {% block sw_promotion_v2_individual_codes_behavior_empty_state_actions %}\\n            <template #actions>\\n                <sw-button\\n                    class=\\\"sw-promotion-v2-individual-codes-behavior__empty-state-generate-action\\\"\\n                    variant=\\\"ghost\\\"\\n                    :disabled=\\\"!acl.can('promotion.editor')\\\"\\n                    @click=\\\"onOpenGenerateCodesModal\\\"\\n                >\\n                    {{ $tc('sw-promotion-v2.detail.base.codes.individual.generateButton') }}\\n                </sw-button>\\n            </template>\\n            {% endblock %}\\n\\n        </sw-empty-state>\\n        {% endblock %}\\n    </sw-card>\\n\\n    \\n    {% block sw_promotion_v2_individual_codes_behavior_delete_bulk_modal %}\\n    <sw-confirm-modal\\n        v-if=\\\"codeBulkDeleteModal\\\"\\n        class=\\\"sw-promotion-v2-individual-codes-behavior__confirm-delete-bulk-modal\\\"\\n        type=\\\"delete\\\"\\n        :text=\\\"deleteConfirmText\\\"\\n        @confirm=\\\"onConfirmCodeBulkDelete\\\"\\n        @close=\\\"onCloseBulkDeleteModal\\\"\\n        @cancel=\\\"onCloseBulkDeleteModal\\\"\\n    />\\n    {% endblock %}\\n\\n    \\n    {% block sw_promotion_v2_individual_codes_behavior_generate_codes_modal %}\\n    <sw-promotion-v2-generate-codes-modal\\n        v-if=\\\"generateCodesModal\\\"\\n        :promotion=\\\"promotion\\\"\\n        @generate-finish=\\\"onGenerateFinish\\\"\\n        @close=\\\"onCloseGenerateCodesModal\\\"\\n    />\\n    {% endblock %}\\n\\n    \\n    {% block sw_promotion_v2_individual_codes_behavior_add_codes_modal %}\\n    <sw-modal\\n        v-if=\\\"addCodesModal\\\"\\n        class=\\\"sw-promotion-v2-individual-codes-behavior__add-codes-modal\\\"\\n        variant=\\\"small\\\"\\n        :title=\\\"$tc('sw-promotion-v2.detail.base.codes.individual.addCodesModal.title')\\\"\\n        @modal-close=\\\"onCloseAddCodesModal\\\"\\n    >\\n\\n        \\n        {% block sw_promotion_v2_individual_codes_behavior_add_codes_modal_content %}\\n        <div class=\\\"sw-promotion-v2-individual-codes-behavior__content\\\">\\n\\n            \\n            {% block sw_promotion_v2_individual_codes_behavior_add_codes_modal_description %}\\n            <p class=\\\"sw-promotion-v2-individual-codes-behavior__description\\\">\\n                {{ $tc('sw-promotion-v2.detail.base.codes.individual.addCodesModal.description') }}\\n            </p>\\n            {% endblock %}\\n\\n            \\n            {% block sw_promotion_v2_individual_codes_behavior_add_codes_modal_code_amount %}\\n            <sw-number-field\\n                {% if VUE3 %}\\n                v-model:value=\\\"newCodeAmount\\\"\\n                {% else %}\\n                v-model=\\\"newCodeAmount\\\"\\n                {% endif %}\\n                class=\\\"sw-promotion-v2-individual-codes-behavior__code-amount\\\"\\n                :label=\\\"$tc('sw-promotion-v2.detail.base.codes.individual.addCodesModal.codeAmountLabel')\\\"\\n                :min=\\\"1\\\"\\n            />\\n            {% endblock %}\\n\\n        </div>\\n        {% endblock %}\\n\\n        \\n        {% block sw_promotion_v2_individual_codes_behavior_add_codes_modal_footer %}\\n        <template #modal-footer>\\n\\n            \\n            {% block sw_promotion_v2_individual_codes_behavior_add_codes_modal_footer_cancel %}\\n            <sw-button\\n                class=\\\"sw-promotion-v2-individual-codes-behavior__add-codes-button-cancel\\\"\\n                size=\\\"small\\\"\\n                @click=\\\"onCloseAddCodesModal\\\"\\n            >\\n                {{ $tc('global.default.cancel') }}\\n            </sw-button>\\n            {% endblock %}\\n\\n            \\n            {% block sw_promotion_v2_individual_codes_behavior_add_codes_modal_footer_confirm %}\\n            <sw-button-process\\n                class=\\\"sw-promotion-v2-individual-codes-behavior__add-codes-button-confirm\\\"\\n                variant=\\\"primary\\\"\\n                size=\\\"small\\\"\\n                :is-loading=\\\"isAdding\\\"\\n                :process-success=\\\"false\\\"\\n                @click=\\\"onAddCodes\\\"\\n            >\\n                {{ $tc('sw-promotion-v2.detail.base.codes.individual.addCodesModal.addCodesButton') }}\\n            </sw-button-process>\\n            {% endblock %}\\n\\n        </template>\\n        {% endblock %}\\n\\n    </sw-modal>\\n    {% endblock %}\\n\\n</div>\\n{% endblock %}\\n\";","/**\n * @package buyers-experience\n */\nimport template from './sw-promotion-v2-individual-codes-behavior.html.twig';\nimport './sw-promotion-v2-individual-codes-behavior.scss';\n\nconst { Criteria } = Shopware.Data;\nconst createId = Shopware.Utils.createId;\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    inject: [\n        'acl',\n        'repositoryFactory',\n        'promotionCodeApiService',\n        'feature',\n    ],\n\n    mixins: [\n        'notification',\n    ],\n\n    props: {\n        promotion: {\n            type: Object,\n            required: true,\n        },\n    },\n\n    data() {\n        return {\n            limit: 25,\n            isGridLoading: false,\n            isAdding: false,\n            codeDeleteModal: false,\n            codeBulkDeleteModal: false,\n            generateCodesModal: false,\n            addCodesModal: false,\n            newCodeAmount: 10,\n            /**\n             * @deprecated tag:v6.6.0 - Will be removed\n             */\n            cardIdentifier: createId(),\n            currentSelection: [],\n        };\n    },\n\n    computed: {\n        promotionRepository() {\n            return this.repositoryFactory.create('promotion');\n        },\n\n        customerRepository() {\n            return this.repositoryFactory.create('customer');\n        },\n\n        deleteConfirmText() {\n            if (!this.currentSelection) {\n                return '';\n            }\n\n            return this.$tc(\n                'sw-promotion-v2.detail.base.codes.individual.textDeleteConfirm',\n                this.currentSelection.length,\n                { code: this.currentSelection[0].code || '' },\n            );\n        },\n\n        codeColumns() {\n            return [{\n                property: 'code',\n                label: this.$tc('sw-promotion-v2.detail.base.codes.individual.columnCode'),\n            }, {\n                property: 'payload',\n                label: this.$tc('sw-promotion-v2.detail.base.codes.individual.columnRedeemed'),\n            }, {\n                property: 'payload.customerName',\n                label: this.$tc('sw-promotion-v2.detail.base.codes.individual.columnCustomer'),\n            }];\n        },\n\n        assetFilter() {\n            return Shopware.Filter.getByName('asset');\n        },\n    },\n\n    mounted() {\n        this.mountedComponent();\n    },\n\n    methods: {\n        mountedComponent() {\n            this.loadIndividualCodesGrid();\n        },\n\n        onSearchTermChange(term) {\n            this.promotion.individualCodes.criteria.setTerm(term);\n\n            this.loadIndividualCodesGrid();\n        },\n\n        loadIndividualCodesGrid() {\n            if (!this.$refs.individualCodesGrid) {\n                return;\n            }\n\n            this.isGridLoading = true;\n            this.promotion.individualCodes.criteria.addSorting(Criteria.naturalSorting('code'));\n\n            this.$refs.individualCodesGrid.load().then(() => {\n                this.isGridLoading = false;\n            });\n        },\n\n        /**\n         * @deprecated tag:v6.6.0 - The parameter selection will be mandatory\n         */\n        onSelectionChange(selection = []) {\n            if (this.feature.isActive('VUE3')) {\n                this.currentSelection = Object.values(selection);\n                return;\n            }\n\n            this.currentSelection = Object.values(this.$refs.individualCodesGrid.selection);\n        },\n\n        onCodeSelectionChange(selection) {\n            this.currentSelection = Object.values(selection);\n        },\n\n        onShowCodeDeleteModal(id) {\n            this.codeDeleteModal = id;\n        },\n\n        onShowCodeBulkDeleteModal() {\n            this.codeBulkDeleteModal = true;\n        },\n\n        onConfirmCodeDelete(id) {\n            this.onCloseDeleteModal();\n            this.$refs.individualCodesGrid.deleteItem(id).then(() => {\n                this.loadIndividualCodesGrid();\n            });\n        },\n\n        onConfirmCodeBulkDelete() {\n            this.onCloseBulkDeleteModal();\n            this.$refs.individualCodesGrid.deleteItems().then(() => {\n                this.loadIndividualCodesGrid();\n            });\n        },\n\n        onCloseDeleteModal() {\n            this.codeDeleteModal = false;\n        },\n\n        onCloseBulkDeleteModal() {\n            this.codeBulkDeleteModal = false;\n        },\n\n        onOpenGenerateCodesModal() {\n            this.generateCodesModal = true;\n        },\n\n        onGenerateFinish() {\n            this.onCloseGenerateCodesModal();\n            this.$emit('generate-finish');\n        },\n\n        onCloseGenerateCodesModal() {\n            this.generateCodesModal = false;\n        },\n\n        onOpenAddCodesModal() {\n            this.addCodesModal = true;\n        },\n\n        onAddCodes() {\n            this.isAdding = true;\n\n            this.promotionCodeApiService.addIndividualCodes(this.promotion.id, this.newCodeAmount).then(() => {\n                this.isAdding = false;\n                this.onCloseAddCodesModal();\n                this.$emit('generate-finish');\n            }).catch((e) => {\n                this.isAdding = false;\n\n                e.response.data.errors.forEach((error) => {\n                    let errorType;\n                    switch (error.code) {\n                        case 'PROMOTION__INDIVIDUAL_CODES_PATTERN_INSUFFICIENTLY_COMPLEX':\n                            errorType = 'notComplexEnoughException';\n                            break;\n                        case 'PROMOTION__INDIVIDUAL_CODES_PATTERN_ALREADY_IN_USE':\n                            errorType = 'alreadyInUseException';\n                            break;\n                        default:\n                            errorType = 'unknownErrorCode';\n                            break;\n                    }\n\n                    this.createNotificationError({\n                        autoClose: false,\n                        message: this.$tc(\n                            `sw-promotion-v2.detail.base.codes.individual.generateModal.${errorType}`,\n                        ),\n                    });\n                });\n            });\n        },\n\n        onCloseAddCodesModal() {\n            this.addCodesModal = false;\n        },\n\n        routeToCustomer(redeemedCustomer) {\n            return this.customerRepository.get(redeemedCustomer.customerId).then((result) => {\n                if (result === null) {\n                    this.createRoutingErrorNotification(redeemedCustomer.customerName);\n                    return;\n                }\n\n                this.$router.push({\n                    name: 'sw.customer.detail',\n                    params: { id: result.id },\n                });\n            }).catch(() => {\n                this.createRoutingErrorNotification(redeemedCustomer.customerName);\n            });\n        },\n\n        createRoutingErrorNotification(name) {\n            this.createNotificationError({\n                message: this.$tc('sw-promotion-v2.detail.base.codes.individual.routingError', 0, { name }),\n            });\n        },\n    },\n};\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--15-1!../../../../../../node_modules/css-loader/dist/cjs.js??ref--15-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--15-3!./sw-promotion-v2-individual-codes-behavior.scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"3fda081c\", content, true, {});"],"sourceRoot":""}