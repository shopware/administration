(this.webpackJsonpAdministration=this.webpackJsonpAdministration||[]).push([[69],{Uxl2:function(t,e,n){var r=n("nXNo");r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n("P8hj").default)("4e1a7faa",r,!0,{})},aQd1:function(t,e,n){"use strict";n.r(e);var r=n("CsSd"),a=n.n(r);n("Uxl2");function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var s=Shopware.Data.Criteria,i=Shopware.Component.getComponentHelper().mapPropertyErrors,l=Shopware.Classes.ShopwareError;e.default={template:'\n{% block sw_category_detail_products %}\n<div class="sw-category-detail-products">\n\n    \n    {% block sw_category_detail_product_assignment %}\n    <sw-many-to-many-assignment-card\n        v-if="category.type !== \'folder\'"\n        :title="$tc(\'sw-category.base.products.productAssignmentHeadline\')"\n        :entity-collection="category.products"\n        :columns="productColumns"\n        :is-loading="isLoading"\n        :disabled="!acl.can(\'category.editor\')"\n        :local-mode="category.isNew()"\n        :criteria="productCriteria"\n        :select-label="$tc(\'sw-category.base.products.productAssignmentLabel\')"\n        :placeholder="$tc(\'sw-category.base.products.productAssignmentPlaceholder\')"\n        @paginate="onPaginateManualProductAssignment"\n    >\n\n        \n        {% block sw_category_detail_product_assignment_type_select %}\n        <template #prepend-select>\n\n            \n            {% block sw_category_detail_product_assignment_type_select_field %}\n            <sw-single-select\n                {% if VUE3 %}\n                v-model:value="category.productAssignmentType"\n                {% else %}\n                v-model="category.productAssignmentType"\n                {% endif %}\n                class="sw-category-detail-products__product-assignment-type-select"\n                :label="$tc(\'sw-category.base.products.productAssignmentTypeLabel\')"\n                :error="categoryProductAssignmentTypeError"\n                :options="productAssignmentTypes"\n                :disabled="!acl.can(\'category.editor\')"\n                required\n                show-clearable-button\n            />\n            {% endblock %}\n\n            \n            {% block sw_category_detail_product_assignment_manual_alert %}\n            <sw-alert\n                v-if="category.productAssignmentType === \'product_stream\' && manualAssignedProductsCount > 0"\n                variant="info"\n            >\n                {{ $tc(\'sw-category.base.products.alertManualAssignedProductsOnAssignmentTypeStream\') }}\n            </sw-alert>\n            {% endblock %}\n        </template>\n        {% endblock %}\n\n        \n        {% block sw_category_detail_product_assignment_stream_select %}\n        <template\n            v-if="category.productAssignmentType === \'product_stream\'"\n            #select\n        >\n\n            \n            {% block sw_category_detail_product_assignment_stream_select_field %}\n            <sw-entity-single-select\n                {% if VUE3 %}\n                v-model:value="category.productStreamId"\n                {% else %}\n                v-model="category.productStreamId"\n                {% endif %}\n                class="sw-category-detail-products__product-stream-select"\n                entity="product_stream"\n                show-clearable-button\n                :disabled="!acl.can(\'category.editor\')"\n                :label="$tc(\'sw-category.base.products.productAssignmentTypeStreamLabel\')"\n                :help-text="dynamicProductGroupHelpText"\n                :placeholder="$tc(\'sw-category.base.products.productAssignmentTypeStreamPlaceholder\')"\n                :error="productStreamInvalidError || categoryProductStreamIdError"\n            />\n            {% endblock %}\n\n            \n            {% block sw_category_detail_product_assignment_stream_preview_link %}\n            <div class="sw-category-detail-products__product-stream-preview-link">\n                <router-link\n                    v-if="category.productStreamId"\n                    :to="{ name: \'sw.product.stream.detail\', params: { id: category.productStreamId } }"\n                >\n                    {{ $tc(\'sw-category.base.products.dynamicProductGroupDetailLinkText\') }}\n                    <sw-icon\n                        name="regular-long-arrow-right"\n                        small\n                    />\n                </router-link>\n            </div>\n            {% endblock %}\n        </template>\n        {% endblock %}\n\n        \n        {% block sw_category_detail_product_assignment_stream_preview_grid %}\n        <template\n            v-if="category.productAssignmentType === \'product_stream\'"\n            #data-grid\n        >\n            <sw-product-stream-grid-preview\n                :filters="productStreamFilter"\n                :columns="productColumns"\n            />\n        </template>\n        {% endblock %}\n\n        \n        {% block sw_category_detail_product_assignment_column_name %}\n        <template #[nameColumn]="{ item, column }">\n            <router-link\n                :to="{ name: column.routerLink, params: { id: item.id } }"\n            >\n                <sw-product-variant-info :variations="item.options">\n                    {{ item.name || item.translated.name }}\n                </sw-product-variant-info>\n            </router-link>\n        </template>\n        {% endblock %}\n\n        \n        {% block sw_category_detail_product_assignment_column_manufacturer %}\n        <template #[manufacturerColumn]="{ item, column }">\n            <router-link\n                v-if="item.manufacturerId"\n                :to="{ name: column.routerLink, params: { id: item.manufacturerId } }"\n            >\n                {{ item.manufacturer.name || item.manufacturer.translated.name }}\n            </router-link>\n            <span v-else></span>\n        </template>\n        {% endblock %}\n\n        \n        {% block sw_category_detail_product_assignment_empty_state %}\n        <template #empty-state>\n            <sw-empty-state\n                :title="$tc(\'sw-category.base.products.productAssignmentEmptyStateDescription\')"\n                :subline="\'\'"\n                auto-height\n            >\n                <template #icon>\n                    <img\n                        :src="\'/administration/static/img/empty-states/products-empty-state.svg\' | asset"\n                        :alt="$tc(\'sw-category.base.products.productAssignmentEmptyStateDescription\')"\n                    >\n                </template>\n            </sw-empty-state>\n        </template>\n        {% endblock %}\n\n    </sw-many-to-many-assignment-card>\n    {% endblock %}\n\n</div>\n{% endblock %}\n',inject:["repositoryFactory","acl"],mixins:["placeholder"],props:{isLoading:{type:Boolean,required:!0}},data:function(){return{productStreamFilter:null,productStreamInvalid:!1,manualAssignedProductsCount:0}},computed:c(c({category:function(){return Shopware.State.get("swCategoryDetail").category},productStreamRepository:function(){return this.repositoryFactory.create("product_stream")},productColumns:function(){return[{property:"name",label:this.$tc("sw-category.base.products.columnNameLabel"),dataIndex:"name",routerLink:"sw.product.detail",sortable:!1},{property:"manufacturer.name",label:this.$tc("sw-category.base.products.columnManufacturerLabel"),routerLink:"sw.manufacturer.detail",sortable:!1}]},manufacturerColumn:function(){return"column-manufacturer.name"},nameColumn:function(){return"column-name"},productCriteria:function(){return new s(1,10).addAssociation("options.group").addAssociation("manufacturer").addFilter(s.equals("parentId",null))},productStreamInvalidError:function(){return this.productStreamInvalid?new l({code:"PRODUCT_STREAM_INVALID",detail:this.$tc("sw-category.base.products.dynamicProductGroupInvalidMessage")}):null}},i("category",["productStreamId","productAssignmentType"])),{},{productAssignmentTypes:function(){return[{value:"product",label:this.$tc("sw-category.base.products.productAssignmentTypeManualLabel")},{value:"product_stream",label:this.$tc("sw-category.base.products.productAssignmentTypeStreamLabel")}]},dynamicProductGroupHelpText:function(){var t=this.$tc("sw-category.base.products.dynamicProductGroupHelpText.label",0,{link:"<sw-internal-link\n                           :router-link=".concat(JSON.stringify({name:"sw.product.stream.index"}),'\n                           :inline="true">\n                           ').concat(this.$tc("sw-category.base.products.dynamicProductGroupHelpText.linkText"),"\n                       </sw-internal-link>")});try{new URL(this.$tc("sw-category.base.products.dynamicProductGroupHelpText.videoUrl"))}catch(e){return t}return"".concat(t,'\n                    <br>\n                    <sw-external-link\n                        href="').concat(this.$tc("sw-category.base.products.dynamicProductGroupHelpText.videoUrl"),'">\n                        ').concat(this.$tc("sw-category.base.products.dynamicProductGroupHelpText.videoLink"),"\n                    </sw-external-link>")}}),watch:{"category.productStreamId":function(t){t?this.loadProductStreamPreview():this.productStreamFilter=null}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.category.productStreamId&&this.loadProductStreamPreview()},loadProductStreamPreview:function(){var t=this;this.productStreamRepository.get(this.category.productStreamId).then((function(e){t.productStreamFilter=e.apiFilter,t.productStreamInvalid=e.invalid})).catch((function(){t.productStreamFilter=null,t.productStreamInvalid=!0}))},onPaginateManualProductAssignment:function(t){this.manualAssignedProductsCount=t.total}}}},nXNo:function(t,e,n){}}]);