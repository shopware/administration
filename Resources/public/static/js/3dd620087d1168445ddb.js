(window.webpackJsonpAdministration=window.webpackJsonpAdministration||[]).push([[98485],{767722:function(){},598485:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return a}});var l=t(796701);t(373255);let{Mixin:n,Filter:s}=Shopware;var a={template:'\n{% block sw_cms_element_image_gallery %}\n<div\n    class="sw-cms-el-image-gallery"\n    :class="[galleryPositionClass, currentDeviceViewClass]"\n    :style="verticalAlignStyle"\n>\n\n    \n    {% block sw_cms_element_image_gallery_grid %}\n    <div\n        ref="galleryItemHolder"\n        class="sw-cms-el-image-gallery__grid"\n    >\n\n        <template v-if="mediaUrls && mediaUrls.length">\n            <div class="sw-cms-el-image-gallery__item-holder">\n                \n                {% block sw_cms_element_image_gallery_selection %}\n                <template\n                    v-for="(sliderItem, index) in mediaUrls"\n                    :key="index"\n                >\n                    <sw-media-list-selection-item-v2\n                        v-if="index < galleryLimit"\n                        :item="sliderItem.media"\n                        :class="activeMediaClass(sliderItem.media)"\n                        hide-actions\n                        hide-tooltip\n                        @click="onChangeGalleryImage(sliderItem.media, index)"\n                    />\n                </template>\n                {% endblock %}\n            </div>\n        </template>\n\n        <template v-else>\n            \n            {% block sw_cms_element_image_gallery_empty %}\n            <div class="sw-cms-el-image-gallery__item-holder">\n                <img\n                    v-for="mediaItem in getPlaceholderItems()"\n                    :key="mediaItem.url"\n                    class="sw-cms-el-image-gallery__item-placeholder"\n                    :src="mediaItem.url"\n                    alt=""\n                >\n            </div>\n            {% endblock %}\n        </template>\n\n        \n        {% block sw_cms_element_image_gallery_nav_arrow %}\n        <div\n            v-if="element.config.sliderItems.value.length > galleryLimit"\n            class="sw-cms-el-image-gallery__grid-arrow"\n        >\n            <sw-icon\n                name="regular-chevron-down"\n                size="20"\n            />\n        </div>\n        {% endblock %}\n    </div>\n    {% endblock %}\n\n    \n    {% block sw_cms_element_image_gallery_slider %}\n    <sw-cms-el-image-slider\n        :element="element"\n        :active-media="activeMedia"\n        @active-image-change="onChangeGalleryImage"\n    />\n    {% endblock %}\n</div>\n{% endblock %}\n',compatConfig:Shopware.compatConfig,mixins:[n.getByName("cms-element")],data(){return{galleryLimit:3,activeMedia:null}},computed:{currentDeviceView(){return this.cmsPageState.currentCmsDeviceView},galleryPositionClass(){return`is--preview-${this.element.config.galleryPosition.value}`},currentDeviceViewClass(){return this.currentDeviceView?`is--${this.currentDeviceView}`:null},verticalAlignStyle(){return this.element.config.verticalAlign.value?`align-content: ${this.element.config.verticalAlign.value};`:null},mediaUrls(){let e=this.element?.config;return e&&"default"!==e.source?"mapped"===e.source?this.getDemoValue(e.sliderItems.value)||[]:this.element?.data?.sliderItems||[]:[]},isProductPage(){return(this.cmsPageState?.currentPage?.type??"")==="product_detail"},assetFilter(){return s.getByName("asset")}},watch:{currentDeviceView(){"mobile"===this.currentDeviceView&&(this.galleryLimit=0),setTimeout(()=>{this.setGalleryLimit()},400)},"element.config.galleryPosition.value":{deep:!0,handler(){this.$nextTick(()=>{this.setGalleryLimit()})}},"element.config.sliderItems.value":{handler(e){if(!e){this.element.config.sliderItems.value=[];return}this.$nextTick(()=>{this.setGalleryLimit()})}}},created(){this.createdComponent()},mounted(){this.mountedComponent()},methods:{createdComponent(){this.initElementConfig("image-gallery"),this.initElementData("image-gallery"),!this.isProductPage||this.element?.translated?.config?.sliderItems||this.element?.data?.sliderItems||(this.element.config.sliderItems.source="mapped",this.element.config.sliderItems.value="product.media",this.element.config.navigationDots.value="inside",this.element.config.zoom.value=!0,this.element.config.fullScreen.value=!0,this.element.config.displayMode.value="contain",this.element.config.minHeight.value="430px")},mountedComponent(){this.setGalleryLimit()},getPlaceholderItems(){if(this.element?.config?.source!=="default"){let e=l.Z.MEDIA.previewMountain.slice(l.Z.MEDIA.previewMountain.lastIndexOf("/")+1),i=l.Z.MEDIA.previewGlasses.slice(l.Z.MEDIA.previewGlasses.lastIndexOf("/")+1),t=l.Z.MEDIA.previewPlant.slice(l.Z.MEDIA.previewPlant.lastIndexOf("/")+1);return[{url:this.assetFilter(`administration/static/img/cms/${e}`)},{url:this.assetFilter(`administration/static/img/cms/${i}`)},{url:this.assetFilter(`administration/static/img/cms/${t}`)}]}return this.element.config.sliderItems.value.map(e=>{let i=e.fileName.slice(e.fileName.lastIndexOf("/")+1);return{url:this.assetFilter(`/administration/static/img/cms/${i}`)}})},onChangeGalleryImage(e,i=0){e.sliderIndex=i,this.activeMedia=e},activeMediaClass(e){return this.activeMedia?{"is--active":e.id===this.activeMedia.id}:null},setGalleryLimit(){if(0===this.element.config.sliderItems.value.length)return;let e=0,i=0;"underneath"===this.element.config.galleryPosition.value?(e=this.$refs.galleryItemHolder.offsetWidth-36,i=92):(e=this.$refs.galleryItemHolder.offsetHeight,i=64),this.galleryLimit=Math.floor(e/(i+8))}}}},373255:function(e,i,t){var l=t(767722);l.__esModule&&(l=l.default),"string"==typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals),t(745346).Z("145804b6",l,!0,{})}}]);