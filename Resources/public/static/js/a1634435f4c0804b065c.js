(this.webpackJsonpAdministration=this.webpackJsonpAdministration||[]).push([[600],{OkIY:function(n,e,t){"use strict";t.r(e);var r=t("J58c"),o=t.n(r);function c(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}var i=Shopware.Mixin,s=Shopware.Data.Criteria,u=Shopware.Component.getComponentHelper().mapPropertyErrors;e.default={template:'\n{% block sw_settings_currency_country_modal %}\n<sw-modal\n    class="sw-settings-currency-country-modal"\n    :title="$tc(\'sw-settings-currency.currency-country-modal.titleNewCurrencyCountry\')"\n    @modal-close="onCancel"\n>\n    \n    {% block sw_settings_currency_country_modal_country_select %}\n    <sw-entity-single-select\n        v-model="currencyCountryRounding.countryId"\n        required\n        show-clearable-button\n        class="sw-settings-currency-country-modal__select-country"\n        :label="$tc(\'sw-settings-currency.currency-country-modal.labelCountrySelect\')"\n        entity="country"\n        :criteria="countryCriteria"\n        :error="currencyCountryRoundingCountryIdError"\n    >\n        <template #result-item="{ item, index, labelProperty, searchTerm, highlightSearchTerm, isSelected, setValue, getKey }">\n            <li\n                is="sw-select-result"\n                v-tooltip="{\n                    showDelay: 300,\n                    showOnDisabledElements: true,\n                    message: $tc(\'sw-settings-currency.currency-country-modal.countryAlreadyAssigned\'),\n                    disabled: !shouldDisableCountry(item)\n                }"\n                :selected="isSelected(item)"\n                :disabled="shouldDisableCountry(item)"\n                v-bind="{ item, index }"\n                @item-select="setValue"\n            >\n                <slot\n                    name="result-label-property"\n                    v-bind="{ item, index, labelProperty, searchTerm, highlightSearchTerm, getKey }"\n                >\n                    <sw-highlight-text\n                        v-if="highlightSearchTerm"\n                        :text="getKey(item, labelProperty) || getKey(item, `translated.${labelProperty}`)"\n                        :search-term="searchTerm"\n                    />\n                    <template v-else>\n                        {{ getKey(item, labelProperty) || getKey(item, `translated.${labelProperty}`) }}\n                    </template>\n                </slot>\n            </li>\n        </template>\n    </sw-entity-single-select>\n    {% endblock %}\n\n    \n    {% block sw_settings_currency_country_modal_price_rounding %}\n    <sw-settings-price-rounding\n        :item-rounding="currencyCountryRounding.itemRounding"\n        :total-rounding="currencyCountryRounding.totalRounding"\n    />\n    {% endblock %}\n\n    \n    {% block sw_settings_currency_country_modal_footer %}\n    <template #modal-footer>\n        \n        {% block sw_settings_currency_country_modal_footer_cancel %}\n        <sw-button\n            size="small"\n            @click="onCancel"\n        >\n            {{ $tc(\'global.default.cancel\') }}\n        </sw-button>\n        {% endblock %}\n\n        \n        {% block sw_settings_currency_country_modal_footer_save %}\n        <sw-button\n            variant="primary"\n            size="small"\n            class="sw-settings-currency-country-modal__button-save"\n            @click="onSave"\n        >\n            {{ $tc(\'global.default.save\') }}\n        </sw-button>\n        {% endblock %}\n    </template>\n    {% endblock %}\n</sw-modal>\n{% endblock %}\n',inject:["repositoryFactory"],mixins:[i.getByName("notification")],props:{currencyCountryRounding:{type:Object,required:!0}},data:function(){return{assignedCountryIds:[]}},computed:function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?c(Object(t),!0).forEach((function(e){o()(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}({countryCriteria:function(){var n=new s(1,25);return n.addSorting(s.sort("name","ASC")),n},countryRepository:function(){return this.repositoryFactory.create("country")},assignedCountriesCriteria:function(){var n=new s(1,500);return n.addAssociation("currencyCountryRoundings"),n.addFilter(s.equals("currencyCountryRoundings.currencyId",this.currencyCountryRounding.currencyId)),n}},u("currencyCountryRounding",["countryId"])),created:function(){this.createdComponent()},methods:{createdComponent:function(){var n=this;this.countryRepository.searchIds(this.assignedCountriesCriteria,Shopware.Context.api).then((function(e){n.assignedCountryIds=e.data}))},onCancel:function(){this.$emit("edit-cancel")},onSave:function(){this.$emit("save")},shouldDisableCountry:function(n){return this.currencyCountryRounding.countryId!==n.id&&this.assignedCountryIds.includes(n.id)}}}}}]);