(this.webpackJsonpAdministration=this.webpackJsonpAdministration||[]).push([[269],{"83RZ":function(e,t,i){},o6zT:function(e,t,i){var o=i("83RZ");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,i("ydqr").default)("38f81ba4",o,!0,{})},sAsa:function(e,t,i){"use strict";i.r(t);i("o6zT");var o=Shopware.Mixin;t.default={template:'\n{% block sw_import_export_new_profile_wizard_csv_page %}\n<div class="sw-import-export-new-profile-wizard-csv-page">\n    \n    {% block sw_import_export_new_profile_wizard_csv_page_text %}\n    <p class="sw-import-export-new-profile-wizard-csv-page__text">\n        {{ $tc(\'sw-import-export.profile.csvUploadText\') }}\n    </p>\n    {% endblock %}\n\n    \n    {% block sw_import_export_new_profile_wizard_csv_page_csv_upload %}\n    <sw-file-input\n        v-model="csvFile"\n        :allowed-mime-types="[\'text/csv\']"\n        class="sw-import-export-new-profile-wizard-csv-page__file-upload"\n        @change="onFileChange"\n    >\n        <template #caption-label>\n            {{ $tc(\'sw-import-export.importer.labelUploadCaption\') }}\n        </template>\n    </sw-file-input>\n    {% endblock %}\n</div>\n{% endblock %}\n',inject:["repositoryFactory","importExport"],mixins:[o.getByName("notification")],props:{profile:{type:Object,required:!0}},data:function(){return{csvFile:null}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.$emit("next-disable")},onFileChange:function(){var e=this;return null===this.csvFile?(this.profile.mapping=[],this.$emit("next-disable"),Promise.resolve()):this.importExport.getMappingFromTemplate(this.csvFile,this.profile.sourceEntity,this.profile.delimiter,this.profile.enclosure).then((function(t){var i=e.transformMapping(t);e.$set(e.profile,"mapping",i),e.$emit("next-allow"),1===i.length&&e.createNotificationWarning({message:e.$tc("sw-import-export.profile.messageCsvTemplateUploadWarning"),duration:1e4})})).catch((function(t){var i,o,n,r;e.profile.mapping=[],e.$emit("next-disable");var p=e.$tc("sw-import-export.profile.messageCsvTemplateUploadError");"CONTENT__IMPORT_EXPORT_FILE_EMPTY"===(null===(i=t.response)||void 0===i||null===(o=i.data)||void 0===o||null===(n=o.errors)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.code)&&(p=e.$tc("sw-import-export.profile.messageCsvTemplateUploadEmptyError")),e.createNotificationError({message:p})}))},transformMapping:function(e){return e.map((function(e){return{key:e.key,mappedKey:e.mappedKey}}))}}}}}]);