{"version":3,"sources":["webpack:///./src/module/sw-sales-channel/component/sw-sales-channel-products-assignment-modal/sw-sales-channel-products-assignment-modal.scss","webpack:///./src/module/sw-sales-channel/component/sw-sales-channel-products-assignment-modal/index.js","webpack:///./src/module/sw-sales-channel/component/sw-sales-channel-products-assignment-modal/sw-sales-channel-products-assignment-modal.html.twig"],"names":["content","__esModule","default","module","i","locals","exports","add","uniqBy","Shopware","Utils","array","updateElementVisibility","element","binding","style","visibility","value","position","top","left","bottom","right","transform","template","directives","hide","bind","update","props","salesChannel","type","Object","required","isAssignProductLoading","Boolean","data","singleProducts","categoryProducts","groupProducts","isProductLoading","tabContentHeight","productContainerStyle","display","placeItems","categoryContainerStyle","productGroupContainerStyle","computed","productCount","this","products","length","concat","_toConsumableArray","mounted","mountedComponent","methods","getProductContainerStyle","getCategoryContainerStyle","getProductGroupContainerStyle","_this$$refs$product$$","_this$$refs$product$$2","cardSectionSecondaryHeight","$refs","product","cardSectionSecondary","$el","offsetHeight","$set","_this$$refs$category$","_this$$refs$category$2","_this$$refs$category$3","_this$$refs$category$4","alertHeight","category","alert","_this$$refs$productGr","_this$$refs$productGr2","_this$$refs$productGr3","_this$$refs$productGr4","productGroup","onChangeSelection","onCloseModal","$emit","onAddProducts","setProductLoading"],"mappings":"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","file":"static/js/9dfe8f6ea03087826314.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--15-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--15-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--15-3!./sw-sales-channel-products-assignment-modal.scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"e2938aca\", content, true, {});","/**\n * @package buyers-experience\n */\n\nimport template from './sw-sales-channel-products-assignment-modal.html.twig';\nimport './sw-sales-channel-products-assignment-modal.scss';\n\nconst { uniqBy } = Shopware.Utils.array;\n\nconst updateElementVisibility = (element, binding) => {\n    element.style.visibility = (binding.value) ? 'visible' : 'hidden';\n    element.style.position = (binding.value) ? 'static' : 'absolute';\n    element.style.top = (binding.value) ? 'auto' : '0';\n    element.style.left = (binding.value) ? 'auto' : '0';\n    element.style.bottom = (binding.value) ? 'auto' : '0';\n    element.style.right = (binding.value) ? 'auto' : '0';\n    element.style.transform = (binding.value) ? 'translateX(0)' : 'translateX(100%)';\n};\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    directives: {\n        hide: {\n            bind: updateElementVisibility,\n            update: updateElementVisibility,\n        },\n    },\n\n    props: {\n        salesChannel: {\n            type: Object,\n            required: true,\n        },\n\n        isAssignProductLoading: {\n            type: Boolean,\n            required: true,\n        },\n    },\n\n    data() {\n        return {\n            singleProducts: [],\n            categoryProducts: [],\n            groupProducts: [],\n            isProductLoading: false,\n            tabContentHeight: '600px',\n            productContainerStyle: {\n                display: 'grid',\n                placeItems: 'stretch',\n            },\n            categoryContainerStyle: {\n                display: 'grid',\n                placeItems: 'stretch',\n            },\n            productGroupContainerStyle: {\n                display: 'grid',\n                placeItems: 'stretch',\n            },\n        };\n    },\n\n    computed: {\n        productCount() {\n            return this.products.length;\n        },\n\n        products() {\n            return uniqBy([...this.singleProducts, ...this.categoryProducts, ...this.groupProducts], 'id');\n        },\n    },\n\n    mounted() {\n        this.mountedComponent();\n    },\n\n    methods: {\n        mountedComponent() {\n            this.getProductContainerStyle();\n            this.getCategoryContainerStyle();\n            this.getProductGroupContainerStyle();\n        },\n\n        getProductContainerStyle() {\n            const cardSectionSecondaryHeight = `${this.$refs.product.$refs?.cardSectionSecondary?.$el.offsetHeight}px`;\n\n            this.$set(this.productContainerStyle, 'grid-template-rows', `auto calc(\n                ${this.tabContentHeight} - ${cardSectionSecondaryHeight}\n            )`);\n        },\n\n        getCategoryContainerStyle() {\n            const tabContentGutter = '20px';\n            const alertHeight = `${this.$refs.category.$refs?.alert?.$el.offsetHeight}px`;\n            const cardSectionSecondaryHeight = `${this.$refs.category.$refs?.cardSectionSecondary?.$el.offsetHeight}px`;\n\n            this.$set(this.categoryContainerStyle, 'grid-template-rows', `auto calc(\n                ${this.tabContentHeight} - (${tabContentGutter} + ${alertHeight} + ${cardSectionSecondaryHeight})\n            )`);\n        },\n\n        getProductGroupContainerStyle() {\n            const tabContentGutter = '20px';\n            const alertHeight = `${this.$refs.productGroup.$refs?.alert?.$el.offsetHeight}px`;\n            const cardSectionSecondaryHeight = `${this.$refs.productGroup.$refs?.cardSectionSecondary?.$el.offsetHeight}px`;\n\n            this.$set(this.productGroupContainerStyle, 'grid-template-rows', `auto calc(\n                ${this.tabContentHeight} - (${tabContentGutter} + ${alertHeight} + ${cardSectionSecondaryHeight})\n            )`);\n        },\n\n        onChangeSelection(products, type) {\n            this[type] = products;\n        },\n\n        onCloseModal() {\n            this.$emit('modal-close');\n        },\n\n        onAddProducts() {\n            this.$emit('products-add', this.products);\n        },\n\n        setProductLoading(isProductLoading) {\n            this.isProductLoading = isProductLoading;\n        },\n    },\n};\n","export default \"\\n{% block sw_sales_channel_products_assignment_modal %}\\n<sw-modal\\n    class=\\\"sw-sales-channel-products-assignment-modal\\\"\\n    :title=\\\"$tc('sw-sales-channel.detail.productAssignmentModal.title')\\\"\\n    @modal-close=\\\"onCloseModal\\\"\\n>\\n    <template #default>\\n        \\n        {% block sw_sales_channel_products_assignment_modal_tabs %}\\n        <sw-tabs\\n            class=\\\"sw-sales-channel-products-assignment-modal__tabs\\\"\\n            position-identifier=\\\"sw-sales-channel-products-assignment-modal\\\"\\n            default-item=\\\"singleProducts\\\"\\n        >\\n            <template #default=\\\"{ active }\\\">\\n                \\n                {% block sw_sales_channel_products_assignment_modal_tabs_single_products %}\\n                <sw-tabs-item\\n                    name=\\\"singleProducts\\\"\\n                    :title=\\\"$tc('sw-sales-channel.detail.productAssignmentModal.singleProducts')\\\"\\n                    :active-tab=\\\"active\\\"\\n                >\\n                    {{ $tc('sw-sales-channel.detail.productAssignmentModal.singleProducts') }}\\n                </sw-tabs-item>\\n                {% endblock %}\\n\\n                \\n                {% block sw_sales_channel_products_assignment_modal_tabs_categories %}\\n                <sw-tabs-item\\n                    name=\\\"categories\\\"\\n                    :title=\\\"$tc('sw-sales-channel.detail.productAssignmentModal.categories.title')\\\"\\n                    :active-tab=\\\"active\\\"\\n                >\\n                    {{ $tc('sw-sales-channel.detail.productAssignmentModal.categories.title') }}\\n                </sw-tabs-item>\\n                {% endblock %}\\n\\n                \\n                {% block sw_sales_channel_products_assignment_modal_tab_dynamic_product_groups %}\\n                <sw-tabs-item\\n                    name=\\\"dynamicProductGroups\\\"\\n                    :title=\\\"$tc('sw-sales-channel.detail.productAssignmentModal.dynamicProductGroups.title')\\\"\\n                    :active-tab=\\\"active\\\"\\n                >\\n                    {{ $tc('sw-sales-channel.detail.productAssignmentModal.dynamicProductGroups.title') }}\\n                </sw-tabs-item>\\n                {% endblock %}\\n            </template>\\n\\n            <template #content=\\\"{ active }\\\">\\n                <div\\n                    class=\\\"sw-sales-channel-products-assignment-modal__content\\\"\\n                    :height=\\\"tabContentHeight\\\"\\n                >\\n                    \\n                    {% block sw_sales_channel_products_assignment_modal_tab_content_single_products %}\\n                    <sw-sales-channel-products-assignment-single-products\\n                        ref=\\\"product\\\"\\n                        v-hide=\\\"active === 'singleProducts'\\\"\\n                        :sales-channel=\\\"salesChannel\\\"\\n                        :container-style=\\\"productContainerStyle\\\"\\n                        @selection-change=\\\"onChangeSelection\\\"\\n                    />\\n                    {% endblock %}\\n\\n                    \\n                    {% block sw_sales_channel_products_assignment_modal_tab_content_categories %}\\n                    <sw-sales-channel-product-assignment-categories\\n                        ref=\\\"category\\\"\\n                        v-hide=\\\"active === 'categories'\\\"\\n                        :sales-channel=\\\"salesChannel\\\"\\n                        :container-style=\\\"categoryContainerStyle\\\"\\n                        @selection-change=\\\"onChangeSelection\\\"\\n                        @product-loading=\\\"setProductLoading\\\"\\n                    />\\n                    {% endblock %}\\n\\n                    \\n                    {% block sw_sales_channel_products_assignment_modal_tab_content_dynamic_product_groups %}\\n                    <sw-sales-channel-products-assignment-dynamic-product-groups\\n                        ref=\\\"productGroup\\\"\\n                        v-hide=\\\"active === 'dynamicProductGroups'\\\"\\n                        :sales-channel=\\\"salesChannel\\\"\\n                        :container-style=\\\"productGroupContainerStyle\\\"\\n                        @selection-change=\\\"onChangeSelection\\\"\\n                        @product-loading=\\\"setProductLoading\\\"\\n                    />\\n                    {% endblock %}\\n                </div>\\n            </template>\\n        </sw-tabs>\\n        {% endblock %}\\n    </template>\\n\\n    <template #modal-footer>\\n        \\n        {% block sw_sales_channel_products_assignment_modal_footer_cancel %}\\n        <sw-button\\n            size=\\\"small\\\"\\n            @click=\\\"onCloseModal\\\"\\n        >\\n            {{ $tc('global.default.cancel') }}\\n        </sw-button>\\n        {% endblock %}\\n\\n        \\n        {% block sw_sales_channel_products_assignment_modal_footer_submit %}\\n        <sw-button\\n            size=\\\"small\\\"\\n            variant=\\\"primary\\\"\\n            :is-loading=\\\"isAssignProductLoading || isProductLoading\\\"\\n            @click=\\\"onAddProducts\\\"\\n        >\\n            {{ $tc('sw-sales-channel.detail.products.buttonAddProducts', productCount, { productCount: productCount }) }}\\n        </sw-button>\\n        {% endblock %}\\n    </template>\\n</sw-modal>\\n{% endblock %}\\n\";"],"sourceRoot":""}