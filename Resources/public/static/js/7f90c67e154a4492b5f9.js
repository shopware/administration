(this.webpackJsonpAdministration=this.webpackJsonpAdministration||[]).push([[61],{ZcWy:function(e,n,t){var a=t("mZfw");a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,t("ydqr").default)("899bfe80",a,!0,{})},"feJ/":function(e,n,t){"use strict";t.r(n);t("ZcWy");var a=Shopware.Data.Criteria;n.default={template:'{%  block sw_category_link_settings %}\n<sw-card\n    class="sw-category-link-settings"\n    position-identifier="sw-category-link-settings"\n    :title="$tc(\'sw-category.base.link.title\')"\n    :is-loading="isLoading"\n>\n    \n    {% block sw_category_detail_link_type_select_main %}\n    <sw-single-select\n        v-model="mainType"\n        class="sw-category-link-settings__type"\n        :disabled="!acl.can(\'category.editor\')"\n        :label="$tc(\'sw-category.base.link.mainTypeLabel\')"\n        :placeholder="$tc(\'sw-category.base.link.mainTypePlaceholder\')"\n        :options="linkTypeValues"\n        show-clearable-button\n    />\n    {% endblock %}\n\n    \n    {% block sw_category_detail_link_type_select_entity %}\n    <sw-single-select\n        v-if="isInternal"\n        v-model="category.linkType"\n        class="sw-category-link-settings__entity"\n        :disabled="!acl.can(\'category.editor\')"\n        :label="$tc(\'sw-category.base.link.internalTypeLabel\')"\n        :placeholder="$tc(\'sw-category.base.link.internalTypePlaceholder\')"\n        :options="entityValues"\n        show-clearable-button\n        @change="changeEntity"\n    />\n    {% endblock %}\n\n    \n    {% block sw_category_detail_link_type_select_entity_category %}\n    <template v-if="category.linkType === \'category\'">\n        <sw-category-tree-field\n            :categories-collection="categoriesCollection"\n            :placeholder="categoryLinkPlaceholder"\n            :category-criteria="categoryCriteria"\n            :single-select="true"\n            :label="$tc(\'global.entities.category\')"\n            class="sw-category-link-settings__selection-category"\n            @selection-add="onSelectionAdd"\n            @selection-remove="onSelectionRemove"\n        />\n    </template>\n    {% endblock %}\n\n    \n    {% block sw_category_detail_link_type_select_entity_product %}\n    <sw-entity-single-select\n        v-if="category.linkType === \'product\'"\n        v-model="category.internalLink"\n        class="sw-category-link-settings__selection-product"\n        :disabled="!acl.can(\'category.editor\')"\n        :label="$tc(\'global.entities.product\')"\n        :placeholder="$tc(\'sw-category.base.link.productPlaceholder\')"\n        :criteria="productCriteria"\n        :display-variants="true"\n        entity="product"\n        show-clearable-button\n    />\n    {% endblock %}\n\n    \n    {% block sw_category_detail_link_type_select_entity_landing_page %}\n    <sw-entity-single-select\n        v-if="category.linkType === \'landing_page\'"\n        v-model="category.internalLink"\n        class="sw-category-link-settings__selection-landing-page"\n        :disabled="!acl.can(\'category.editor\')"\n        :label="$tc(\'global.entities.landing_page\')"\n        :placeholder="$tc(\'sw-category.base.link.landingPagePlaceholder\')"\n        entity="landing_page"\n        show-clearable-button\n    />\n    {% endblock %}\n\n    \n    {% block sw_category_detail_link_field %}\n    <sw-text-field\n        v-if="isExternal"\n        v-model="category.externalLink"\n        class="sw-category-link-settings__external-link"\n        :disabled="!acl.can(\'category.editor\')"\n        :label="$tc(\'sw-category.base.link.linkLabel\')"\n        :placeholder="$tc(\'sw-category.base.link.linkLabel\')"\n    />\n    {% endblock %}\n\n    \n    {% block sw_category_detail_link_new_tab %}\n    <sw-switch-field\n        v-model="category.linkNewTab"\n        class="sw-category-link-settings__link-new-tab"\n        :disabled="!acl.can(\'category.editor\')"\n        :label="$tc(\'sw-category.base.link.linkNewTabLabel\')"\n    />\n    {% endblock %}\n</sw-card>\n{%  endblock %}\n',inject:["acl","repositoryFactory"],props:{category:{type:Object,required:!0},isLoading:{type:Boolean,required:!1,default:!1}},data:function(){return{categoriesCollection:[]}},computed:{linkTypeValues:function(){return[{value:"external",label:this.$tc("sw-category.base.link.type.external")},{value:"internal",label:this.$tc("sw-category.base.link.type.internal")}]},entityValues:function(){return[{value:"category",label:this.$tc("global.entities.category")},{value:"product",label:this.$tc("global.entities.product")},{value:"landing_page",label:this.$tc("global.entities.landing_page")}]},mainType:{get:function(){return this.isExternal||!this.category.linkType?this.category.linkType:"internal"},set:function(e){"external"===e?this.category.internalLink=null:this.category.externalLink=null,this.category.linkType=e}},isExternal:function(){return"external"===this.category.linkType},isInternal:function(){return!!this.category.linkType&&"external"!==this.category.linkType},productCriteria:function(){var e=new a(1,25);return e.addAssociation("options.group"),e},categoryCriteria:function(){var e=new a(1,25);return e.addFilter(a.equals("type","page")),e},internalLinkCriteria:function(){var e=new a(1,25);return e.addFilter(a.equals("id",this.category.internalLink)),e},categoryRepository:function(){return this.repositoryFactory.create("category")},categoryLinkPlaceholder:function(){return this.category.internalLink?"":this.$tc("sw-category.base.link.categoryPlaceholder")}},created:function(){this.createdComponent()},methods:{createdComponent:function(){!this.category.linkType&&this.category.externalLink&&(this.category.linkType="external"),this.createCategoryCollection()},changeEntity:function(){this.category.linkType||(this.category.linkType="internal"),this.category.internalLink=null},createCategoryCollection:function(){var e=this;this.categoryRepository.search(this.internalLinkCriteria,Shopware.Context.api).then((function(n){e.categoriesCollection=n}))},onSelectionAdd:function(e){this.category.internalLink=e.id},onSelectionRemove:function(){this.category.internalLink=null}}}},mZfw:function(e,n,t){}}]);