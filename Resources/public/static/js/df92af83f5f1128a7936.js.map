{"version":3,"sources":["webpack:///./src/module/sw-product/component/sw-product-basic-form/sw-product-basic-form.scss","webpack:///./src/module/sw-product/component/sw-product-basic-form/index.js","webpack:///./src/module/sw-product/component/sw-product-basic-form/sw-product-basic-form.html.twig"],"names":["content","__esModule","default","module","i","locals","exports","add","Criteria","Shopware","Data","_Shopware","Context","Mixin","_Shopware$Component$g","Component","getComponentHelper","mapPropertyErrors","mapState","template","inject","mixins","getByName","props","allowEdit","type","Boolean","required","showSettingsInformation","data","productNumberRangeId","computed","_objectSpread","numberRangeRepository","this","repositoryFactory","create","isTitleRequired","State","getters","productNumberRangeLink","name","params","id","productNumberHelpText","$tc","link","concat","JSON","stringify","highlightHelpText","themesLink","snippetLink","key","numberRangeCriteria","criteria","addFilter","equals","created","createdComponent","methods","loadProductNumberRangeId","updateIsTitleRequired","api","languageId","systemLanguageId","getInheritValue","firstKey","secondKey","p","parentProduct","hasOwnProperty","_this","searchIds","then","numberRangeIds"],"mappings":"+HAGA,IAAIA,EAAU,EAAQ,QACnBA,EAAQC,aAAYD,EAAUA,EAAQE,SACnB,iBAAZF,IAAsBA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAC7DA,EAAQK,SAAQF,EAAOG,QAAUN,EAAQK,SAG/BE,EADH,EAAQ,QAAwEL,SACzE,WAAYF,GAAS,EAAM,K,+oBCF5C,IAAQQ,EAAaC,SAASC,KAAtBF,SACRG,EAA2BF,SAAnBG,EAAOD,EAAPC,QAASC,EAAKF,EAALE,MACjBC,EAAwCL,SAASM,UAAUC,qBAAnDC,EAAiBH,EAAjBG,kBAAmBC,EAAQJ,EAARI,SAGZ,WACXC,SCbW,ouLDeXC,OAAQ,CAAC,qBAETC,OAAQ,CACJR,EAAMS,UAAU,gBAGpBC,MAAO,CACHC,UAAW,CACPC,KAAMC,QACNC,UAAU,EAGVzB,SAAS,GAGb0B,wBAAyB,CACrBH,KAAMC,QACNC,UAAU,EAGVzB,SAAS,IAIjB2B,KAAI,WACA,MAAO,CACHC,qBAAsB,OAI9BC,SAAQC,MAAA,GACDd,EAAS,kBAAmB,CAC3B,UACA,gBACA,aAGDD,EAAkB,UAAW,CAC5B,OACA,cACA,gBACA,iBACA,SACA,qBACF,IAEFgB,sBAAqB,WACjB,OAAOC,KAAKC,kBAAkBC,OAAO,iBAGzCC,gBAAe,WACX,OAAO5B,SAAS6B,MAAMC,QAAQ,oCAGlCC,uBAAsB,WAClB,OAAKN,KAAKJ,qBAMH,CACHW,KAAM,kCACNC,OAAQ,CAAEC,GAAIT,KAAKJ,uBAPZ,CACHW,KAAM,mCAUlBG,sBAAqB,WACjB,OAAOV,KAAKW,IAAI,mDAAoD,EAAG,CACnEC,KAAK,8DAADC,OACsBC,KAAKC,UAAUf,KAAKM,wBAAuB,6EAAAO,OAExDb,KAAKW,IAAI,uDAAsD,mDAKpFK,kBAAiB,WAUb,OAAOhB,KAAKW,IAAI,+CAAgD,EAAG,CAC/DM,WAAW,oEAADJ,OACsBC,KAAKC,UAXtB,CACfR,KAAM,2BAUoD,yFAAAM,OAEvCb,KAAKW,IAAI,wDAAuD,sDAEnFO,YAAY,qEAADL,OACsBC,KAAKC,UAZtB,CAChBR,KAAM,6BACNC,OAAQ,CAAEW,IAAK,+BAU6C,2FAAAN,OAExCb,KAAKW,IAAI,0DAAyD,0DAK9FS,oBAAmB,WACf,IAAMC,EAAW,IAAI/C,EAAS,EAAG,IAKjC,OAHA+C,EAASC,UAAUhD,EAASiD,OAAO,qBAAsB,YACzDF,EAASC,UAAUhD,EAASiD,OAAO,UAAU,IAEtCF,KAIfG,QAAO,WACHxB,KAAKyB,oBAGTC,QAAS,CACLD,iBAAgB,WACZzB,KAAK2B,4BAGTC,sBAAqB,WAEjB5B,KAAKG,gBAAkB5B,SAASG,QAAQmD,IAAIC,aAAevD,SAASG,QAAQmD,IAAIE,kBAGpFC,gBAAe,SAACC,EAAUC,GACtB,IAAMC,EAAInC,KAAKoC,cAEf,OAAID,EAAEF,GACKE,EAAEF,GAAUI,eAAeH,GAAaC,EAAEF,GAAUC,GAAaC,EAAEF,GAEvE,MAGXN,yBAAwB,WAAI,IAADW,EAAA,KACvB,OAAOtC,KAAKD,sBAAsBwC,UAAUvC,KAAKoB,oBAAqB1C,EAAQmD,KAAKW,MAAK,SAACC,GACrFH,EAAK1C,qBAAuB6C,EAAe9C,KAAK","file":"static/js/df92af83f5f1128a7936.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--15-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--15-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--15-3!./sw-product-basic-form.scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"d917d598\", content, true, {});","/*\n * @package inventory\n */\n\nimport template from './sw-product-basic-form.html.twig';\nimport './sw-product-basic-form.scss';\n\nconst { Criteria } = Shopware.Data;\nconst { Context, Mixin } = Shopware;\nconst { mapPropertyErrors, mapState } = Shopware.Component.getComponentHelper();\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    inject: ['repositoryFactory'],\n\n    mixins: [\n        Mixin.getByName('placeholder'),\n    ],\n\n    props: {\n        allowEdit: {\n            type: Boolean,\n            required: false,\n            // TODO: Boolean props should only be opt in and therefore default to false\n            // eslint-disable-next-line vue/no-boolean-default\n            default: true,\n        },\n\n        showSettingsInformation: {\n            type: Boolean,\n            required: false,\n            // TODO: Boolean props should only be opt in and therefore default to false\n            // eslint-disable-next-line vue/no-boolean-default\n            default: true,\n        },\n    },\n\n    data() {\n        return {\n            productNumberRangeId: null,\n        };\n    },\n\n    computed: {\n        ...mapState('swProductDetail', [\n            'product',\n            'parentProduct',\n            'loading',\n        ]),\n\n        ...mapPropertyErrors('product', [\n            'name',\n            'description',\n            'productNumber',\n            'manufacturerId',\n            'active',\n            'markAsTopseller',\n        ]),\n\n        numberRangeRepository() {\n            return this.repositoryFactory.create('number_range');\n        },\n\n        isTitleRequired() {\n            return Shopware.State.getters['context/isSystemDefaultLanguage'];\n        },\n\n        productNumberRangeLink() {\n            if (!this.productNumberRangeId) {\n                return {\n                    name: 'sw.settings.number.range.index',\n                };\n            }\n\n            return {\n                name: 'sw.settings.number.range.detail',\n                params: { id: this.productNumberRangeId },\n            };\n        },\n\n        productNumberHelpText() {\n            return this.$tc('sw-product.basicForm.productNumberHelpText.label', 0, {\n                link: `<sw-internal-link\n                           :router-link=${JSON.stringify(this.productNumberRangeLink)}\n                           :inline=\"true\">\n                           ${this.$tc('sw-product.basicForm.productNumberHelpText.linkText')}\n                       </sw-internal-link>`,\n            });\n        },\n\n        highlightHelpText() {\n            const themesLink = {\n                name: 'sw.theme.manager.index',\n            };\n\n            const snippetLink = {\n                name: 'sw.settings.snippet.detail',\n                params: { key: 'listing.boxLabelTopseller' },\n            };\n\n            return this.$tc('sw-product.basicForm.highlightHelpText.label', 0, {\n                themesLink: `<sw-internal-link\n                                 :router-link=${JSON.stringify(themesLink)}\n                                 :inline=\"true\">\n                                 ${this.$tc('sw-product.basicForm.highlightHelpText.themeLinkText')}\n                             </sw-internal-link>`,\n                snippetLink: `<sw-internal-link\n                                  :router-link=${JSON.stringify(snippetLink)}\n                                  :inline=\"true\">\n                                  ${this.$tc('sw-product.basicForm.highlightHelpText.snippetLinkText')}\n                              </sw-internal-link>`,\n            });\n        },\n\n        numberRangeCriteria() {\n            const criteria = new Criteria(1, 25);\n\n            criteria.addFilter(Criteria.equals('type.technicalName', 'product'));\n            criteria.addFilter(Criteria.equals('global', true));\n\n            return criteria;\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.loadProductNumberRangeId();\n        },\n\n        updateIsTitleRequired() {\n            // TODO: Refactor when there is a possibility to check if the title field is inherited\n            this.isTitleRequired = Shopware.Context.api.languageId === Shopware.Context.api.systemLanguageId;\n        },\n\n        getInheritValue(firstKey, secondKey) {\n            const p = this.parentProduct;\n\n            if (p[firstKey]) {\n                return p[firstKey].hasOwnProperty(secondKey) ? p[firstKey][secondKey] : p[firstKey];\n            }\n            return null;\n        },\n\n        loadProductNumberRangeId() {\n            return this.numberRangeRepository.searchIds(this.numberRangeCriteria, Context.api).then((numberRangeIds) => {\n                this.productNumberRangeId = numberRangeIds.data[0];\n            });\n        },\n    },\n};\n","export default \"\\n{% block sw_product_basic_form %}\\n<div class=\\\"product-basic-form\\\">\\n    \\n    {% block sw_product_basic_form_title_field %}\\n    <sw-inherit-wrapper\\n        {% if VUE3 %}\\n        v-model:value=\\\"product.name\\\"\\n        {% else %}\\n        v-model=\\\"product.name\\\"\\n        {% endif %}\\n        :has-parent=\\\"!!parentProduct.id\\\"\\n        :inherited-value=\\\"getInheritValue('translated', 'name')\\\"\\n    >\\n        <template #content=\\\"props\\\">\\n\\n            <sw-text-field\\n                :map-inheritance=\\\"props\\\"\\n                :value=\\\"props.currentValue\\\"\\n                :disabled=\\\"props.isInherited || !allowEdit\\\"\\n                :label=\\\"$tc('sw-product.basicForm.labelTitle')\\\"\\n                :required=\\\"isTitleRequired\\\"\\n                name=\\\"sw-field--product-name\\\"\\n                :error=\\\"productNameError\\\"\\n                :placeholder=\\\"placeholder(product, 'name', $tc('sw-product.basicForm.placeholderName'))\\\"\\n                {% if VUE3 %}\\n                @update:value=\\\"props.updateCurrentValue\\\"\\n                {% else %}\\n                @input=\\\"props.updateCurrentValue\\\"\\n                {% endif %}\\n            />\\n\\n        </template>\\n    </sw-inherit-wrapper>\\n    {% endblock %}\\n\\n    <sw-container\\n        columns=\\\"2fr 1fr\\\"\\n        gap=\\\"0px 30px\\\"\\n    >\\n        \\n        {% block sw_product_basic_form_manufacturer_field %}\\n        <sw-inherit-wrapper\\n            {% if VUE3 %}\\n            v-model:value=\\\"product.manufacturerId\\\"\\n            {% else %}\\n            v-model=\\\"product.manufacturerId\\\"\\n            {% endif %}\\n            :has-parent=\\\"!!parentProduct.id\\\"\\n            :inherited-value=\\\"parentProduct.manufacturerId\\\"\\n            :label=\\\"$tc('sw-product.basicForm.labelManufacturer')\\\"\\n        >\\n            <template #content=\\\"{ currentValue, updateCurrentValue, isInherited }\\\">\\n\\n                <sw-entity-single-select\\n                    id=\\\"manufacturerId\\\"\\n                    :key=\\\"isInherited\\\"\\n                    :value=\\\"currentValue\\\"\\n                    entity=\\\"product_manufacturer\\\"\\n                    :disabled=\\\"isInherited || !allowEdit\\\"\\n                    class=\\\"sw-select-product__select_manufacturer\\\"\\n                    :error=\\\"productManufacturerIdError\\\"\\n                    :placeholder=\\\"$tc('sw-product.basicForm.placeholderManufacturer')\\\"\\n                    show-clearable-button\\n                    allow-entity-creation\\n                    :entity-creation-label=\\\"$tc('sw-product.basicForm.labelManufacturerCreation')\\\"\\n                    {% if VUE3 %}\\n                    @update:value=\\\"updateCurrentValue\\\"\\n                    {% else %}\\n                    @change=\\\"updateCurrentValue\\\"\\n                    {% endif %}\\n                />\\n\\n            </template>\\n        </sw-inherit-wrapper>\\n        {% endblock %}\\n\\n        \\n        {% block sw_product_basic_form_id_field %}\\n        <sw-text-field\\n            {% if VUE3 %}\\n            v-model:value=\\\"product.productNumber\\\"\\n            {% else %}\\n            v-model=\\\"product.productNumber\\\"\\n            {% endif %}\\n            :error=\\\"productProductNumberError\\\"\\n            :disabled=\\\"!allowEdit\\\"\\n            :label=\\\"$tc('sw-product.basicForm.labelProductNumber')\\\"\\n            :help-text=\\\"productNumberHelpText\\\"\\n        />\\n        {% endblock %}\\n    </sw-container>\\n\\n    \\n    {% block sw_product_basic_form_description_field %}\\n    <sw-inherit-wrapper\\n        {% if VUE3 %}\\n        v-model:value=\\\"product.description\\\"\\n        {% else %}\\n        v-model=\\\"product.description\\\"\\n        {% endif %}\\n        class=\\\"sw-product-basic-form__inheritance-wrapper-description\\\"\\n        :has-parent=\\\"!!parentProduct.id\\\"\\n        :inherited-value=\\\"getInheritValue('translated', 'description')\\\"\\n        :label=\\\"$tc('sw-product.basicForm.labelDescription')\\\"\\n    >\\n        <template #content=\\\"{ currentValue, updateCurrentValue, isInherited }\\\">\\n\\n            <sw-text-editor\\n                :key=\\\"isInherited\\\"\\n                :placeholder=\\\"placeholder(product, 'description', $tc('sw-product.basicForm.placeholderDescriptionLong'))\\\"\\n                :error=\\\"productDescriptionError\\\"\\n                :disabled=\\\"isInherited || !allowEdit\\\"\\n                :value=\\\"currentValue\\\"\\n                sanitize-input\\n                sanitize-field-name=\\\"product_translation.description\\\"\\n                @input=\\\"updateCurrentValue\\\"\\n            />\\n\\n        </template>\\n    </sw-inherit-wrapper>\\n    {% endblock %}\\n\\n    <div class=\\\"product-basic-form__switches\\\">\\n\\n        \\n        {% block sw_product_settings_form_mark_as_topseller_field %}\\n        <sw-inherit-wrapper\\n            v-show=\\\"showSettingsInformation\\\"\\n            {% if VUE3 %}\\n            v-model:value=\\\"product.markAsTopseller\\\"\\n            {% else %}\\n            v-model=\\\"product.markAsTopseller\\\"\\n            {% endif %}\\n            class=\\\"sw-product-basic-form__promotion-switch\\\"\\n            :has-parent=\\\"!!parentProduct.id\\\"\\n            :inherited-value=\\\"parentProduct.markAsTopseller\\\"\\n        >\\n            <template #content=\\\"props\\\">\\n\\n                <sw-switch-field\\n                    :error=\\\"productMarkAsTopsellerError\\\"\\n                    :map-inheritance=\\\"props\\\"\\n                    :help-text=\\\"highlightHelpText\\\"\\n                    :label=\\\"$tc('sw-product.settingsForm.labelMarkAsTopseller')\\\"\\n                    :disabled=\\\"props.isInherited || !allowEdit\\\"\\n                    :value=\\\"props.currentValue\\\"\\n                    {% if VUE3 %}\\n                    @update:value=\\\"props.updateCurrentValue\\\"\\n                    {% else %}\\n                    @change=\\\"props.updateCurrentValue\\\"\\n                    {% endif %}\\n                />\\n\\n            </template>\\n        </sw-inherit-wrapper>\\n        {% endblock %}\\n    </div>\\n</div>\\n{% endblock %}\\n\";"],"sourceRoot":""}