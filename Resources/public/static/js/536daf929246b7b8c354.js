(window.webpackJsonpAdministration=window.webpackJsonpAdministration||[]).push([[89059],{761910:function(){},189059:function(s,e,n){"use strict";n.r(e),n.d(e,{default:function(){return c}});var t=n(678042),a=n(496486);n(327266);let{cloneDeep:o}=Shopware.Utils.object,{Criteria:i}=Shopware.Data;var c=Shopware.Component.wrapComponentConfig({template:'\n{% block sw_cms_layout_assignment_modal %}\n<sw-modal\n    :title="$tc(\'sw-cms.detail.sidebar.titleLayoutAssignment\')"\n    class="sw-cms-layout-assignment-modal"\n    @modal-close="onAbort"\n>\n\n    \n    {% block sw_cms_layout_assignment_modal_loader %}\n    <sw-loader\n        v-if="isLoading"\n        class="sw-cms-layout-assignment-modal__loader"\n    />\n    {% endblock %}\n\n    \n    {% block sw_cms_layout_assignment_modal_info_text_general %}\n    <p\n        v-if="page.type !== \'page\' && page.type !== \'product_detail\'"\n        class="sw-cms-layout-assignment-modal__info-text"\n    >\n        {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.infoText\') }}\n    </p>\n    {% endblock %}\n\n    \n    {% block sw_cms_layout_assignment_modal_info_text_shop_pages %}\n    <p\n        v-if="page.type === \'page\'"\n        class="sw-cms-layout-assignment-modal__info-text"\n    >\n        {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.infoTextShopPages\') }}\n    </p>\n    {% endblock %}\n\n    \n    {% block sw_cms_layout_assignment_modal_info_text_product_detail_pages %}\n    <p\n        v-if="page.type === \'product_detail\'"\n        class="sw-cms-layout-assignment-modal__info-text"\n    >\n        {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.infoTextProductDetailPages\') }}\n    </p>\n    {% endblock %}\n\n    \n    {% block sw_cms_layout_assignment_modal_tabs %}\n    <sw-tabs\n        position-identifier="sw-cms-layout-assignment-modal"\n        class="sw-cms-layout-assignment-modal__tabs"\n        default-item="categories"\n    >\n\n        <template #default="{ active }">\n            \n            {% block sw_cms_layout_assignment_modal_tab_categories %}\n            <sw-tabs-item\n                v-if="page.type === \'page\' || page.type === \'landingpage\'"\n                :active-tab="active"\n                :title="$tc(\'sw-cms.components.cmsLayoutAssignmentModal.tabCategories\')"\n                class="sw-cms-layout-assignment-modal__tab-categories"\n                name="categories"\n            >\n                {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.tabCategories\') }}\n            </sw-tabs-item>\n            {% endblock %}\n\n            \n            {% block sw_cms_layout_assignment_modal_tab_shop_pages %}\n            <sw-tabs-item\n                v-if="page.type === \'page\'"\n                v-tooltip="{\n                    message: $tc(\'sw-privileges.tooltip.warning\'),\n                    showOnDisabledElements: true,\n                    disabled: acl.can(\'system.system_config\')\n                }"\n                :active-tab="active"\n                :title="$tc(\'sw-cms.components.cmsLayoutAssignmentModal.tabShopPages\')"\n                :disabled="!acl.can(\'system.system_config\')"\n                class="sw-cms-layout-assignment-modal__tab-shop-pages"\n                name="shop_pages"\n            >\n                {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.tabShopPages\') }}\n            </sw-tabs-item>\n            {% endblock %}\n\n            \n            {% block sw_cms_layout_assignment_modal_tab_landing_pages %}\n            <sw-tabs-item\n                v-if="page.type === \'landingpage\'"\n                v-tooltip="{\n                    message: $tc(\'sw-privileges.tooltip.warning\'),\n                    showOnDisabledElements: true,\n                    disabled: acl.can(\'system.system_config\')\n                }"\n                :active-tab="active"\n                :title="$tc(\'sw-cms.components.cmsLayoutAssignmentModal.tabLandingPages\')"\n                :disabled="!acl.can(\'system.system_config\')"\n                class="sw-cms-layout-assignment-modal__tab-landing-pages"\n                name="landing_pages"\n            >\n                {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.tabLandingPages\') }}\n            </sw-tabs-item>\n            {% endblock %}\n        </template>\n\n        <template #content="{ active }">\n            \n            {% block sw_cms_layout_assignment_modal_landing_page_select %}\n            <template v-if="active === \'landing_pages\'">\n\n                \n                {% block sw_cms_layout_assignment_modal_landing_page_select_field %}\n                <sw-entity-multi-select\n                    v-model:entityCollection="page.landingPages"\n                    class="sw-cms-layout-assignment-modal__landing-page-select"\n                    :label="$tc(\'global.entities.landing_page\')"\n                    :placeholder="$tc(\'sw-cms.components.cmsLayoutAssignmentModal.placeholderLandingPages\')"\n                    entity-name="landing_page"\n                />\n                {% endblock %}\n            </template>\n            {% endblock %}\n\n            \n            {% block sw_cms_layout_assignment_modal_category_select %}\n            <template v-if="!isProductDetailPage && active === \'categories\'">\n\n                \n                {% block sw_cms_layout_assignment_modal_category_select_field %}\n                <sw-category-tree-field\n                    key="categorySelect"\n                    :categories-collection="page.categories"\n                    :label="$tc(\'sw-cms.components.cmsLayoutAssignmentModal.labelCategories\')"\n                    :placeholder="$tc(\'sw-cms.components.cmsLayoutAssignmentModal.placeholderCategories\')"\n                    :page-id="page.id"\n                    :is-categories-loading="isCategoriesLoading"\n                    class="sw-cms-layout-assignment-modal__category-select"\n                    @categories-load-more="onExtraCategories"\n                />\n                {% endblock %}\n            </template>\n            {% endblock %}\n\n            \n            {% block sw_cms_layout_assignment_modal_shop_pages_select %}\n            <template v-if="!isProductDetailPage && active === \'shop_pages\'">\n\n                \n                {% block sw_cms_layout_assignment_modal_shop_pages_select_sales_channel_field %}\n                <sw-entity-single-select\n                    v-model:value="shopPageSalesChannelId"\n                    class="sw-cms-layout-assignment-modal__sales-channel-select"\n                    entity="sales_channel"\n                    :label="$tc(\'sw-cms.components.cmsLayoutAssignmentModal.labelSalesChannel\')"\n                    :placeholder="$tc(\'sw-cms.components.cmsLayoutAssignmentModal.placeholderSalesChannel\')"\n                    :reset-option="$tc(\'sw-cms.components.cmsLayoutAssignmentModal.resetOptionSalesChannel\')"\n                    :help-text="$tc(\'sw-cms.components.cmsLayoutAssignmentModal.helpTextSalesChannel\')"\n                    show-clearable-button\n                    @update:value="onInputSalesChannelSelect"\n                />\n                {% endblock %}\n\n                \n                {% block sw_cms_layout_assignment_modal_shop_pages_select_field %}\n                <sw-inherit-wrapper\n                    v-model:value="selectedShopPages[shopPageSalesChannelId]"\n                    :inherited-value="selectedShopPages.null"\n                    :has-parent="shopPageSalesChannelId !== null"\n                    :label="$tc(\'sw-cms.components.cmsLayoutAssignmentModal.labelShopPages\')"\n                >\n                    <template #content="props">\n                        <sw-multi-select\n                            class="sw-cms-layout-assignment-modal__shop-page-select"\n                            :options="shopPages"\n                            :disabled="props.isInherited"\n                            :value="props.currentValue"\n                            :map-inheritance="props"\n                            @update:value="props.updateCurrentValue"\n                        />\n                    </template>\n                </sw-inherit-wrapper>\n                {% endblock %}\n            </template>\n            {% endblock %}\n\n            \n            {% block sw_cms_layout_assignment_modal_product_detail_pages_select %}\n            <template v-if="page.type === \'product_detail\'">\n                \n                {% block sw_entity_many_to_many_assignment_card_select %}\n                <sw-cms-product-assignment\n                    class="sw-cms-layout-assignment-modal__product-select"\n                    :local-mode="true"\n                    :entity-collection="page.products"\n                    :columns="productColumns"\n                    :criteria="productCriteria"\n                    :select-label="$tc(\'sw-cms.components.cmsLayoutAssignmentModal.products.productAssignmentLabel\')"\n                    :placeholder="$tc(\'sw-cms.components.cmsLayoutAssignmentModal.products.productAssignmentPlaceholder\')"\n                >\n                    \n                    {% block sw_cms_layout_assignment_modal_product_detail_pages_column_name %}\n                    <template #column-name="{ item, column }">\n                        <router-link\n                            :to="{ name: column.routerLink, params: { id: item.id } }"\n                        >\n                            <sw-product-variant-info\n                                :variations="item.options"\n                                @click="onAbort"\n                            >\n                                {{ item.translated.name }}\n                            </sw-product-variant-info>\n                        </router-link>\n                    </template>\n                    {% endblock %}\n\n                    \n                    {% block sw_cms_layout_assignment_modal_product_detail_pages_column_manufacturer %}\n                    <template #column-manufacturer.name="{ item, column }">\n                        <router-link\n                            v-if="item.manufacturerId"\n                            :to="{ name: column.routerLink, params: { id: item.manufacturerId } }"\n                        >\n                            <p\n                                role="button"\n                                tabindex="0"\n                                @click="onAbort"\n                                @keydown.enter="onAbort"\n                            >\n                                {{ item.manufacturer.translated.name }}\n                            </p>\n                        </router-link>\n                        <span v-else></span>\n                    </template>\n\n                    {% endblock %}\n\n                    \n                    {% block sw_cms_layout_assignment_modal_product_detail_pages_empty_state %}\n                    <template #empty-state>\n                        <img\n                            class="sw-cms-product-assignment__empty-state"\n                            :src="assetFilter(\'/administration/static/img/empty-states/products-empty-state.svg\')"\n                            alt=""\n                        >\n                        <p>{{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.products.productAssignmentEmptyStateDescription\') }}</p>\n                    </template>\n                    {% endblock %}\n                </sw-cms-product-assignment>\n                {% endblock %}\n            </template>\n            {% endblock %}\n\n        </template>\n    </sw-tabs>\n    {% endblock %}\n\n    \n    {% block sw_cms_layout_assignment_modal_confirm_changes %}\n    <sw-modal\n        v-if="showConfirmChangesModal"\n        class="sw-cms-layout-assignment-modal__confirm-changes-modal"\n        size="650px"\n        :title="$tc(\'sw-cms.components.cmsLayoutAssignmentModal.confirmChangesTitle\')"\n        @modal-close="closeConfirmChangesModal"\n    >\n\n        \n        {% block sw_cms_layout_assignment_modal_confirm_changes_text_categories %}\n        <p\n            v-if="hasDeletedCategories"\n            class="sw-cms-layout-assignment-modal__confirm-text-categories"\n        >\n            {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.confirmChangesTextCategories\') }}\n        </p>\n        {% endblock %}\n\n        \n        {% block sw_cms_layout_assignment_modal_confirm_changes_text_assigned_layouts %}\n        <p\n            v-if="hasCategoriesWithAssignedLayouts"\n            class="sw-cms-layout-assignment-modal__confirm-text-assigned-layouts"\n        >\n            {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.confirmChangesTextCategoriesAssignedLayouts\') }}\n        </p>\n        {% endblock %}\n\n        \n        {% block sw_cms_layout_assignment_modal_confirm_changes_text_landing_pages %}\n        <p\n            v-if="hasDeletedLandingPages"\n            class="sw-cms-layout-assignment-modal__confirm-text-landing-pages"\n        >\n            {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.confirmChangesTextLandingPages\') }}\n        </p>\n        {% endblock %}\n\n        \n        {% block sw_cms_layout_assignment_modal_confirm_changes_text_assigned_layouts_landing_pages %}\n        <p\n            v-if="hasLandingPagesWithAssignedLayouts"\n            class="sw-cms-layout-assignment-modal__confirm-text-assigned-layouts"\n        >\n            {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.confirmChangesTextLandingPagesAssignedLayouts\') }}\n        </p>\n        {% endblock %}\n\n        \n        {% block sw_cms_layout_assignment_modal_confirm_changes_text_shop_pages %}\n        <p\n            v-if="hasDeletedShopPages"\n            class="sw-cms-layout-assignment-modal__confirm-text-shop-pages"\n        >\n            {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.confirmChangesTextShopPages\') }}\n        </p>\n        {% endblock %}\n\n        \n        {% block sw_cms_layout_assignment_modal_confirm_changes_text_products %}\n        <p\n            v-if="hasDeletedProducts"\n            class="sw-cms-layout-assignment-modal__confirm-text-products"\n        >\n            {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.confirmChangesTextProducts\') }}\n        </p>\n        {% endblock %}\n\n        \n        {% block sw_cms_layout_assignment_modal_confirm_changes_text_products_assigned_layouts %}\n        <p\n            v-if="hasProductsWithAssignedLayouts"\n            class="sw-cms-layout-assignment-modal__confirm-text-products-assigned-layouts"\n        >\n            {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.confirmChangesTextProductsAssignedLayouts\') }}\n        </p>\n        {% endblock %}\n\n        \n        {% block sw_cms_layout_assignment_modal_confirm_changes_text %}\n        <p><strong>{{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.confirmChangesText\') }}</strong></p>\n        {% endblock %}\n\n        <template #modal-footer>\n            \n            {% block sw_cms_layout_assignment_modal_confirm_changes_keep_editing %}\n            <sw-button\n                class="sw-cms-layout-assignment-modal__action-keep-editing"\n                size="small"\n                @click="onKeepEditing"\n            >\n                {{ $tc(\'global.default.cancel\') }}\n            </sw-button>\n            {% endblock %}\n\n            <div class="sw-cms-layout-assignment-modal__confirm-changes-modal-main-actions">\n                \n                {% block sw_cms_layout_assignment_modal_confirm_changes_discard %}\n                <sw-button\n                    class="sw-cms-layout-assignment-modal__action-changes-discard"\n                    variant="ghost"\n                    size="small"\n                    @click="onDiscardChanges"\n                >\n                    {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.confirmChangesRestorePrev\') }}\n                </sw-button>\n                {% endblock %}\n\n                \n                {% block sw_cms_layout_assignment_modal_confirm_changes_confirm %}\n                <sw-button\n                    class="sw-cms-layout-assignment-modal__action-changes-confirm"\n                    variant="primary"\n                    size="small"\n                    @click="onConfirmChanges"\n                >\n                    {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.confirmChangesConfirm\') }}\n                </sw-button>\n                {% endblock %}\n            </div>\n        </template>\n    </sw-modal>\n    {% endblock %}\n\n    \n    {% block sw_cms_layout_assignment_modal_actions %}\n    <template #modal-footer>\n        \n        {% block sw_cms_layout_assignment_action_abort %}\n        <sw-button\n            :disabled="isLoading"\n            class="sw-cms-layout-assignment-modal__action-cancel"\n            size="small"\n            @click="onAbort"\n        >\n            {{ $tc(\'global.default.cancel\') }}\n        </sw-button>\n        {% endblock %}\n\n        \n        {% block sw_cms_layout_assignment_action_confirm %}\n        <sw-button\n            :disabled="isLoading"\n            class="sw-cms-layout-assignment-modal__action-confirm"\n            size="small"\n            variant="primary"\n            @click="onConfirm"\n        >\n            {{ $tc(\'sw-cms.components.cmsLayoutAssignmentModal.confirmChanges\') }}\n        </sw-button>\n        {% endblock %}\n    </template>\n    {% endblock %}\n</sw-modal>\n{% endblock %}\n',compatConfig:Shopware.compatConfig,inject:["repositoryFactory","systemConfigApiService","acl"],emits:["modal-close"],mixins:[Shopware.Mixin.getByName("notification")],props:{page:{type:Object,required:!0}},data(){return{shopPageSalesChannelId:null,previousCategories:[],previousCategoryIds:[],previousLandingPages:[],previousLandingPageIds:[],showConfirmChangesModal:!1,isLoading:!1,selectedShopPages:{},previousShopPages:{},confirmedCategories:!1,confirmedShopPages:!1,confirmedProducts:!1,confirmedLandingPages:!1,hasDeletedCategories:!1,hasDeletedShopPages:!1,hasDeletedProducts:!1,hasDeletedLandingPages:!1,hasCategoriesWithAssignedLayouts:!1,hasProductsWithAssignedLayouts:!1,hasLandingPagesWithAssignedLayouts:!1,previousProducts:[],previousProductIds:[],categoryIndex:1,isCategoriesLoading:!1}},computed:{systemConfigDomain(){return"core.basicInformation"},shopPages(){return[{label:this.$tc("sw-cms.components.cmsLayoutAssignmentModal.shopPages.tosPage"),value:"core.basicInformation.tosPage"},{label:this.$tc("sw-cms.components.cmsLayoutAssignmentModal.shopPages.revocationPage"),value:"core.basicInformation.revocationPage"},{label:this.$tc("sw-cms.components.cmsLayoutAssignmentModal.shopPages.shippingPaymentInfoPage"),value:"core.basicInformation.shippingPaymentInfoPage"},{label:this.$tc("sw-cms.components.cmsLayoutAssignmentModal.shopPages.privacyPage"),value:"core.basicInformation.privacyPage"},{label:this.$tc("sw-cms.components.cmsLayoutAssignmentModal.shopPages.imprintPage"),value:"core.basicInformation.imprintPage"},{label:this.$tc("sw-cms.components.cmsLayoutAssignmentModal.shopPages.404Page"),value:"core.basicInformation.404Page"},{label:this.$tc("sw-cms.components.cmsLayoutAssignmentModal.shopPages.maintenancePage"),value:"core.basicInformation.maintenancePage"},{label:this.$tc("sw-cms.components.cmsLayoutAssignmentModal.shopPages.contactPage"),value:"core.basicInformation.contactPage"},{label:this.$tc("sw-cms.components.cmsLayoutAssignmentModal.shopPages.newsletterPage"),value:"core.basicInformation.newsletterPage"}]},productColumns(){return[{property:"name",label:this.$tc("sw-cms.components.cmsLayoutAssignmentModal.products.columnNameLabel"),dataIndex:"name",routerLink:"sw.product.detail",sortable:!1},{property:"manufacturer.name",label:this.$tc("sw-cms.components.cmsLayoutAssignmentModal.products.columnManufacturerLabel"),routerLink:"sw.manufacturer.detail",sortable:!1}]},productCriteria(){let s=new i(1,5);return s.addAssociation("options.group").addAssociation("manufacturer").addFilter(i.equals("parentId",null)),s},isProductDetailPage(){return"product_detail"===this.page.type},assetFilter(){return Shopware.Filter.getByName("asset")},categoryRepository(){return this.repositoryFactory.create("category")}},created(){this.createdComponent()},methods:{createdComponent(){this.previousCategories=[...this.page.categories],this.previousCategoryIds=this.page.categories.getIds(),this.previousLandingPages=[...this.page.landingPages],this.previousLandingPageIds=this.page.landingPages.getIds(),this.previousProducts=[...this.page.products],this.previousProductIds=this.page.products.getIds(),this.loadSystemConfig()},onModalClose(s=!1){this.$emit("modal-close",s)},saveShopPages(){if("page"!==this.page.type||!this.acl.can("system.system_config"))return Promise.resolve();let s={},e=0;return(Object.keys(this.selectedShopPages).forEach(e=>{s[e]={},null!==this.selectedShopPages[e]&&this.selectedShopPages[e].forEach(n=>{s[e][n]=this.page.id})}),Object.keys(this.previousShopPages).forEach(n=>{null!==this.previousShopPages[n]&&this.previousShopPages[n].forEach(t=>{void 0===s[n][t]&&(s[n][t]=null,e+=1)})}),!this.confirmedShopPages&&e>0)?(this.hasDeletedShopPages=!0,this.openConfirmChangesModal(),Promise.reject()):this.systemConfigApiService.batchSave(s).catch(()=>{this.createNotificationError({message:this.$tc("sw-cms.components.cmsLayoutAssignmentModal.shopPagesSaveError")})})},loadSystemConfig(){return!("page"!==this.page.type||!this.acl.can("system.system_config")||this.selectedShopPages.hasOwnProperty(this.shopPageSalesChannelId))&&(this.isLoading=!0,this.systemConfigApiService.getValues(this.systemConfigDomain,this.shopPageSalesChannelId).then(s=>{let e=[];Object.keys(s).forEach(n=>{this.shopPages.find(s=>s.value===n)&&s[n]===this.page.id&&e.push(n)}),e.length>0?this.isCompatEnabled("INSTANCE_SET")?this.$set(this.selectedShopPages,this.shopPageSalesChannelId,e):this.selectedShopPages[this.shopPageSalesChannelId]=e:this.isCompatEnabled("INSTANCE_SET")?this.$set(this.selectedShopPages,this.shopPageSalesChannelId,null):this.selectedShopPages[this.shopPageSalesChannelId]=null,this.previousShopPages=o(this.selectedShopPages)}).catch(()=>{this.createNotificationError({message:this.$tc("sw-cms.components.cmsLayoutAssignmentModal.shopPagesLoadError")})}).finally(()=>{this.isLoading=!1}))},validateCategories(){if(this.confirmedCategories)return Promise.resolve();let s=this.page.categories.getIds(),e=(0,a.difference)(s,this.previousCategoryIds);return this.previousCategoryIds.length>s.length||this.previousCategoryIds.length===s.length&&e.length?(this.hasDeletedCategories=!0,this.openConfirmChangesModal(),Promise.reject()):this.page.categories.find(s=>s.hasOwnProperty("cmsPageId")&&null!==s.cmsPageId&&s.cmsPageId!==this.page.id)?(this.hasCategoriesWithAssignedLayouts=!0,this.openConfirmChangesModal(),Promise.reject()):Promise.resolve()},validateLandingPages(){if(this.confirmedLandingPages)return Promise.resolve();let s=this.page.landingPages.getIds(),e=(0,a.difference)(s,this.previousLandingPageIds);return this.previousLandingPageIds.length>s.length||this.previousLandingPageIds.length===s.length&&e.length?(this.hasDeletedLandingPages=!0,this.openConfirmChangesModal(),Promise.reject()):this.page.landingPages.find(s=>s.hasOwnProperty("cmsPageId")&&null!==s.cmsPageId&&s.cmsPageId!==this.page.id)?(this.hasLandingPagesWithAssignedLayouts=!0,this.openConfirmChangesModal(),Promise.reject()):Promise.resolve()},validateProducts(){if(this.confirmedProducts)return Promise.resolve();let s=this.page.products.getIds(),e=(0,a.difference)(s,this.previousProductIds);return this.previousProductIds.length>s.length||this.previousProductIds.length===s.length&&e.length?(this.hasDeletedProducts=!0,this.openConfirmChangesModal(),Promise.reject()):this.page.products.find(s=>s.hasOwnProperty("cmsPageId")&&null!==s.cmsPageId&&s.cmsPageId!==this.page.id)?(this.hasProductsWithAssignedLayouts=!0,this.openConfirmChangesModal(),Promise.reject()):Promise.resolve()},onConfirm(){this.isLoading=!0,Promise.all([this.validateCategories(),this.saveShopPages(),this.validateProducts(),this.validateLandingPages()]).then(()=>{this.onModalClose(!0)}).catch(()=>{this.isLoading=!1})},openConfirmChangesModal(){this.showConfirmChangesModal=!0},closeConfirmChangesModal(){this.showConfirmChangesModal=!1},async onDiscardChanges(){this.discardCategoryChanges(),this.discardShopPageChanges(),this.discardProductChanges(),this.discardLandingPageChanges(),this.closeConfirmChangesModal(),await this.$nextTick(),this.onModalClose()},discardCategoryChanges(){this.page.categories=new t.Z(this.page.categories.source,this.page.categories.entity,Shopware.Context.api,null,this.previousCategories??[])},discardLandingPageChanges(){this.page.landingPages=new t.Z(this.page.landingPages.source,this.page.landingPages.entity,Shopware.Context.api,null,this.previousLandingPages??[])},discardShopPageChanges(){"page"===this.page.type&&(this.selectedShopPages=this.previousShopPages)},discardProductChanges(){this.page.products=new t.Z(this.page.products.source,this.page.products.entity,Shopware.Context.api,null,this.previousProducts)},onAbort(){this.discardCategoryChanges(),this.discardShopPageChanges(),this.discardProductChanges(),this.discardLandingPageChanges(),this.onModalClose()},onKeepEditing(){this.closeConfirmChangesModal()},async onConfirmChanges(){this.closeConfirmChangesModal(),this.confirmedCategories=!0,this.confirmedLandingPages=!0,this.confirmedShopPages=!0,this.confirmedProducts=!0,await this.$nextTick(),this.onConfirm()},onInputSalesChannelSelect(){this.loadSystemConfig()},async onExtraCategories(){this.isCategoriesLoading=!0,this.categoryIndex+=1;let s=new i(this.categoryIndex,25);s.addFilter(i.equals("cmsPageId",this.page.id));let e=await this.categoryRepository.search(s);e?.length>0&&this.page.categories.push(...e),this.isCategoriesLoading=!1}}})},327266:function(s,e,n){var t=n(761910);t.__esModule&&(t=t.default),"string"==typeof t&&(t=[[s.id,t,""]]),t.locals&&(s.exports=t.locals),n(745346).Z("635a74fa",t,!0,{})}}]);