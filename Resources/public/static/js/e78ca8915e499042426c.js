(this.webpackJsonpAdministration=this.webpackJsonpAdministration||[]).push([[7],{"5ycZ":function(e,n,t){"use strict";t.r(n);var s=t("QGb3"),a=t.n(s),o=t("J58c"),r=t.n(o),c=(t("wKzB"),t("NRFE")),l=t("HpF6");function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,s)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var u=Shopware.Data.Criteria,m=Shopware.Component.getComponentHelper().mapPropertyErrors;n.default={template:'\n{% block sw_customer_base_info %}\n<sw-container\n    class="sw-customer-base-info"\n    columns="repeat(auto-fit, minmax(250px, 1fr))"\n    gap="0px 15px"\n>\n    \n    {% block sw_customer_base_info_metadata %}\n    \n    {% block sw_customer_base_info_metadata_left %}\n    <sw-loader v-if="isLoading" />\n\n    <div\n        v-else\n        class="sw-customer-base-info-columns"\n    >\n        <template v-if="isBusinessAccountType && !customerEditMode">\n            <sw-description-list>\n                <dt class="sw-customer-base-info__label">\n                    {{ $tc(\'sw-customer.baseInfo.labelCompany\') }}\n                </dt>\n\n                <dd>\n                    {{ customer.company }}\n                </dd>\n            </sw-description-list>\n\n            <sw-description-list>\n                <dt class="sw-customer-base-info__label">\n                    {{ $tc(\'sw-customer.baseInfo.labelVatId\') }}\n                </dt>\n\n                <dd>\n                    {{ customer.vatIds[0] || \'-\' }}\n                </dd>\n            </sw-description-list>\n        </template>\n\n        \n        {% block sw_customer_base_metadata_customer_group %}\n        <sw-description-list>\n            \n            {% block sw_customer_base_metadata_customer_group_label %}\n            <dt class="sw-customer-base-info__label">\n                {{ $tc(\'sw-customer.baseInfo.labelCustomerGroup\') }}\n            </dt>\n            {% endblock %}\n\n            \n            {% block sw_customer_base_metadata_customer_group_content %}\n            <dd v-if="!customerEditMode">\n                {{ customer.group.translated.name }}\n            </dd>\n            {% endblock %}\n\n            \n            {% block sw_customer_base_metadata_customer_group_editor %}\n            <dd v-else>\n                <sw-entity-single-select\n                    v-model="customer.groupId"\n                    entity="customer_group"\n                    size="small"\n                    show-clearable-button\n                    :error="customerGroupIdError"\n                />\n            </dd>\n            {% endblock %}\n        </sw-description-list>\n        {% endblock %}\n\n        \n        {% block sw_customer_base_metadata_default_payment %}\n        <sw-description-list>\n            \n            {% block sw_customer_base_metadata_default_payment_label %}\n            <dt class="sw-customer-base-info__label">\n                {{ $tc(\'sw-customer.baseInfo.labelDefaultPayment\') }}\n            </dt>\n            {% endblock %}\n\n            \n            {% block sw_customer_base_metadata_default_payment_content %}\n            <dd\n                v-if="!customerEditMode"\n                class="sw-customer-base__label-default-payment-method"\n            >\n                {{ customer.defaultPaymentMethod.translated.distinguishableName }}\n            </dd>\n            {% endblock %}\n\n            \n            {% block sw_customer_base_metadata_default_payment_editor %}\n            <dd v-else>\n                <sw-entity-single-select\n                    v-model="customer.defaultPaymentMethodId"\n                    class="sw-customer-base-info__payment-select"\n                    entity="payment_method"\n                    label-property="distinguishableName"\n                    size="small"\n                    show-clearable-button\n                    :error="customerDefaultPaymentMethodIdError"\n                />\n            </dd>\n            {% endblock %}\n        </sw-description-list>\n        {% endblock %}\n\n        \n        {% block sw_customer_base_metadata_active %}\n        <sw-description-list>\n            \n            {% block sw_customer_base_metadata_active_label %}\n            <dt class="sw-customer-base-info__label">\n                {{ $tc(\'sw-customer.baseInfo.labelActive\') }}\n            </dt>\n            {% endblock %}\n\n            \n            {% block sw_customer_base_metadata_active_content %}\n            <dd\n                v-if="!customerEditMode"\n                class="sw-customer-base__label-is-active"\n            >\n                {{ $tc(\'sw-customer.baseInfo.contentActive\', customer.active) }}\n            </dd>\n            {% endblock %}\n\n            \n            {% block sw_customer_base_metadata_active_editor %}\n            <dd v-else>\n                <sw-checkbox-field\n                    v-model="customer.active"\n                    class="sw-customer-base-info__checkbox-field"\n                    :label="$tc(\'sw-customer.baseInfo.contentActive\')"\n                    size="small"\n                />\n            </dd>\n            {% endblock %}\n        </sw-description-list>\n        {% endblock %}\n\n        \n        {% block sw_customer_base_metadata_language %}\n        <sw-description-list>\n            \n            {% block sw_customer_base_metadata_language_label %}\n            <dt class="sw-customer-base-info__label">\n                {{ $tc(\'sw-customer.baseInfo.labelLanguage\') }}\n            </dt>\n            {% endblock %}\n\n            \n            {% block sw_customer_base_metadata_language_content %}\n            <dd\n                v-if="!customerEditMode"\n                class="sw-customer-base__label-language"\n            >\n                {{ customerLanguageName }}\n            </dd>\n            {% endblock %}\n\n            \n            {% block sw_customer_base_metadata_language_editor %}\n            <dd v-else>\n                <sw-entity-single-select\n                    v-model="customer.languageId"\n                    class="sw-customer-base-info__language-select"\n                    entity="language"\n                    :criteria="languageCriteria"\n                    size="small"\n                    show-clearable-button\n                />\n            </dd>\n            {% endblock %}\n        </sw-description-list>\n        {% endblock %}\n\n        \n        {% block ssw_customer_base_metadata_affiliate %}\n        <sw-description-list>\n            <dt>{{ $tc(\'sw-customer.baseInfo.labelAffiliateCode\') }}</dt>\n            <dd>{{ customer.affiliateCode || \'-\' }}</dd>\n        </sw-description-list>\n        {% endblock %}\n\n        \n        {% block sw_customer_base_metadata_campaign %}\n        <sw-description-list>\n            <dt>{{ $tc(\'sw-customer.baseInfo.labelCampaignCode\') }}</dt>\n            <dd>{{ customer.campaignCode || \'-\' }}</dd>\n        </sw-description-list>\n        {% endblock %}\n    </div>\n    {% endblock %}\n\n    \n    {% block sw_customer_base_info_metadata_right %}\n    <div class="sw-customer-base-info-columns">\n        \n        {% block sw_customer_base_metadata_customer_number %}\n        <sw-description-list>\n            <dt class="sw-customer-base-info__label">\n                {{ $tc(\'sw-customer.baseInfo.labelCustomerNumber\') }}\n            </dt>\n            <dd class="sw-customer-base__label-customer-number">\n                {{ customer.customerNumber }}\n            </dd>\n        </sw-description-list>\n        {% endblock %}\n\n        \n        {% block sw_customer_base_metadata_bound_sales_channel %}\n        <sw-description-list>\n            \n            {% block sw_customer_base_metadata_bound_sales_channel_label %}\n            <dt class="sw-customer-base-info__label sw-bound-sales-channel__label">\n                {{ $tc(\'sw-customer.baseInfo.labelBoundSalesChannel\') }}\n                <sw-help-text :text="$tc(\'sw-customer.baseInfo.helpTextBoundSalesChannel\')" />\n            </dt>\n            {% endblock %}\n\n            \n            {% block sw_customer_base_metadata_bound_saleschannel_content %}\n            <dd class="sw-customer-base__label-bound-sales-channel">\n                <template v-if="customer.boundSalesChannelId">\n                    {{ customer.salesChannel.translated.name }}\n                </template>\n                <template v-else>\n                    {{ $tc(\'sw-customer.baseInfo.emptyBoundSalesChannel\') }}\n                </template>\n            </dd>\n            {% endblock %}\n        </sw-description-list>\n        {% endblock %}\n\n        \n        {% block sw_customer_base_metadata_last_login %}\n        <sw-description-list>\n            <dt class="sw-customer-base-info__label">\n                {{ $tc(\'sw-customer.baseInfo.labelLastLogin\') }}\n            </dt>\n            <dd class="sw-customer-base__label-last-login">\n                <template v-if="customer.lastLogin">\n                    {{ customer.lastLogin | date }}\n                </template>\n                <template v-else>\n                    {{ $tc(\'sw-customer.baseInfo.emptyTextLogin\') }}\n                </template>\n            </dd>\n        </sw-description-list>\n        {% endblock %}\n\n        \n        {% block sw_customer_base_metadata_turnover %}\n        <sw-description-list>\n            <dt class="sw-customer-base-info__label">\n                {{ $tc(\'sw-customer.baseInfo.labelTurnover\') }}\n            </dt>\n            {# price aggregations do not support currencies yet, see NEXT-5069 #}\n            <dd class="sw-customer-base__label-turnover">\n                {{ orderAmount | currency(\'EUR\') }}\n            </dd>\n        </sw-description-list>\n        {% endblock %}\n\n        \n        {% block sw_customer_base_metadata_orders %}\n        <sw-description-list>\n            <dt class="sw-customer-base-info__label">\n                {{ $tc(\'sw-customer.baseInfo.labelOrders\') }}\n            </dt>\n            <dd>{{ orderCount }}</dd>\n        </sw-description-list>\n        {% endblock %}\n\n        \n        {% block sw_customer_base_metadata_birthday %}\n        <sw-description-list>\n            \n            {% block sw_customer_base_metadata_birthday_label %}\n            <dt class="sw-customer-base-info__label">\n                {{ $tc(\'sw-customer.baseInfo.labelBirthday\') }}\n            </dt>\n            {% endblock %}\n\n            \n            {% block sw_customer_base_metadata_birthday_content %}\n            <dd\n                v-if="!customerEditMode"\n                class="sw-customer-base__label-birthday"\n            >\n                <template v-if="customer.birthday">\n                    {{ customer.birthday | date({ minute: undefined, hour: undefined, skipTimezoneConversion: true }) }}\n                </template>\n                <template v-else>\n                    {{ $tc(\'sw-customer.baseInfo.emptyTextBirthday\') }}\n                </template>\n            </dd>\n            {% endblock %}\n\n            \n            {% block sw_custoemr_base_metadata_birthday_editor %}\n            <dd v-else>\n                <sw-datepicker\n                    v-model="customer.birthday"\n                    size="small"\n                    date-type="date"\n                />\n            </dd>\n            {% endblock %}\n        </sw-description-list>\n        {% endblock %}\n    </div>\n    {% endblock %}\n    {% endblock %}\n</sw-container>\n{% endblock %}\n',inject:["repositoryFactory","feature"],props:{customer:{type:Object,required:!0},customerEditMode:{type:Boolean,required:!0,default:!1},isLoading:{type:Boolean,required:!1,default:!1}},data:function(){return{orderAmount:0,orderCount:0,customerLanguage:null}},computed:i(i({orderRepository:function(){return this.repositoryFactory.create("order")},languageRepository:function(){return this.repositoryFactory.create("language")},languageId:function(){return this.customer.languageId},customerLanguageName:function(){return this.customerLanguage?this.customerLanguage.name:"…"},languageCriteria:function(){var e=new u(1,25);return e.addFilter(u.equals("salesChannels.id",this.customer.salesChannelId)),e},orderCriteria:function(){var e=new u(1,1);return e.addAggregation(u.filter("exceptCancelledOrder",[u.not("AND",[u.equals("stateMachineState.technicalName","cancelled")])],u.sum("orderAmount","amountTotal"))),e.addFilter(u.equals("order.orderCustomer.customerId",this.$route.params.id)),e}},m("customer",a()(c["sw.customer.detail.base"].customer))),{},{isBusinessAccountType:function(){var e;return(null===(e=this.customer)||void 0===e?void 0:e.accountType)===l.a.ACCOUNT_TYPE_BUSINESS}}),watch:{languageId:{immediate:!0,handler:function(){var e=this;this.languageRepository.get(this.languageId).then((function(n){e.customerLanguage=n}))}}},created:function(){this.createdComponent()},methods:{createdComponent:function(){var e=this;this.orderRepository.search(this.orderCriteria).then((function(n){e.orderCount=n.total,e.orderAmount=n.aggregations.orderAmount.sum}))}}}},"8TXY":function(e,n,t){},HpF6:function(e,n,t){"use strict";n.a=Object.freeze({ACCOUNT_TYPE_PRIVATE:"private",ACCOUNT_TYPE_BUSINESS:"business"})},NRFE:function(e){e.exports=JSON.parse('{"sw.customer.detail.base":{"customer":["salutationId","firstName","lastName","email","groupId","salesChannelId","defaultPaymentMethodId","customerNumber","password","vatIds","company","passwordNew","passwordConfirm"]}}')},wKzB:function(e,n,t){var s=t("8TXY");s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,t("ydqr").default)("2bb7d704",s,!0,{})}}]);