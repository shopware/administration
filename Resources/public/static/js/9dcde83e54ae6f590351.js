(this.webpackJsonpAdministration=this.webpackJsonpAdministration||[]).push([[511],{XF78:function(e,t,n){"use strict";n.r(t);t.default={template:'\n{% block sw_category_detail_menu %}\n<sw-card\n    class="sw-category-detail-base__menu"\n    position-identifier="sw-category-detail-menu"\n    :title="$tc(\'sw-category.base.menu.title\')"\n    :is-loading="isLoading"\n>\n\n    \n    {% block sw_category_detail_information_visible %}\n    <sw-switch-field\n        {% if VUE3 %}\n        v-model:value="reversedVisibility"\n        {% else %}\n        v-model="reversedVisibility"\n        {% endif %}\n        borderd\n        :disabled="!acl.can(\'category.editor\')"\n        :label="$tc(\'sw-category.base.menu.visible\')"\n    />\n    {% endblock %}\n\n    \n    {% block sw_category_detail_menu_media %}\n    <sw-upload-listener\n        :key="category.id + \'uploadListener\'"\n        :upload-tag="category.id"\n        auto-upload\n        @media-upload-finish="onSetMediaItem"\n    />\n    <sw-media-upload-v2\n        :key="category.id + \'upload\'"\n        :label="$tc(\'sw-category.base.menu.imageLabel\')"\n        variant="regular"\n        :disabled="!acl.can(\'category.editor\')"\n        :source="mediaItem"\n        :upload-tag="category.id"\n        :allow-multi-select="false"\n        :default-folder="category.getEntityName()"\n        @media-drop="onMediaDropped"\n        @media-upload-sidebar-open="showMediaModal = true"\n        @media-upload-remove-image="onRemoveMediaItem"\n    />\n    {% endblock %}\n\n    \n    {% block sw_category_detail_menu_media_modal %}\n    <sw-media-modal-v2\n        v-if="showMediaModal"\n        :allow-multi-select="false"\n        :entity-context="category.getEntityName()"\n        @media-modal-selection-change="onMediaSelectionChange"\n        @modal-close="showMediaModal = false"\n    />\n    {% endblock %}\n\n    \n    {% block sw_category_detail_menu_description %}\n    <sw-text-editor\n        :key="category.id + \'description\'"\n        v-model="category.description"\n        class="sw-category-detail-base__description"\n        type="textarea"\n        :disabled="!acl.can(\'category.editor\')"\n        sanitize-input\n        sanitize-field-name="category_translation.description"\n        :label="$tc(\'sw-category.base.menu.descriptionLabel\')"\n        :placeholder="$tc(\'sw-category.base.menu.descriptionPlaceholder\')"\n    />\n    {% endblock %}\n</sw-card>\n{% endblock %}\n',inject:["acl","repositoryFactory"],props:{category:{type:Object,required:!0},isLoading:{type:Boolean,required:!1,default:!1}},data:function(){return{showMediaModal:!1}},computed:{reversedVisibility:{get:function(){return!this.category.visible},set:function(e){this.category.visible=!e}},mediaItem:function(){return null!==this.category?this.category.media:null},mediaRepository:function(){return this.repositoryFactory.create("media")}},methods:{onMediaSelectionChange:function(e){var t=this,n=e[0];n&&this.mediaRepository.get(n.id).then((function(e){t.category.mediaId=e.id,t.category.media=e}))},onSetMediaItem:function(e){var t=this,n=e.targetId;this.mediaRepository.get(n).then((function(e){t.category.mediaId=n,t.category.media=e}))},onRemoveMediaItem:function(){this.category.mediaId=null,this.category.media=null},onMediaDropped:function(e){this.onSetMediaItem({targetId:e.id})}}}}}]);