{"version":3,"sources":["webpack:///./src/module/sw-promotion-v2/component/discount/sw-promotion-v2-settings-trigger/sw-promotion-v2-settings-trigger.html.twig","webpack:///./src/module/sw-promotion-v2/component/discount/sw-promotion-v2-settings-trigger/index.js"],"names":["Criteria","Shopware","Data","template","inject","props","discount","type","Object","required","data","useTrigger","this","discountRules","length","triggerType","computed","ruleCriteria","addSorting","sort","watch","considerAdvancedRules","methods","getTriggerSelection","prefix","value","display","$tc","concat","disabled"],"mappings":"4HAAe,ICKPA,EAAaC,SAASC,KAAtBF,SAGO,WACXG,SDTW,4wFCWXC,OAAQ,CACJ,OAGJC,MAAO,CACHC,SAAU,CACNC,KAAMC,OACNC,UAAU,IAIlBC,KAAI,WACA,MAAO,CACHC,WAAYC,KAAKN,SAASO,cAAcC,OAAS,EACjDC,YAAa,WAIrBC,SAAU,CACNC,aAAY,WACR,OAAQ,IAAIjB,EAAS,EAAG,IACnBkB,WAAWlB,EAASmB,KAAK,OAAQ,OAAO,MAIrDC,MAAO,CACH,yBAAwB,SAACP,GACrBD,KAAKN,SAASe,sBAAwBR,EAAcC,OAAS,IAIrEQ,QAAS,CACLC,oBAAmB,WACf,IAAMC,EAAS,gEACf,MAAO,CAAC,CACJC,MAAO,SACPC,QAASd,KAAKe,IAAI,GAADC,OAAIJ,EAAM,0BAC3BK,UAAU,GACX,CACCJ,MAAO,QACPC,QAASd,KAAKe,IAAI,GAADC,OAAIJ,EAAM,yBAC3BK,UAAU","file":"static/js/5a6e435ba17b3c601fac.js","sourcesContent":["export default \"\\n{% block sw_promotion_v2_settings_trigger %}\\n<div class=\\\"sw-promotion-v2-settings-trigger-settings\\\">\\n\\n    \\n    {% block sw_promotion_v2_settings_trigger_description %}\\n    <sw-promotion-v2-wizard-description\\n        class=\\\"sw-promotion-v2-settings-trigger-settings__description\\\"\\n    >\\n        {{ $tc('sw-promotion-v2.detail.discounts.wizard.shipping-discount.description') }}\\n    </sw-promotion-v2-wizard-description>\\n    {% endblock %}\\n\\n    \\n    {% block sw_promotion_v2_settings_trigger_radio_switch %}\\n    <sw-switch-field\\n        {% if VUE3 %}\\n        v-model:value=\\\"useTrigger\\\"\\n        {% else %}\\n        v-model=\\\"useTrigger\\\"\\n        {% endif %}\\n        class=\\\"sw-promotion-v2-settings-trigger-settings__use-trigger\\\"\\n        :label=\\\"$tc('sw-promotion-v2.detail.discounts.settings.trigger.labelUseTrigger')\\\"\\n    />\\n    {% endblock %}\\n\\n    \\n    {% block sw_promotion_v2_settings_trigger_container %}\\n    <sw-container v-if=\\\"useTrigger\\\">\\n\\n        \\n        {% block sw_promotion_v2_settings_trigger_select_trigger_type %}\\n        <sw-select-field\\n            {% if VUE3 %}\\n            v-model:value=\\\"triggerType\\\"\\n            {% else %}\\n            v-model=\\\"triggerType\\\"\\n            {% endif %}\\n            class=\\\"sw-promotion-v2-settings-trigger-settings__trigger-type\\\"\\n            :label=\\\"$tc('sw-promotion-v2.detail.discounts.settings.trigger.labelNumberOfTriggers')\\\"\\n            :disabled=\\\"!acl.can('promotion.editor')\\\"\\n        >\\n\\n            \\n            {% block sw_promotion_v2_settings_trigger_select_trigger_amount_options %}\\n            <option\\n                v-for=\\\"selection in getTriggerSelection()\\\"\\n                :key=\\\"selection.value\\\"\\n                :value=\\\"selection.value\\\"\\n                :disabled=\\\"selection.disabled\\\"\\n            >\\n                {{ selection.display }}\\n            </option>\\n            {% endblock %}\\n\\n        </sw-select-field>\\n        {% endblock %}\\n\\n        \\n        {% block sw_promotion_v2_settings_trigger_rule_selection_selection %}\\n        <sw-promotion-v2-rule-select\\n            {% if VUE3 %}\\n            v-model:collection=\\\"discount.discountRules\\\"\\n            {% else %}\\n            v-model=\\\"discount.discountRules\\\"\\n            {% endif %}\\n            local-mode\\n            class=\\\"sw-promotion-v2-settings-trigger-settings__rule-selection\\\"\\n            :criteria=\\\"ruleCriteria\\\"\\n            :rule-scope=\\\"['cart']\\\"\\n            :label=\\\"$tc('sw-promotion-v2.detail.discounts.settings.ruleSelection.labelSelection')\\\"\\n            :placeholder=\\\"$tc('sw-promotion-v2.detail.discounts.settings.ruleSelection.placeholderSelection')\\\"\\n            :disabled=\\\"!acl.can('promotion.editor')\\\"\\n        />\\n        {% endblock %}\\n\\n    </sw-container>\\n    {% endblock %}\\n\\n</div>\\n{% endblock %}\\n\";","/**\n * @package buyers-experience\n */\nimport template from './sw-promotion-v2-settings-trigger.html.twig';\n\nconst { Criteria } = Shopware.Data;\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    inject: [\n        'acl',\n    ],\n\n    props: {\n        discount: {\n            type: Object,\n            required: true,\n        },\n    },\n\n    data() {\n        return {\n            useTrigger: this.discount.discountRules.length > 0,\n            triggerType: 'single',\n        };\n    },\n\n    computed: {\n        ruleCriteria() {\n            return (new Criteria(1, 25))\n                .addSorting(Criteria.sort('name', 'ASC', false));\n        },\n    },\n\n    watch: {\n        'discount.discountRules'(discountRules) {\n            this.discount.considerAdvancedRules = discountRules.length > 0;\n        },\n    },\n\n    methods: {\n        getTriggerSelection() {\n            const prefix = 'sw-promotion-v2.detail.discounts.settings.trigger.triggerType';\n            return [{\n                value: 'single',\n                display: this.$tc(`${prefix}.displaySingleTrigger`),\n                disabled: false,\n            }, {\n                value: 'multi',\n                display: this.$tc(`${prefix}.displayMultiTrigger`),\n                disabled: true,\n            }];\n        },\n    },\n};\n"],"sourceRoot":""}