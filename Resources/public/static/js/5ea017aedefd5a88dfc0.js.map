{"version":3,"sources":["webpack:///./src/module/sw-bulk-edit/component/product/sw-bulk-edit-product-visibility/index.js","webpack:///./src/module/sw-bulk-edit/component/product/sw-bulk-edit-product-visibility/sw-bulk-edit-product-visibility.html.twig"],"names":["Context","Shopware","mapState","Component","getComponentHelper","template","inject","props","bulkEditProduct","type","Object","required","disabled","Boolean","default","data","displayVisibilityDetail","computed","_objectSpread","productVisibilityRepository","this","repositoryFactory","create","product","visibilities","entity","methods","visibilitiesRemoveInheritanceFunction","newValue","_this","forEach","_ref","productVersionId","salesChannelId","salesChannel","visibility","api","assign","productId","id","push","$refs","productVisibilitiesInheritance","forceInheritanceRemove","openModal","closeModal"],"mappings":"stBAKA,IAAQA,EAAYC,SAAZD,QACAE,EAAaD,SAASE,UAAUC,qBAAhCF,SAGO,WACXG,SCVW,kjFDYXC,OAAQ,CAAC,qBAETC,MAAO,CACHC,gBAAiB,CACbC,KAAMC,OACNC,UAAU,GAEdC,SAAU,CACNH,KAAMI,QACNF,UAAU,EACVG,SAAS,IAIjBC,KAAI,WACA,MAAO,CACHC,yBAAyB,IAIjCC,SAAQC,IAAA,GACDhB,EAAS,kBAAmB,CAC3B,aACF,IAEFiB,4BAA2B,WACvB,OAAOC,KAAKC,kBAAkBC,OAAOF,KAAKG,QAAQC,aAAaC,WAIvEC,QAAS,CACLC,sCAAqC,SAACC,GAAW,IAADC,EAAA,KAiB5C,OAhBAD,EAASE,SAAQ,SAAAC,GAAqE,IAAlEC,EAAgBD,EAAhBC,iBAAkBC,EAAcF,EAAdE,eAAgBC,EAAYH,EAAZG,aAAcC,EAAUJ,EAAVI,WAC1DX,EAAeK,EAAKV,4BAA4BG,OAAOtB,EAAQoC,KAErE1B,OAAO2B,OAAOb,EAAc,CACxBc,UAAWT,EAAKN,QAAQgB,GACxBP,mBACAC,iBACAC,eACAC,eAGJN,EAAKN,QAAQC,aAAagB,KAAKhB,MAGnCJ,KAAKqB,MAAMC,+BAA+BC,wBAAyB,EAE5DvB,KAAKG,QAAQC,cAExBoB,UAAS,WACLxB,KAAKJ,yBAA0B,GAGnC6B,WAAU,WACNzB,KAAKJ,yBAA0B","file":"static/js/5ea017aedefd5a88dfc0.js","sourcesContent":["/**\n * @package system-settings\n */\nimport template from './sw-bulk-edit-product-visibility.html.twig';\n\nconst { Context } = Shopware;\nconst { mapState } = Shopware.Component.getComponentHelper();\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    inject: ['repositoryFactory'],\n\n    props: {\n        bulkEditProduct: {\n            type: Object,\n            required: true,\n        },\n        disabled: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n    },\n\n    data() {\n        return {\n            displayVisibilityDetail: false,\n        };\n    },\n\n    computed: {\n        ...mapState('swProductDetail', [\n            'product',\n        ]),\n\n        productVisibilityRepository() {\n            return this.repositoryFactory.create(this.product.visibilities.entity);\n        },\n    },\n\n    methods: {\n        visibilitiesRemoveInheritanceFunction(newValue) {\n            newValue.forEach(({ productVersionId, salesChannelId, salesChannel, visibility }) => {\n                const visibilities = this.productVisibilityRepository.create(Context.api);\n\n                Object.assign(visibilities, {\n                    productId: this.product.id,\n                    productVersionId,\n                    salesChannelId,\n                    salesChannel,\n                    visibility,\n                });\n\n                this.product.visibilities.push(visibilities);\n            });\n\n            this.$refs.productVisibilitiesInheritance.forceInheritanceRemove = true;\n\n            return this.product.visibilities;\n        },\n        openModal() {\n            this.displayVisibilityDetail = true;\n        },\n\n        closeModal() {\n            this.displayVisibilityDetail = false;\n        },\n    },\n};\n","export default \"\\n{% block sw_bulk_edit_product_visibility %}\\n<div class=\\\"sw-bulk-edit-product-visibility\\\">\\n    \\n    {% block sw_bulk_edit_product_visibility_select %}\\n    <sw-inherit-wrapper\\n        ref=\\\"productVisibilitiesInheritance\\\"\\n        {% if VUE3 %}\\n        v-model:value=\\\"product.visibilities\\\"\\n        {% else %}\\n        v-model=\\\"product.visibilities\\\"\\n        {% endif %}\\n        :inherited-value=\\\"product.visibilities\\\"\\n        class=\\\"sw-product-category-form__visibility_field\\\"\\n        :custom-remove-inheritance-function=\\\"visibilitiesRemoveInheritanceFunction\\\"\\n        is-association\\n    >\\n        <template #content=\\\"{ currentValue, isInherited, updateCurrentValue }\\\">\\n            <sw-product-visibility-select\\n                ref=\\\"productVisibility\\\"\\n                :key=\\\"isInherited\\\"\\n                class=\\\"sw-product-detail__select-visibility\\\"\\n                :entity-collection=\\\"currentValue\\\"\\n                :placeholder=\\\"$tc('sw-product.visibility.placeholderVisibility')\\\"\\n                :disabled=\\\"disabled\\\"\\n                @change=\\\"updateCurrentValue\\\"\\n            />\\n        </template>\\n    </sw-inherit-wrapper>\\n    {% endblock %}\\n\\n    \\n    {% block sw_bulk_edit_product_visibility_advanced %}\\n    <sw-container\\n        v-if=\\\"product.visibilities.length > 0\\\"\\n        columns=\\\"1fr\\\"\\n        justify=\\\"end\\\"\\n    >\\n        <a\\n            class=\\\"sw-card__quick-link advanced-visibility\\\"\\n            :class=\\\"{ 'is--disabled': disabled }\\\"\\n            role=\\\"button\\\"\\n            tabindex=\\\"0\\\"\\n            @click=\\\"openModal\\\"\\n            @keydown.enter=\\\"openModal\\\"\\n        >\\n            {{ $tc('sw-product.visibility.linkAdvancedVisibility') }} <sw-icon\\n                name=\\\"regular-long-arrow-right\\\"\\n                small\\n            />\\n        </a>\\n    </sw-container>\\n    {% endblock %}\\n\\n    \\n    {% block sw_bulk_edit_product_visibility_advanced_modal %}\\n    <sw-modal\\n        v-if=\\\"displayVisibilityDetail\\\"\\n        :title=\\\"$tc('sw-product.visibility.textHeadline')\\\"\\n        class=\\\"sw-product-category-form__visibility_modal\\\"\\n        @modal-close=\\\"closeModal\\\"\\n    >\\n        <p>{{ $tc('sw-product.visibility.visibilityModalDescription') }}</p>\\n\\n        <sw-product-visibility-detail />\\n\\n        <template #modal-footer>\\n            <sw-button\\n                variant=\\\"primary\\\"\\n                size=\\\"small\\\"\\n                @click=\\\"closeModal\\\"\\n            >\\n                {{ $tc('sw-product.visibility.closeModal') }}\\n            </sw-button>\\n        </template>\\n    </sw-modal>\\n    {% endblock %}\\n</div>\\n{% endblock %}\\n\";"],"sourceRoot":""}