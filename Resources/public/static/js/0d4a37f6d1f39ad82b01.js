(window.webpackJsonpAdministration=window.webpackJsonpAdministration||[]).push([[58922],{963796:function(){},858922:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}}),n(175841);let{State:i,Context:a}=Shopware;var o=Shopware.Component.wrapComponentConfig({template:'<sw-page class="sw-extension-app-module-page">\n    <template\n        v-if="!suspend"\n        #smart-bar-header\n    >\n        <h2>{{ heading }}</h2>\n    </template>\n\n    <template #content>\n        <template v-if="!suspend">\n            <iframe\n                v-show="appLoaded"\n                id="app-content"\n                class="sw-extension-app-module-page__app-content"\n                referrerpolicy="origin-when-cross-origin"\n                :src="entryPoint"\n                :title="heading"\n            ></iframe>\n\n            <template v-if="!appLoaded">\n                <template v-if="timedOut">\n                    <sw-extension-app-module-error-page />\n                </template>\n\n                <template v-else>\n                    <sw-loader />\n                </template>\n            </template>\n        </template>\n    </template>\n</sw-page>\n',inject:["acl"],props:{appName:{type:String,required:!0},moduleName:{type:String,required:!1,default:null}},data(){return{appLoaded:!1,timedOut:!1,timedOutTimeout:null}},computed:{currentLocale(){return i.get("session").currentLocale},fallbackLocale(){return a.app.fallbackLocale},appDefinition(){return i.get("shopwareApps").apps.find(e=>e.name===this.appName)??null},moduleDefinition(){return this.appDefinition?this.moduleName?this.appDefinition.modules.find(e=>e.name===this.moduleName)??null:this.appDefinition.mainModule??null:null},suspend(){return!this.appDefinition||!this.moduleDefinition},heading(){if(!this.appDefinition)return null;let e=this.translate(this.appDefinition.label);return this.moduleDefinition&&this.moduleDefinition.label?[e,this.translate(this.moduleDefinition.label)].filter(e=>!!e).join(" - "):e},entryPoint(){return this.suspend?null:this.moduleDefinition?.source??null},origin(){if(!this.entryPoint)return null;try{return new URL(this.entryPoint).origin}catch(e){return null}},loadedMessage(){return"sw-app-loaded"}},watch:{entryPoint(){this.appLoaded=!1,this.timedOut=!1},appLoaded:{immediate:!0,handler(e){null!==this.timedOutTimeout&&clearTimeout(this.timedOutTimeout),this.timedOutTimeout=null,e||(this.timedOutTimeout=window.setTimeout(()=>{this.appLoaded||(this.timedOut=!0)},5e3))}}},mounted(){window.addEventListener("message",this.onContentLoaded)},beforeDestroy(){window.removeEventListener("message",this.onContentLoaded)},created(){this.createdComponent()},methods:{createdComponent(){this.acl.can(`app.${this.appName}`)||this.$router.push({name:"sw.privilege.error.index"})},translate(e){return this.currentLocale&&e[this.currentLocale]?e[this.currentLocale]:this.fallbackLocale&&e[this.fallbackLocale]?e[this.fallbackLocale]:null},onContentLoaded(e){e.origin===this.origin&&e.data===this.loadedMessage&&(this.appLoaded=!0)}}})},175841:function(e,t,n){var i=n(963796);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),n(745346).Z("23831ebd",i,!0,{})}}]);