{"version":3,"sources":["webpack:///./src/module/sw-settings-language/page/sw-settings-language-list/sw-settings-language-list.html.twig","webpack:///./src/module/sw-settings-language/page/sw-settings-language-list/index.js","webpack:///./src/module/sw-settings-language/page/sw-settings-language-list/sw-settings-language-list.scss"],"names":["Mixin","Shopware","Criteria","Data","template","inject","mixins","getByName","data","languages","parentLanguages","total","filterRootLanguages","filterInheritedLanguages","isLoading","sortBy","sortDirection","metaInfo","title","this","$createTitle","computed","listingCriteria","criteria","page","limit","addAssociation","addSorting","sort","addFilter","equals","not","languageRepository","repositoryFactory","create","getColumns","property","label","dataIndex","inlineEdit","allowCreate","acl","can","allowView","allowEdit","allowInlineEdit","allowDelete","methods","getList","_this","search","then","languageResult","parentCriteria","parentIds","forEach","language","parentId","setIds","Object","keys","parentResult","getParentName","item","get","name","isDefault","languageId","Context","api","systemLanguageId","includes","tooltipDelete","message","disabled","$tc","showOnDisabledElements","content","__esModule","default","module","i","locals","exports","add"],"mappings":"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","file":"static/js/607388fd8ac7798541d2.js","sourcesContent":["export default \"\\n{% block sw_settings_list %}\\n\\n{% block sw_settings_language_index %}\\n<sw-page class=\\\"sw-settings-language-list\\\">\\n\\n    \\n    {% block sw_settings_language_list_search_bar %}\\n    <template #search-bar>\\n        <sw-search-bar\\n            initial-search-type=\\\"language\\\"\\n            :placeholder=\\\"$tc('sw-settings-language.general.placeholderSearchBar')\\\"\\n            :initial-search=\\\"term\\\"\\n            @search=\\\"onSearch\\\"\\n        />\\n    </template>\\n    {% endblock %}\\n\\n    \\n    {% block sw_settings_language_list_smart_bar_header %}\\n    <template #smart-bar-header>\\n\\n        \\n        {% block sw_settings_language_list_smart_bar_header_title %}\\n        <h2>\\n\\n            \\n            {% block sw_settings_language_list_smart_bar_header_title_text %}\\n            {{ $tc('sw-settings.index.title') }}\\n            <sw-icon\\n                name=\\\"regular-chevron-right-xs\\\"\\n                small\\n            /> {{ $tc('sw-settings-language.list.textHeadline') }}\\n            {% endblock %}\\n\\n            \\n            {% block sw_settings_language_list_smart_bar_header_amount %}\\n            <span\\n                v-if=\\\"!isLoading\\\"\\n                class=\\\"sw-page__smart-bar-amount\\\"\\n            >\\n                ({{ total }})\\n            </span>\\n            {% endblock %}\\n\\n        </h2>\\n        {% endblock %}\\n\\n    </template>\\n    {% endblock %}\\n\\n    \\n    {% block sw_settings_language_list_smart_bar_actions %}\\n    <template #smart-bar-actions>\\n\\n        \\n        {% block sw_settings_language_list_smart_bar_actions_add %}\\n        <sw-button\\n            v-tooltip.bottom=\\\"{\\n                message: $tc('sw-privileges.tooltip.warning'),\\n                disabled: allowCreate,\\n                showOnDisabledElements: true\\n            }\\\"\\n            class=\\\"sw-settings-language-list__button-create\\\"\\n            variant=\\\"primary\\\"\\n            :disabled=\\\"!allowCreate\\\"\\n            :router-link=\\\"{ name: 'sw.settings.language.create' }\\\"\\n        >\\n            {{ $tc('sw-settings-language.list.buttonAddLanguage') }}\\n        </sw-button>\\n        {% endblock %}\\n\\n    </template>\\n    {% endblock %}\\n\\n    \\n    {% block sw_settings_language_list_content %}\\n    <template #content>\\n        <sw-entity-listing\\n            key=\\\"language-listing\\\"\\n            class=\\\"sw-settings-language-list-grid\\\"\\n            detail-route=\\\"sw.settings.language.detail\\\"\\n            :is-loading=\\\"isLoading\\\"\\n            :repository=\\\"languageRepository\\\"\\n            :columns=\\\"getColumns\\\"\\n            :items=\\\"languages\\\"\\n            :sort-by=\\\"sortBy\\\"\\n            :sort-direction=\\\"sortDirection\\\"\\n            :disable-data-fetching=\\\"true\\\"\\n            :allow-view=\\\"allowView\\\"\\n            :allow-edit=\\\"allowEdit\\\"\\n            :allow-inline-edit=\\\"allowInlineEdit\\\"\\n            :allow-delete=\\\"allowDelete\\\"\\n            @column-sort=\\\"onSortColumn\\\"\\n            @page-change=\\\"onPageChange\\\"\\n        >\\n\\n            \\n            {% block sw_settings_language_list_content_list_content %}\\n            \\n            {% block sw_settings_language_list_content_list_columns %}\\n            \\n            {% block sw_settings_language_list_content_list_column_name %}\\n            <template #column-name=\\\"{ item, column, compact, isInlineEdit }\\\">\\n                <sw-text-field\\n                    v-if=\\\"isInlineEdit\\\"\\n                    {% if VUE3 %}\\n                    v-model:value=\\\"item.name\\\"\\n                    {% else %}\\n                    v-model=\\\"item.name\\\"\\n                    {% endif %}\\n                    :size=\\\"compact ? 'small' : 'default'\\\"\\n                />\\n                <router-link\\n                    v-else\\n                    :title=\\\"$tc('sw-settings-language.list.contextMenuEdit')\\\"\\n                    :to=\\\"{ name: 'sw.settings.language.detail', params: { id: item.id } }\\\"\\n                >\\n                    {{ item.name }}\\n                </router-link>\\n            </template>\\n            {% endblock %}\\n\\n            \\n            {% block sw_settings_language_list_content_list_column_locale %}\\n            <template #column-locale=\\\"{ item, column, compact, isInlineEdit }\\\">\\n                {{ item.locale.translated.name }}, {{ item.locale.translated.territory }}\\n            </template>\\n            {% endblock %}\\n\\n            \\n            {% block sw_settings_language_list_content_list_column_id %}\\n            <template #column-id=\\\"{ item, column, compact, isInlineEdit }\\\">\\n                <sw-icon\\n                    v-if=\\\"isDefault(item.id)\\\"\\n                    name=\\\"regular-checkmark-xs\\\"\\n                    small\\n                    class=\\\"is--default\\\"\\n                />\\n                <div v-else></div>\\n            </template>\\n            {% endblock %}\\n\\n            \\n            {% block sw_settings_language_list_content_list_column_parent %}\\n            <template #column-parent=\\\"{ item, column, compact, isInlineEdit }\\\">\\n                {{ getParentName(item) }}\\n            </template>\\n            {% endblock %}\\n            {% endblock %}\\n\\n            \\n            {% block sw_settings_language_list_content_list_delete %}\\n            \\n            {% block sw_settings_language_list_content_list_delete_action %}\\n            <template #delete-action=\\\"{ item, showDelete }\\\">\\n                <sw-context-menu-item\\n                    v-tooltip.bottom=\\\"tooltipDelete(item.id)\\\"\\n                    class=\\\"sw-settings-language-list__delete-action\\\"\\n                    variant=\\\"danger\\\"\\n                    :disabled=\\\"isDefault(item.id) || !allowDelete\\\"\\n                    @click=\\\"showDelete(item.id)\\\"\\n                >\\n                    {{ $tc('global.default.delete') }}\\n                </sw-context-menu-item>\\n            </template>\\n            {% endblock %}\\n\\n            \\n            {% block sw_settings_language_list_content_list_delete_confirm_action %}\\n            <template #delete-confirm-text=\\\"{ item }\\\">\\n                {{ $tc('sw-settings-language.list.textDeleteConfirm', 1, { name: item.name } ) }}\\n            </template>\\n            {% endblock %}\\n            {% endblock %}\\n            {% endblock %}\\n\\n        </sw-entity-listing>\\n    </template>\\n    {% endblock %}\\n\\n    \\n    {% block sw_settings_language_list_grid_sidebar %}\\n    <template #sidebar>\\n        <sw-sidebar :propagate-width=\\\"true\\\">\\n\\n            \\n            {% block sw_settings_language_list_grid_sidebar_filter %}\\n            <sw-sidebar-item\\n                icon=\\\"regular-filter\\\"\\n                :title=\\\"$tc('sw-settings-language.list.titleSidebarFilter')\\\"\\n            >\\n                <sw-collapse expand-on-loading>\\n\\n                    \\n                    {% block sw_settings_language_list_grid_sidebar_filter_header %}\\n                    <template #header=\\\"{ expanded }\\\">\\n                        <div class=\\\"sw-settings-language-list__collapse-header\\\">\\n\\n                            \\n                            {% block sw_settings_language_list_grid_sidebar_filter_header_title %}\\n                            <h4 class=\\\"sw-settings-language-list__collapse-title\\\">\\n                                {{ $tc('sw-settings-language.list.titleSidebarQuickFilter') }}\\n                            </h4>\\n                            {% endblock %}\\n\\n                            \\n                            {% block sw_settings_language_list_grid_sidebar_filter_header_icon %}\\n                            \\n                            {% block sw_settings_language_list_grid_sidebar_filter_header_icon_expanded %}\\n                            <sw-icon\\n                                v-if=\\\"expanded\\\"\\n                                {% if VUE2 %}\\n                                key=\\\"filter-collapse-expanded-indicator\\\"\\n                                {% endif %}\\n                                class=\\\"sw-media-collapse__button\\\"\\n                                name=\\\"regular-chevron-down-xxs\\\"\\n                                size=\\\"12px\\\"\\n                            />\\n                            {% endblock %}\\n\\n                            \\n                            {% block sw_settings_language_list_grid_sidebar_filter_header_icon_not_expanded %}\\n                            <sw-icon\\n                                v-else\\n                                {% if VUE2 %}\\n                                key=\\\"filter-collapse-expanded-indicator\\\"\\n                                {% endif %}\\n                                class=\\\"sw-media-collapse__button\\\"\\n                                name=\\\"regular-chevron-right-xxs\\\"\\n                                size=\\\"12px\\\"\\n                            />\\n                            {% endblock %}\\n                            {% endblock %}\\n\\n                        </div>\\n                    </template>\\n                    {% endblock %}\\n\\n                    \\n                    {% block sw_settings_language_list_grid_sidebar_filter_content %}\\n                    <template #content>\\n\\n                        \\n                        {% block sw_settings_language_list_grid_sidebar_filter_content_root_languages %}\\n                        <sw-switch-field\\n                            {% if VUE3 %}\\n                            v-model:value=\\\"filterRootLanguages\\\"\\n                            {% else %}\\n                            v-model=\\\"filterRootLanguages\\\"\\n                            {% endif %}\\n                            class=\\\"sw-settings-language-list__filterField\\\"\\n                            :label=\\\"$tc('sw-settings-language.list.textFilterRootLanguages')\\\"\\n                        />\\n                        {% endblock %}\\n\\n                        \\n                        {% block sw_settings_language_list_grid_sidebar_filter_content_inherited_languages %}\\n                        <sw-switch-field\\n                            {% if VUE3 %}\\n                            v-model:value=\\\"filterInheritedLanguages\\\"\\n                            {% else %}\\n                            v-model=\\\"filterInheritedLanguages\\\"\\n                            {% endif %}\\n                            class=\\\"sw-settings-language-list__filterField\\\"\\n                            :label=\\\"$tc('sw-settings-language.list.textFilterInheritedLanguages')\\\"\\n                        />\\n                        {% endblock %}\\n\\n                    </template>\\n                    {% endblock %}\\n\\n                </sw-collapse>\\n            </sw-sidebar-item>\\n            {% endblock %}\\n\\n        </sw-sidebar>\\n    </template>\\n    {% endblock %}\\n\\n</sw-page>\\n    {% endblock %}\\n{% endblock %}\\n\";","/**\n * @package buyers-experience\n */\nimport template from './sw-settings-language-list.html.twig';\nimport './sw-settings-language-list.scss';\n\nconst { Mixin } = Shopware;\nconst { Criteria } = Shopware.Data;\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    inject: [\n        'repositoryFactory',\n        'acl',\n        'feature',\n    ],\n\n    mixins: [\n        Mixin.getByName('listing'),\n        Mixin.getByName('notification'),\n    ],\n\n    data() {\n        return {\n            languages: null,\n            parentLanguages: null,\n            total: 0,\n            filterRootLanguages: false,\n            filterInheritedLanguages: false,\n            isLoading: true,\n            sortBy: 'name',\n            sortDirection: 'DESC',\n        };\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(),\n        };\n    },\n\n    computed: {\n        listingCriteria() {\n            const criteria = new Criteria(this.page, this.limit);\n            criteria.addAssociation('locale');\n            criteria.addAssociation('translationCode');\n\n            if (this.sortBy) {\n                criteria.addSorting(Criteria.sort(this.sortBy, this.sortDirection));\n            }\n\n            if (this.filterRootLanguages) {\n                criteria.addFilter(Criteria.equals('parentId', null));\n            }\n\n            if (this.filterInheritedLanguages) {\n                criteria.addFilter(Criteria.not('AND', [Criteria.equals('parentId', null)]));\n            }\n\n            return criteria;\n        },\n\n        languageRepository() {\n            return this.repositoryFactory.create('language');\n        },\n\n        getColumns() {\n            return [{\n                property: 'name',\n                label: 'sw-settings-language.list.columnName',\n                dataIndex: 'name',\n                inlineEdit: true,\n            }, {\n                property: 'locale',\n                dataIndex: 'locale.id',\n                label: 'sw-settings-language.list.columnLocaleName',\n            }, {\n                property: 'translationCode.code',\n                label: 'sw-settings-language.list.columnIsoCode',\n            }, {\n                property: 'parent',\n                dataIndex: 'parent.id',\n                label: 'sw-settings-language.list.columnInherit',\n            }, {\n                property: 'id',\n                label: 'sw-settings-language.list.columnDefault',\n            }];\n        },\n\n        allowCreate() {\n            return this.acl.can('language.creator');\n        },\n\n        allowView() {\n            return this.acl.can('language.viewer');\n        },\n\n        allowEdit() {\n            return this.acl.can('language.editor');\n        },\n\n        allowInlineEdit() {\n            return this.acl.can('language.editor');\n        },\n\n        allowDelete() {\n            return this.acl.can('language.deleter');\n        },\n    },\n\n    methods: {\n        getList() {\n            this.isLoading = true;\n            return this.languageRepository.search(this.listingCriteria).then((languageResult) => {\n                this.total = languageResult.total || this.total;\n\n                const parentCriteria = (new Criteria(1, this.limit));\n                const parentIds = {};\n\n                languageResult.forEach((language) => {\n                    if (language.parentId) {\n                        parentIds[language.parentId] = true;\n                    }\n                });\n\n                parentCriteria.setIds(Object.keys(parentIds));\n                return this.languageRepository.search(parentCriteria).then((parentResult) => {\n                    this.languages = languageResult;\n                    this.parentLanguages = parentResult;\n                    this.isLoading = false;\n                });\n            });\n        },\n\n        getParentName(item) {\n            if (item.parentId === null) {\n                return '-';\n            }\n\n            return this.parentLanguages.get(item.parentId).name;\n        },\n\n        isDefault(languageId) {\n            return Shopware.Context.api.systemLanguageId\n                ? Shopware.Context.api.systemLanguageId.includes(languageId)\n                : false;\n        },\n\n        tooltipDelete(languageId) {\n            if (!this.acl.can('language.deleter') && !this.isDefault(languageId)) {\n                return {\n                    message: this.$tc('sw-privileges.tooltip.warning'),\n                    disabled: this.acl.can('language.deleter'),\n                    showOnDisabledElements: true,\n                };\n            }\n\n            return {\n                message: '',\n                disabled: true,\n            };\n        },\n    },\n};\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--15-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--15-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--15-3!./sw-settings-language-list.scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"72ea266a\", content, true, {});"],"sourceRoot":""}