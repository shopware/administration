{"version":3,"sources":["webpack:///./src/module/sw-settings-store/page/sw-settings-store/sw-settings-store.html.twig","webpack:///./src/module/sw-settings-store/page/sw-settings-store/index.js"],"names":["Mixin","Shopware","template","mixins","getByName","data","isLoading","isSaveSuccessful","saveFinish","this","metaInfo","title","$createTitle","methods","onSave","_this","trimHost","$refs","systemConfig","saveAll","then","catch","err","createNotificationError","message","_actualConfigData$nul","actualConfigData","null","trim","onLoadingChanged","loading"],"mappings":"4HAAe,ICEPA,EAAUC,SAAVD,MAMO,WACXE,SDTW,2mECWXC,OAAQ,CACJH,EAAMI,UAAU,iBAGpBC,KAAI,WACA,MAAO,CACHC,WAAW,EACXC,kBAAkB,IAI1BC,WAAU,WACNC,KAAKF,kBAAmB,GAG5BG,SAAQ,WACJ,MAAO,CACHC,MAAOF,KAAKG,iBAIpBC,QAAS,CACLL,WAAU,WACNC,KAAKF,kBAAmB,GAG5BO,OAAM,WAAI,IAADC,EAAA,KACLN,KAAKF,kBAAmB,EACxBE,KAAKH,WAAY,EAEjBG,KAAKO,WAELP,KAAKQ,MAAMC,aAAaC,UAAUC,MAAK,WACnCL,EAAKT,WAAY,EACjBS,EAAKR,kBAAmB,KACzBc,OAAM,SAACC,GACNP,EAAKT,WAAY,EACjBS,EAAKQ,wBAAwB,CACzBC,QAASF,QAKrBN,SAAQ,WAAI,IAADS,EACDC,EAAmBjB,KAAKQ,MAAMC,aAAaQ,iBAExB,QAAzBD,EAAIC,EAAiBC,YAAI,IAAAF,GAArBA,EAAwB,4BACxBC,EAAiBC,KAAK,0BAA4BD,EAAiBC,KAAK,0BAA0BC,SAI1GC,iBAAgB,SAACC,GACbrB,KAAKH,UAAYwB","file":"static/js/ab24715b9058bcd6a377.js","sourcesContent":["export default \"\\n{% block sw_settings_store_index %}\\n<sw-page class=\\\"sw-settings-store\\\">\\n\\n    \\n    {% block sw_settings_store_search_bar %}\\n    <template #search-bar>\\n        <sw-search-bar />\\n    </template>\\n    {% endblock %}\\n\\n    \\n    {% block sw_settings_store_smart_bar_header %}\\n    <template #smart-bar-header>\\n        \\n        {% block sw_settings_store_smart_bar_header_title %}\\n        <h2>\\n            \\n            {% block sw_settings_store_smart_bar_header_title_text %}\\n            {{ $tc('sw-settings.index.title') }}\\n            <sw-icon\\n                name=\\\"regular-chevron-right-xs\\\"\\n                small\\n            />\\n            {{ $tc('sw-settings-store.general.textHeadline') }}\\n            {% endblock %}\\n        </h2>\\n        {% endblock %}\\n    </template>\\n    {% endblock %}\\n\\n    \\n    {% block sw_settings_store_smart_bar_actions %}\\n    <template #smart-bar-actions>\\n        \\n        {% block sw_settings_store_actions_save %}\\n        <sw-button-process\\n            class=\\\"sw-store-detail__save-action\\\"\\n            :is-loading=\\\"isLoading\\\"\\n            :process-success=\\\"isSaveSuccessful\\\"\\n            :disabled=\\\"isLoading\\\"\\n            variant=\\\"primary\\\"\\n            {% if VUE3 %}\\n            @update:process-success=\\\"saveFinish\\\"\\n            {% else %}\\n            @process-finish=\\\"saveFinish\\\"\\n            {% endif %}\\n            @click=\\\"onSave()\\\"\\n        >\\n            {{ $tc('sw-settings-store.general.buttonSave') }}\\n        </sw-button-process>\\n        {% endblock %}\\n    </template>\\n    {% endblock %}\\n\\n    \\n    {% block sw_settings_store_content %}\\n    <template #content>\\n        <sw-card-view>\\n            <sw-skeleton v-if=\\\"isLoading\\\" />\\n\\n            {# v-show is used here as underlying components influence the loading state and v-if would destroy this behaviour #}\\n            <sw-system-config\\n                v-show=\\\"!isLoading\\\"\\n                ref=\\\"systemConfig\\\"\\n                domain=\\\"core.store\\\"\\n                @loading-changed=\\\"onLoadingChanged\\\"\\n            />\\n        </sw-card-view>\\n    </template>\\n    {% endblock %}\\n</sw-page>\\n{% endblock %}\\n\";","import template from './sw-settings-store.html.twig';\n\nconst { Mixin } = Shopware;\n\n/**\n * @package services-settings\n * @private\n */\nexport default {\n    template,\n\n    mixins: [\n        Mixin.getByName('notification'),\n    ],\n\n    data() {\n        return {\n            isLoading: false,\n            isSaveSuccessful: false,\n        };\n    },\n\n    saveFinish() {\n        this.isSaveSuccessful = false;\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(),\n        };\n    },\n\n    methods: {\n        saveFinish() {\n            this.isSaveSuccessful = false;\n        },\n\n        onSave() {\n            this.isSaveSuccessful = false;\n            this.isLoading = true;\n\n            this.trimHost();\n\n            this.$refs.systemConfig.saveAll().then(() => {\n                this.isLoading = false;\n                this.isSaveSuccessful = true;\n            }).catch((err) => {\n                this.isLoading = false;\n                this.createNotificationError({\n                    message: err,\n                });\n            });\n        },\n\n        trimHost() {\n            const actualConfigData = this.$refs.systemConfig.actualConfigData;\n\n            if (actualConfigData.null?.['core.store.licenseHost']) {\n                actualConfigData.null['core.store.licenseHost'] = actualConfigData.null['core.store.licenseHost'].trim();\n            }\n        },\n\n        onLoadingChanged(loading) {\n            this.isLoading = loading;\n        },\n    },\n};\n"],"sourceRoot":""}