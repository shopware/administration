(window.webpackJsonpAdministration=window.webpackJsonpAdministration||[]).push([[89878],{822186:function(){},989878:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return o}}),n(426257);let{uniqBy:s}=Shopware.Utils.array,a=(t,e)=>{t.style.visibility=e.value?"visible":"hidden",t.style.position=e.value?"static":"absolute",t.style.top=e.value?"auto":"0",t.style.left=e.value?"auto":"0",t.style.bottom=e.value?"auto":"0",t.style.right=e.value?"auto":"0",t.style.transform=e.value?"translateX(0)":"translateX(100%)"};var o={template:'\n{% block sw_sales_channel_products_assignment_modal %}\n<sw-modal\n    class="sw-sales-channel-products-assignment-modal"\n    :title="$tc(\'sw-sales-channel.detail.productAssignmentModal.title\')"\n    @modal-close="onCloseModal"\n>\n    <template #default>\n        \n        {% block sw_sales_channel_products_assignment_modal_tabs %}\n        <sw-tabs\n            class="sw-sales-channel-products-assignment-modal__tabs"\n            position-identifier="sw-sales-channel-products-assignment-modal"\n            default-item="singleProducts"\n        >\n            <template #default="{ active }">\n                \n                {% block sw_sales_channel_products_assignment_modal_tabs_single_products %}\n                <sw-tabs-item\n                    name="singleProducts"\n                    :title="$tc(\'sw-sales-channel.detail.productAssignmentModal.singleProducts\')"\n                    :active-tab="active"\n                >\n                    {{ $tc(\'sw-sales-channel.detail.productAssignmentModal.singleProducts\') }}\n                </sw-tabs-item>\n                {% endblock %}\n\n                \n                {% block sw_sales_channel_products_assignment_modal_tabs_categories %}\n                <sw-tabs-item\n                    name="categories"\n                    :title="$tc(\'sw-sales-channel.detail.productAssignmentModal.categories.title\')"\n                    :active-tab="active"\n                >\n                    {{ $tc(\'sw-sales-channel.detail.productAssignmentModal.categories.title\') }}\n                </sw-tabs-item>\n                {% endblock %}\n\n                \n                {% block sw_sales_channel_products_assignment_modal_tab_dynamic_product_groups %}\n                <sw-tabs-item\n                    name="dynamicProductGroups"\n                    :title="$tc(\'sw-sales-channel.detail.productAssignmentModal.dynamicProductGroups.title\')"\n                    :active-tab="active"\n                >\n                    {{ $tc(\'sw-sales-channel.detail.productAssignmentModal.dynamicProductGroups.title\') }}\n                </sw-tabs-item>\n                {% endblock %}\n            </template>\n\n            <template #content="{ active }">\n                <div\n                    class="sw-sales-channel-products-assignment-modal__content"\n                    :height="tabContentHeight"\n                >\n                    \n                    {% block sw_sales_channel_products_assignment_modal_tab_content_single_products %}\n                    <sw-sales-channel-products-assignment-single-products\n                        ref="product"\n                        v-hide="active === \'singleProducts\'"\n                        :sales-channel="salesChannel"\n                        :container-style="productContainerStyle"\n                        @selection-change="onChangeSelection"\n                    />\n                    {% endblock %}\n\n                    \n                    {% block sw_sales_channel_products_assignment_modal_tab_content_categories %}\n                    <sw-sales-channel-product-assignment-categories\n                        ref="category"\n                        v-hide="active === \'categories\'"\n                        :sales-channel="salesChannel"\n                        :container-style="categoryContainerStyle"\n                        @selection-change="onChangeSelection"\n                        @product-loading="setProductLoading"\n                    />\n                    {% endblock %}\n\n                    \n                    {% block sw_sales_channel_products_assignment_modal_tab_content_dynamic_product_groups %}\n                    <sw-sales-channel-products-assignment-dynamic-product-groups\n                        ref="productGroup"\n                        v-hide="active === \'dynamicProductGroups\'"\n                        :sales-channel="salesChannel"\n                        :container-style="productGroupContainerStyle"\n                        @selection-change="onChangeSelection"\n                        @product-loading="setProductLoading"\n                    />\n                    {% endblock %}\n                </div>\n            </template>\n        </sw-tabs>\n        {% endblock %}\n    </template>\n\n    <template #modal-footer>\n        \n        {% block sw_sales_channel_products_assignment_modal_footer_cancel %}\n        <sw-button\n            class="sw-sales-channel-products-assignment-modal__close-button"\n            size="small"\n            @click="onCloseModal"\n        >\n            {{ $tc(\'global.default.cancel\') }}\n        </sw-button>\n        {% endblock %}\n\n        \n        {% block sw_sales_channel_products_assignment_modal_footer_submit %}\n        <sw-button\n            size="small"\n            variant="primary"\n            :is-loading="isAssignProductLoading || isProductLoading"\n            @click="onAddProducts"\n        >\n            {{ $tc(\'sw-sales-channel.detail.products.buttonAddProducts\', productCount, { productCount: productCount }) }}\n        </sw-button>\n        {% endblock %}\n    </template>\n</sw-modal>\n{% endblock %}\n',compatConfig:Shopware.compatConfig,emits:["modal-close","products-add"],directives:{hide:{beforeMount:a,updated:a}},props:{salesChannel:{type:Object,required:!0},isAssignProductLoading:{type:Boolean,required:!0}},data(){return{singleProducts:[],categoryProducts:[],groupProducts:[],isProductLoading:!1,tabContentHeight:"600px",productContainerStyle:{display:"grid",placeItems:"stretch"},categoryContainerStyle:{display:"grid",placeItems:"stretch"},productGroupContainerStyle:{display:"grid",placeItems:"stretch"}}},computed:{productCount(){return this.products.length},products(){return s([...this.singleProducts,...this.categoryProducts,...this.groupProducts],"id")}},mounted(){this.mountedComponent()},methods:{mountedComponent(){this.getProductContainerStyle(),this.getCategoryContainerStyle(),this.getProductGroupContainerStyle()},getProductContainerStyle(){let t=`${this.$refs?.product?.$refs?.cardSectionSecondary?.$el?.offsetHeight??0}px`;this.isCompatEnabled("INSTANCE_SET")?this.$set(this.productContainerStyle,"grid-template-rows",`auto calc(${this.tabContentHeight} - ${t})`):this.productContainerStyle["grid-template-rows"]=`auto calc(${this.tabContentHeight} - ${t})`},getCategoryContainerStyle(){let t="20px",e=`${this.$refs?.category?.$refs?.alert?.$el?.offsetHeight??0}px`,n=`${this.$refs?.category?.$refs?.cardSectionSecondary?.$el?.offsetHeight??0}px`;this.isCompatEnabled("INSTANCE_SET")?this.$set(this.categoryContainerStyle,"grid-template-rows",`auto calc(${this.tabContentHeight} - (${t} + ${e} + ${n}))`):this.productContainerStyle["grid-template-rows"]=`auto calc(${this.tabContentHeight} - (${t} + ${e} + ${n}))`},getProductGroupContainerStyle(){let t="20px",e=`${this.$refs?.productGroup?.$refs?.alert?.$el?.offsetHeight??0}px`,n=`${this.$refs?.productGroup?.$refs?.cardSectionSecondary?.$el?.offsetHeight??0}px`;this.isCompatEnabled("INSTANCE_SET")?this.$set(this.productGroupContainerStyle,"grid-template-rows",`auto calc(${this.tabContentHeight} - (${t} + ${e} + ${n}))`):this.productContainerStyle["grid-template-rows"]=`auto calc(${this.tabContentHeight} - (${t} + ${e} + ${n}))`},onChangeSelection(t,e){this[e]=t},onCloseModal(){this.$emit("modal-close")},onAddProducts(){this.$emit("products-add",this.products)},setProductLoading(t){this.isProductLoading=t}}}},426257:function(t,e,n){var s=n(822186);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals),n(745346).Z("8abcf300",s,!0,{})}}]);