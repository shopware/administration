"use strict";(window.webpackJsonpAdministration=window.webpackJsonpAdministration||[]).push([[46985],{746985:function(n,l,e){e.r(l),e.d(l,{default:function(){return i}});var i={template:'\n{% block sw_media_url_form %}\n<sw-modal\n    v-if="variant === \'modal\'"\n    class="sw-media-url-form"\n    variant="small"\n    :title="$tc(\'global.sw-media-url-form.title\')"\n    v-on="listeners"\n>\n\n    \n    {% block sw_media_url_form_input %}\n    <sw-text-field\n        v-model:value="url"\n        class="sw-media-url-form__url-input"\n        label="URL"\n        :error="invalidUrlError"\n        :placeholder="$tc(\'global.sw-media-url-form.example\')"\n        name="sw-field--url"\n    />\n\n    <sw-text-field\n        v-if="missingFileExtension"\n        v-model:value="extensionFromInput"\n        class="sw-media-url-form__extension-input"\n        :label="$tc(\'global.sw-media-url-form.labelFileExtension\')"\n        validation="required"\n        placeholder="jpg"\n        :help-text="$tc(\'global.sw-media-url-form.missingFileExtension\')"\n    />\n    {% endblock %}\n\n    \n    {% block sw_media_url_form_footer %}\n    <template #modal-footer>\n        \n        {% block sw_media_url_form_cancel_button %}\n        <sw-button\n            size="small"\n            @click="closeModal"\n        >\n            {{ $tc(\'global.default.cancel\') }}\n        </sw-button>\n        {% endblock %}\n\n        \n        {% block sw_media_url_form_submit_button %}\n        <sw-button\n            class="sw-media-url-form__submit-button"\n            variant="primary"\n            size="small"\n            :disabled="!isValid"\n            @click.prevent="emitUrl"\n        >\n\n            {{ $tc(\'global.sw-media-url-form.upload\') }}\n        </sw-button>\n        {% endblock %}\n    </template>\n    {% endblock %}\n</sw-modal>\n\n<div v-else-if="variant === \'inline\'">\n    \n    {% block sw_media_url_form_input_inline %}\n    <sw-text-field\n        v-model:value="url"\n        class="sw-media-url-form__url-input"\n        label="URL"\n        :error="invalidUrlError"\n        :placeholder="$tc(\'global.sw-media-url-form.example\')"\n        name="sw-field--url"\n    />\n\n    <sw-text-field\n        v-if="missingFileExtension"\n        v-model:value="extensionFromInput"\n        class="sw-media-url-form__extension-input"\n        :label="$tc(\'global.sw-media-url-form.labelFileExtension\')"\n        validation="required"\n        placeholder="jpg"\n        :help-text="$tc(\'global.sw-media-url-form.missingFileExtension\')"\n    />\n    {% endblock %}\n\n    <sw-button\n        class="sw-media-url-form__submit-button"\n        :disabled="!isValid"\n        size="small"\n        variant="primary"\n        @click="emitUrl"\n    >\n        {{ $tc(\'global.sw-media-url-form.upload\') }}\n    </sw-button>\n</div>\n{% endblock %}\n',compatConfig:Shopware.compatConfig,emits:["media-url-form-submit","modal-close"],props:{variant:{type:String,required:!0,validValues:["modal","inline"],validator(n){return["modal","inline"].includes(n)},default:"inline"}},data(){return{url:"",extensionFromUrl:"",extensionFromInput:""}},computed:{urlObject(){try{return new URL(this.url)}catch(n){return this.extensionFromUrl="",null}},hasInvalidInput(){return null===this.urlObject&&""!==this.url},invalidUrlError(){return this.hasInvalidInput?{code:"INVALID_MEDIA_URL"}:null},missingFileExtension(){return null!==this.urlObject&&!this.extensionFromUrl},fileExtension(){return this.extensionFromUrl||this.extensionFromInput},isValid(){return null!==this.urlObject&&this.fileExtension},listeners(){return this.isCompatEnabled("INSTANCE_LISTENERS")?this.$listeners:{}}},watch:{urlObject(){if(null===this.urlObject){this.extensionFromUrl="";return}let n=this.urlObject.pathname.split("/").pop();if(1===n.split(".").length){this.extensionFromUrl="";return}this.extensionFromUrl=n.split(".").pop()}},methods:{emitUrl(n){this.isValid&&(this.$emit("media-url-form-submit",{originalDomEvent:n,url:this.urlObject,fileExtension:this.fileExtension}),"modal"===this.variant&&this.closeModal())},closeModal(){this.$emit("modal-close")}}}}}]);