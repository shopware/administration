{"version":3,"sources":["webpack:///./src/module/sw-flow/component/modals/sw-flow-grant-download-access-modal/index.js","webpack:///./src/module/sw-flow/component/modals/sw-flow-grant-download-access-modal/sw-flow-grant-download-access-modal.html.twig"],"names":["_Shopware","Shopware","Component","Mixin","ShopwareError","Classes","mapState","getComponentHelper","template","mixins","getByName","props","sequence","type","Object","required","action","String","default","data","value","valueError","computed","_objectSpread","valueOptions","label","concat","this","$tc","watch","created","createdComponent","methods","config","getConfig","fieldError","field","code","onSave","$emit","onClose"],"mappings":"stBAEA,IAAAA,EAA6BC,SAArBC,EAASF,EAATE,UAAWC,EAAKH,EAALG,MACXC,EAAkBH,SAASI,QAA3BD,cACAE,EAAaJ,EAAUK,qBAAvBD,SAMO,WACXE,SCXW,4zCDaXC,OAAQ,CACJN,EAAMO,UAAU,eAChBP,EAAMO,UAAU,iBAGpBC,MAAO,CACHC,SAAU,CACNC,KAAMC,OACNC,UAAU,GAEdC,OAAQ,CACJH,KAAMI,OACNF,UAAU,EACVG,QAAS,OAIjBC,KAAI,WACA,MAAO,CACHC,MAAO,KACPC,WAAY,OAIpBC,SAAQC,EAAA,CACJC,aAAY,WACR,MAAO,CACH,CACIJ,OAAO,EACPK,MAAM,GAADC,OAAKC,KAAKC,IAAI,iDAEvB,CACIR,OAAO,EACPK,MAAM,GAADC,OAAKC,KAAKC,IAAI,qDAK5BtB,EAAS,cAAe,CAAC,eAAgB,oBAGhDuB,MAAO,CACHT,MAAK,SAACA,GACEA,GAASO,KAAKN,aACdM,KAAKN,WAAa,QAK9BS,QAAO,WACHH,KAAKI,oBAGTC,QAAS,CACLD,iBAAgB,WACZ,IAAQE,EAAWN,KAAKf,SAAhBqB,OAERN,KAAKP,MAAQa,aAAM,EAANA,EAAQb,OAGzBc,UAAS,WACL,MAAO,CACHd,MAAOO,KAAKP,QAIpBe,WAAU,SAACC,GACP,MAAqB,kBAAVA,EACA,IAAIhC,EAAc,CACrBiC,KAAM,yCAIP,MAGXC,OAAM,WAEF,GADAX,KAAKN,WAAaM,KAAKQ,WAAWR,KAAKP,QACnCO,KAAKN,WAAT,CAIA,IAAMY,EAASN,KAAKO,YACdf,EAAII,IAAA,GACHI,KAAKf,UAAQ,IAChBqB,WAEJN,KAAKY,MAAM,iBAAkBpB,GAC7BQ,KAAKa,YAGTA,QAAO,WACHb,KAAKN,WAAa,KAClBM,KAAKY,MAAM","file":"static/js/1339ac034d849de9abfb.js","sourcesContent":["import template from './sw-flow-grant-download-access-modal.html.twig';\n\nconst { Component, Mixin } = Shopware;\nconst { ShopwareError } = Shopware.Classes;\nconst { mapState } = Component.getComponentHelper();\n\n/**\n * @private\n * @package services-settings\n */\nexport default {\n    template,\n\n    mixins: [\n        Mixin.getByName('placeholder'),\n        Mixin.getByName('notification'),\n    ],\n\n    props: {\n        sequence: {\n            type: Object,\n            required: true,\n        },\n        action: {\n            type: String,\n            required: false,\n            default: null,\n        },\n    },\n\n    data() {\n        return {\n            value: null,\n            valueError: null,\n        };\n    },\n\n    computed: {\n        valueOptions() {\n            return [\n                {\n                    value: true,\n                    label: `${this.$tc('sw-flow.modals.downloadAccess.options.grant')}`,\n                },\n                {\n                    value: false,\n                    label: `${this.$tc('sw-flow.modals.downloadAccess.options.revoke')}`,\n                },\n            ];\n        },\n\n        ...mapState('swFlowState', ['triggerEvent', 'triggerActions']),\n    },\n\n    watch: {\n        value(value) {\n            if (value && this.valueError) {\n                this.valueError = null;\n            }\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            const { config } = this.sequence;\n\n            this.value = config?.value;\n        },\n\n        getConfig() {\n            return {\n                value: this.value,\n            };\n        },\n\n        fieldError(field) {\n            if (typeof field !== 'boolean') {\n                return new ShopwareError({\n                    code: 'c1051bb4-d103-4f74-8988-acbcafc7fdc3',\n                });\n            }\n\n            return null;\n        },\n\n        onSave() {\n            this.valueError = this.fieldError(this.value);\n            if (this.valueError) {\n                return;\n            }\n\n            const config = this.getConfig();\n            const data = {\n                ...this.sequence,\n                config,\n            };\n            this.$emit('process-finish', data);\n            this.onClose();\n        },\n\n        onClose() {\n            this.valueError = null;\n            this.$emit('modal-close');\n        },\n    },\n};\n","export default \"<sw-modal\\n    class=\\\"sw-flow-grant-download-access-modal\\\"\\n    :title=\\\"$tc('sw-flow.modals.downloadAccess.titleSetDownloadAccess')\\\"\\n    :closable=\\\"false\\\"\\n    @modal-close=\\\"onClose\\\"\\n>\\n    <div class=\\\"sw-flow-grant-download-access-modal__content\\\">\\n        <sw-single-select\\n            {% if VUE3 %}\\n            v-model:value=\\\"value\\\"\\n            {% else %}\\n            v-model=\\\"value\\\"\\n            {% endif %}\\n            class=\\\"sw-flow-grant-download-access-modal__value-field\\\"\\n            required\\n            :label=\\\"$tc('sw-flow.modals.downloadAccess.labelValueField')\\\"\\n            :placeholder=\\\"$tc('sw-flow.modals.downloadAccess.placeholderValueField')\\\"\\n            :error=\\\"valueError\\\"\\n            :options=\\\"valueOptions\\\"\\n        />\\n    </div>\\n\\n    <template #modal-footer>\\n        <sw-button\\n            class=\\\"sw-flow-grant-download-access-modal__cancel-button\\\"\\n            size=\\\"small\\\"\\n            @click=\\\"onClose\\\"\\n        >\\n            {{ $tc('global.default.cancel') }}\\n        </sw-button>\\n\\n        <sw-button\\n            class=\\\"sw-flow-grant-download-access-modal__save-button\\\"\\n            variant=\\\"primary\\\"\\n            size=\\\"small\\\"\\n            @click=\\\"onSave\\\"\\n        >\\n            {{ $tc('sw-flow.modals.buttonSaveAction') }}\\n        </sw-button>\\n    </template>\\n</sw-modal>\\n\";"],"sourceRoot":""}