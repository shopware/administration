{"version":3,"sources":["webpack:///./src/module/sw-media/component/sidebar/sw-media-quickinfo-usage/sw-media-quickinfo-usage.html.twig","webpack:///./src/module/sw-media/component/sidebar/sw-media-quickinfo-usage/index.js","webpack:///./src/module/sw-media/component/sidebar/sw-media-quickinfo-usage/sw-media-quickinfo-usage.scss"],"names":["Application","Shopware","types","Utils","template","props","item","required","type","Object","validator","value","getEntityName","routerLinkTarget","String","default","data","products","categories","manufacturers","mailTemplates","documentBaseConfigs","avatarUsers","paymentMethods","shippingMethods","layouts","isLoading","computed","moduleFactory","getContainer","module","getUsages","_this","usages","this","forEach","_ref","product","push","getProductUsage","category","getCategoryUsage","manufacturer","getManufacturerUsage","_ref2","mailTemplate","some","usage","link","id","getMailTemplateUsage","documentBaseConfig","getDocumentBaseConfigUsage","paymentMethod","getPaymentMethodUsage","shippingMethod","getShippingMethodUsage","layout","getLayoutUsage","isEmpty","avatarUser","getAvatarUserUsage","isNotUsed","length","watch","createdComponent","created","methods","loadProductAssociations","loadCategoryAssociations","loadManufacturerAssociations","loadMailTemplateAssociations","loadDocumentBaseConfigAssociations","loadAvatarUserAssociations","loadPaymentMethodAssociations","loadShippingMethodAssociations","loadLayoutAssociations","productMedia","productManufacturers","mailTemplateMedia","_this2","cmsBlocks","isExistedCmsMedia","section","pageId","name","page","translated","cmsSections","cmsPages","tooltip","$tc","icon","getIconForModule","description","document","user","username","distinguishableName","getModuleRegistry","get","manifest","color","content","__esModule","i","locals","exports","add"],"mappings":"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","file":"static/js/fc835cbece0d0f064aea.js","sourcesContent":["export default \"\\n{% block sw_media_quickinfo_usage %}\\n<div class=\\\"sw-media-quickinfo-usage\\\">\\n    \\n    {% block sw_media_quickinfo_usage_loader %}\\n    <sw-loader\\n        v-if=\\\"isLoading\\\"\\n        size=\\\"30px\\\"\\n        class=\\\"sw-media-quickinfo-usage__loading-indicator\\\"\\n    />\\n    {% endblock %}\\n\\n    \\n    {% block sw_media_quickinfo_usage_empty_state %}\\n    <sw-alert\\n        v-else-if=\\\"isNotUsed\\\"\\n        class=\\\"sw-media-quickinfo-usage__info-not-used\\\"\\n        variant=\\\"info\\\"\\n        :title=\\\"$tc('sw-media.sidebar.usage.titleMediaNotUsed')\\\"\\n    >\\n        {{ $tc('sw-media.sidebar.usage.labelMediaNotUsed') }}\\n    </sw-alert>\\n    {% endblock %}\\n\\n    \\n    {% block sw_media_quickinfo_usage_list %}\\n    <ul\\n        v-else\\n        class=\\\"sw-media-quickinfo-usage__list\\\"\\n    >\\n        \\n        {% block sw_media_quickinfo_usage_item %}\\n        <router-link\\n            v-for=\\\"usage in getUsages\\\"\\n            :key=\\\"usage.link.id\\\"\\n            :to=\\\"{ name: usage.link.name, params: { id: usage.link.id } }\\\"\\n            :target=\\\"routerLinkTarget\\\"\\n        >\\n            <li\\n                v-tooltip=\\\"{\\n                    showDelay: 300,\\n                    hideDelay: 5,\\n                    message: usage.tooltip\\n                }\\\"\\n                class=\\\"sw-media-quickinfo-usage__item\\\"\\n            >\\n                \\n                {% block sw_media_quickinfo_usage_item_icon %}\\n                <div class=\\\"sw-media-quickinfo-usage__label\\\">\\n                    <sw-icon\\n                        :name=\\\"usage.icon.name\\\"\\n                        :color=\\\"usage.icon.color\\\"\\n                        small\\n                    />\\n                </div>\\n                {% endblock %}\\n\\n                \\n                {% block sw_media_quickinfo_usage_item_label %}\\n                <div class=\\\"sw-media-quickinfo-usage__label\\\">\\n                    {{ usage.name }}\\n                </div>\\n                {% endblock %}\\n            </li>\\n        </router-link>\\n        {% endblock %}\\n    </ul>\\n    {% endblock %}\\n</div>\\n{% endblock %}\\n\\n\";","import template from './sw-media-quickinfo-usage.html.twig';\nimport './sw-media-quickinfo-usage.scss';\n\nconst { Application } = Shopware;\nconst types = Shopware.Utils.types;\n\n/**\n * @package buyers-experience\n */\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    props: {\n        item: {\n            required: true,\n            type: Object,\n            validator(value) {\n                return value.getEntityName() === 'media';\n            },\n        },\n        routerLinkTarget: {\n            required: false,\n            type: String,\n            default: '',\n        },\n    },\n\n    data() {\n        return {\n            products: [],\n            categories: [],\n            manufacturers: [],\n            mailTemplates: [],\n            documentBaseConfigs: [],\n            avatarUsers: [],\n            paymentMethods: [],\n            shippingMethods: [],\n            layouts: [],\n            isLoading: false,\n        };\n    },\n\n    computed: {\n\n        moduleFactory() {\n            return Application.getContainer('factory').module;\n        },\n\n        getUsages() {\n            const usages = [];\n            this.products.forEach(({ product }) => {\n                usages.push(this.getProductUsage(product));\n            });\n\n            this.categories.forEach((category) => {\n                usages.push(this.getCategoryUsage(category));\n            });\n\n            this.manufacturers.forEach((manufacturer) => {\n                usages.push(this.getManufacturerUsage(manufacturer));\n            });\n\n            this.mailTemplates.forEach(({ mailTemplate }) => {\n                if (!usages.some(usage => usage.link.id === mailTemplate.id)) {\n                    usages.push(this.getMailTemplateUsage(mailTemplate));\n                }\n            });\n\n            this.documentBaseConfigs.forEach((documentBaseConfig) => {\n                usages.push(this.getDocumentBaseConfigUsage(documentBaseConfig));\n            });\n\n            this.paymentMethods.forEach((paymentMethod) => {\n                usages.push(this.getPaymentMethodUsage(paymentMethod));\n            });\n\n            this.shippingMethods.forEach((shippingMethod) => {\n                usages.push(this.getShippingMethodUsage(shippingMethod));\n            });\n\n            this.layouts.forEach((layout) => {\n                usages.push(this.getLayoutUsage(layout));\n            });\n\n            if (!types.isEmpty(this.avatarUsers)) {\n                this.avatarUsers.forEach((avatarUser) => {\n                    usages.push(this.getAvatarUserUsage(avatarUser));\n                });\n            }\n\n            return usages;\n        },\n\n        isNotUsed() {\n            return this.getUsages.length === 0;\n        },\n    },\n\n    watch: {\n        item() {\n            this.createdComponent();\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.loadProductAssociations();\n            this.loadCategoryAssociations();\n            this.loadManufacturerAssociations();\n            this.loadMailTemplateAssociations();\n            this.loadDocumentBaseConfigAssociations();\n            this.loadAvatarUserAssociations();\n            this.loadPaymentMethodAssociations();\n            this.loadShippingMethodAssociations();\n            this.loadLayoutAssociations();\n        },\n\n        loadProductAssociations() {\n            this.products = this.item.productMedia;\n        },\n\n        loadCategoryAssociations() {\n            this.categories = this.item.categories;\n        },\n\n        loadManufacturerAssociations() {\n            this.manufacturers = this.item.productManufacturers;\n        },\n\n        loadMailTemplateAssociations() {\n            this.mailTemplates = this.item.mailTemplateMedia;\n        },\n\n        loadDocumentBaseConfigAssociations() {\n            this.documentBaseConfigs = this.item.documentBaseConfigs;\n        },\n\n        loadAvatarUserAssociations() {\n            this.avatarUsers = this.item.avatarUsers;\n        },\n\n        loadPaymentMethodAssociations() {\n            this.paymentMethods = this.item.paymentMethods;\n        },\n\n        loadShippingMethodAssociations() {\n            this.shippingMethods = this.item.shippingMethods;\n        },\n\n        loadLayoutAssociations() {\n            this.layouts = [];\n            this.item.cmsBlocks.forEach((layout) => {\n                if (!this.isExistedCmsMedia(layout.section.pageId)) {\n                    this.layouts.push({\n                        id: layout.section.pageId,\n                        name: layout.section.page.translated.name,\n                    });\n                }\n            });\n\n            this.item.cmsSections.forEach((layout) => {\n                if (!this.isExistedCmsMedia(layout.pageId)) {\n                    this.layouts.push({\n                        id: layout.pageId,\n                        name: layout.page.translated.name,\n                    });\n                }\n            });\n\n            this.item.cmsPages.forEach((layout) => {\n                if (!this.isExistedCmsMedia(layout.id)) {\n                    this.layouts.push({\n                        id: layout.id,\n                        name: layout.translated.name,\n                    });\n                }\n            });\n        },\n\n        isExistedCmsMedia(id) {\n            return this.layouts.some(layout => {\n                return layout.id === id;\n            });\n        },\n\n        getProductUsage(product) {\n            return {\n                name: product.translated.name,\n                tooltip: this.$tc('sw-media.sidebar.usage.tooltipFoundInProducts'),\n                link: {\n                    name: 'sw.product.detail',\n                    id: product.id,\n                },\n                icon: this.getIconForModule('sw-product'),\n            };\n        },\n\n        getCategoryUsage(category) {\n            return {\n                name: category.translated.name,\n                tooltip: this.$tc('sw-media.sidebar.usage.tooltipFoundInCategories'),\n                link: {\n                    name: 'sw.category.detail',\n                    id: category.id,\n                },\n                icon: this.getIconForModule('sw-category'),\n            };\n        },\n\n        getManufacturerUsage(manufacturer) {\n            return {\n                name: manufacturer.translated.name,\n                tooltip: this.$tc('sw-media.sidebar.usage.tooltipFoundInManufacturers'),\n                link: {\n                    name: 'sw.manufacturer.detail',\n                    id: manufacturer.id,\n                },\n                icon: this.getIconForModule('sw-manufacturer'),\n            };\n        },\n\n        getMailTemplateUsage(mailTemplate) {\n            return {\n                name: mailTemplate.translated.description,\n                tooltip: this.$tc('sw-media.sidebar.usage.tooltipFoundInMailTemplate'),\n                link: {\n                    name: 'sw.mail.template.detail',\n                    id: mailTemplate.id,\n                },\n                icon: this.getIconForModule('sw-mail-template'),\n            };\n        },\n\n        getDocumentBaseConfigUsage(document) {\n            return {\n                name: document.name,\n                tooltip: this.$tc('sw-media.sidebar.usage.tooltipFoundInDocument'),\n                link: {\n                    name: 'sw.settings.document.detail',\n                    id: document.id,\n                },\n                icon: this.getIconForModule('sw-settings-document'),\n            };\n        },\n\n        getAvatarUserUsage(user) {\n            return {\n                name: user.username,\n                tooltip: this.$tc('sw-media.sidebar.usage.tooltipFoundInUser'),\n                link: {\n                    name: 'sw.settings.user.detail',\n                    id: user.id,\n                },\n                icon: this.getIconForModule('sw-settings-user'),\n            };\n        },\n\n        getPaymentMethodUsage(paymentMethod) {\n            return {\n                name: paymentMethod.translated.distinguishableName,\n                tooltip: this.$tc('sw-media.sidebar.usage.tooltipFoundInPayment'),\n                link: {\n                    name: 'sw.settings.payment.detail',\n                    id: paymentMethod.id,\n                },\n                icon: this.getIconForModule('sw-settings-payment'),\n            };\n        },\n\n        getShippingMethodUsage(shippingMethod) {\n            return {\n                name: shippingMethod.translated.name,\n                tooltip: this.$tc('sw-media.sidebar.usage.tooltipFoundShipping'),\n                link: {\n                    name: 'sw.settings.shipping.detail',\n                    id: shippingMethod.id,\n                },\n                icon: this.getIconForModule('sw-settings-shipping'),\n            };\n        },\n\n        getLayoutUsage(layout) {\n            return {\n                name: layout.name,\n                tooltip: this.$tc('sw-media.sidebar.usage.tooltipFoundLayout'),\n                link: {\n                    name: 'sw.cms.detail',\n                    id: layout.id,\n                },\n                icon: this.getIconForModule('sw-cms'),\n            };\n        },\n\n        getIconForModule(name) {\n            const module = this.moduleFactory.getModuleRegistry().get(name);\n            return {\n                name: module.manifest.icon,\n                color: module.manifest.color,\n            };\n        },\n    },\n};\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--15-1!../../../../../../node_modules/css-loader/dist/cjs.js??ref--15-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--15-3!./sw-media-quickinfo-usage.scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"c696926c\", content, true, {});"],"sourceRoot":""}