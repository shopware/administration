(window.webpackJsonpAdministration=window.webpackJsonpAdministration||[]).push([[6169],{610085:function(){},306169:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return i}}),l(861825);let{Mixin:n}=Shopware;var i={template:'\n{% block sw_media_modal_replace %}\n<sw-modal\n    class="sw-media-modal-replace"\n    size="420px"\n    :title="$tc(\'global.sw-media-modal-replace.titleModal\')"\n    @modal-close="emitCloseReplaceModal"\n>\n\n    <sw-upload-listener\n        :upload-tag="itemToReplace.id"\n        @media-upload-add="onNewUpload"\n    />\n\n    <sw-media-replace\n        class="sw-media-modal-replace__upload"\n        :item-to-replace="itemToReplace"\n        :upload-tag="itemToReplace.id"\n        variant="regular"\n    />\n\n    <sw-alert\n        v-if="newFileExtension"\n        class="sw-media-modal-replace__file-extension-warning"\n        variant="warning"\n    >\n        {{ $tc(\'global.sw-media-modal-replace.warningFileExtension\', 0, { extension: newFileExtension }) }}\n    </sw-alert>\n\n    \n    {% block sw_media_modal_replace_modal_footer %}\n    <template #modal-footer>\n        \n        {% block sw_media_modal_replace_cancel_button %}\n        <sw-button\n            size="small"\n            @click="emitCloseReplaceModal"\n        >\n            {{ $tc(\'global.default.cancel\') }}\n        </sw-button>\n        {% endblock %}\n\n        \n        {% block sw_media_modal_replace_replace_button %}\n        <sw-button\n            class="sw-media-replace__replace-media-action"\n            size="small"\n            variant="primary"\n            :disabled="!isUploadDataSet"\n            @click="replaceMediaItem"\n        >\n            {{ $tc(\'global.sw-media-modal-replace.buttonReplace\') }}\n        </sw-button>\n        {% endblock %}\n    </template>\n    {% endblock %}\n</sw-modal>\n{% endblock %}\n',compatConfig:Shopware.compatConfig,inject:["mediaService","repositoryFactory"],emits:["media-replace-modal-close","media-replace-modal-item-replaced"],mixins:[n.getByName("notification")],props:{itemToReplace:{type:Object,required:!1,default:null}},data(){return{uploadTag:null,isUploadDataSet:!1,newFileExtension:""}},methods:{onNewUpload({data:e}){this.isUploadDataSet=!0;let a=e[0].extension;a!==this.itemToReplace.fileExtension&&(this.newFileExtension=a)},emitCloseReplaceModal(){this.$emit("media-replace-modal-close")},async replaceMediaItem(){this.itemToReplace.isLoading=!0;let e=this.itemToReplace.fileName;await this.mediaService.runUploads(this.itemToReplace.id),await this.mediaService.renameMedia(this.itemToReplace.id,e),this.itemToReplace.isLoading=!1,this.$emit("media-replace-modal-item-replaced")}}}},861825:function(e,a,l){var n=l(610085);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),l(745346).Z("5941a4e4",n,!0,{})}}]);