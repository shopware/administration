{"version":3,"sources":["webpack:///./src/module/sw-customer/component/sw-customer-card/sw-customer-card.scss","webpack:///./src/module/sw-customer/constant/sw-customer.constant.js","webpack:///./src/module/sw-customer/component/sw-customer-card/index.js","webpack:///./src/module/sw-customer/component/sw-customer-card/sw-customer-card.html.twig"],"names":["content","__esModule","default","module","i","locals","exports","add","Object","freeze","ACCOUNT_TYPE_PRIVATE","ACCOUNT_TYPE_BUSINESS","_Shopware","Shopware","Mixin","Defaults","mapPropertyErrors","Component","getComponentHelper","Criteria","Data","template","inject","mixins","getByName","props","customer","type","required","title","String","editMode","Boolean","isLoading","computed","_objectSpread","hasActionSlot","_this$$slots$actions","this","$slots","actions","hasAdditionalDataSlot","_this$$slots$dataAdd","hasSummarySlot","_this$$slots$summary","summary","moduleColor","$route","meta","$module","color","fullName","name","salutation","company","values","filter","item","join","trim","salutationCriteria","criteria","addFilter","not","equals","defaultSalutationId","_toConsumableArray","errorConfig","accountTypeOptions","value","CUSTOMER","label","$tc","isBusinessAccountType","_this$customer","accountType","watch","customerCompanyError","State","dispatch","expression","concat","id","methods","getMailTo","mail"],"mappings":"sGAGA,IAAIA,EAAU,EAAQ,QACnBA,EAAQC,aAAYD,EAAUA,EAAQE,SACnB,iBAAZF,IAAsBA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAC7DA,EAAQK,SAAQF,EAAOG,QAAUN,EAAQK,SAG/BE,EADH,EAAQ,QAAwEL,SACzE,WAAYF,GAAS,EAAM,K,+TCD7BQ,WAAOC,OAAO,CACzBC,qBALyB,UAMzBC,sBAL0B,c,4rBCI9B,IAAAC,EAA4BC,SAApBC,EAAKF,EAALE,MAAOC,EAAQH,EAARG,SACPC,EAAsBH,SAASI,UAAUC,qBAAzCF,kBACAG,EAAaN,SAASO,KAAtBD,SAGO,WACXE,SCfW,uocDiBXC,OAAQ,CAAC,qBAETC,OAAQ,CACJT,EAAMU,UAAU,eAGpBC,MAAO,CACHC,SAAU,CACNC,KAAMnB,OACNoB,UAAU,GAEdC,MAAO,CACHF,KAAMG,OACNF,UAAU,GAEdG,SAAU,CACNJ,KAAMK,QACNJ,UAAU,EACV1B,SAAS,GAEb+B,UAAW,CACPN,KAAMK,QACNJ,UAAU,EACV1B,SAAS,IAIjBgC,SAAQC,IAAA,CACJC,cAAa,WAAI,IAADC,EACZ,QAA4B,QAApBA,EAACC,KAAKC,OAAOC,eAAO,IAAAH,IAAnBA,EAAsB,KAGnCI,sBAAqB,WAAI,IAADC,EACpB,QAAuC,QAA/BA,EAACJ,KAAKC,OAAO,0BAAkB,IAAAG,IAA9BA,EAAiC,KAG9CC,eAAc,WAAI,IAADC,EACb,QAA4B,QAApBA,EAACN,KAAKC,OAAOM,eAAO,IAAAD,IAAnBA,EAAsB,KAGnCE,YAAW,WACP,OAAKR,KAAKS,OAAOC,KAAKC,QAGfX,KAAKS,OAAOC,KAAKC,QAAQC,MAFrB,IAKfC,SAAQ,WACJ,IAAMC,EAAO,CACTA,KAAMd,KAAKe,WAAWf,KAAKZ,UAC3B4B,QAAShB,KAAKZ,SAAS4B,SAG3B,OAAO9C,OAAO+C,OAAOH,GAAMI,QAAO,SAAAC,GAAI,OAAa,OAATA,KAAeC,KAAK,OAAOC,QAGzEC,mBAAkB,WACd,IAAMC,EAAW,IAAI1C,EAAS,EAAG,IAMjC,OAJA0C,EAASC,UAAU3C,EAAS4C,IAAI,KAAM,CAClC5C,EAAS6C,OAAO,KAAMjD,EAASkD,wBAG5BJ,IAGR7C,EACC,WAAUkD,IACNC,EAAY,2BAA2BzC,YAC9C,IAED0C,mBAAkB,WACd,MAAO,CAAC,CACJC,MAAOC,IAAS5D,qBAAsB6D,MAAOjC,KAAKkC,IAAI,0CACvD,CACCH,MAAOC,IAAS3D,sBAAuB4D,MAAOjC,KAAKkC,IAAI,6CAI/DC,sBAAqB,WAAI,IAADC,EACpB,OAAoB,QAAbA,EAAApC,KAAKZ,gBAAQ,IAAAgD,OAAA,EAAbA,EAAeC,eAAgBL,IAAS3D,yBAIvDiE,MAAO,CACH,uBAAsB,SAACP,GACfA,IAAUC,IAAS3D,uBAA0B2B,KAAKuC,sBAItDhE,SAASiE,MAAMC,SACX,uBACA,CACIC,WAAW,YAADC,OAAc3C,KAAKZ,SAASwD,GAAE,gBAMxDC,QAAS,CACLC,UAAS,SAACC,GACN,MAAM,UAANJ,OAAiBI","file":"static/js/b29012e70cbaa5f3475f.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--15-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--15-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--15-3!./sw-customer-card.scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"77cbe451\", content, true, {});","/**\n * @package checkout\n */\n\nconst ACCOUNT_TYPE_PRIVATE = 'private';\nconst ACCOUNT_TYPE_BUSINESS = 'business';\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default Object.freeze({\n    ACCOUNT_TYPE_PRIVATE,\n    ACCOUNT_TYPE_BUSINESS,\n});\n","import template from './sw-customer-card.html.twig';\nimport './sw-customer-card.scss';\nimport errorConfig from '../../error-config.json';\nimport CUSTOMER from '../../constant/sw-customer.constant';\n\n/**\n * @package checkout\n */\n\nconst { Mixin, Defaults } = Shopware;\nconst { mapPropertyErrors } = Shopware.Component.getComponentHelper();\nconst { Criteria } = Shopware.Data;\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    inject: ['repositoryFactory'],\n\n    mixins: [\n        Mixin.getByName('salutation'),\n    ],\n\n    props: {\n        customer: {\n            type: Object,\n            required: true,\n        },\n        title: {\n            type: String,\n            required: true,\n        },\n        editMode: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n        isLoading: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n    },\n\n    computed: {\n        hasActionSlot() {\n            return !!this.$slots.actions?.[0];\n        },\n\n        hasAdditionalDataSlot() {\n            return !!this.$slots['data-additional']?.[0];\n        },\n\n        hasSummarySlot() {\n            return !!this.$slots.summary?.[0];\n        },\n\n        moduleColor() {\n            if (!this.$route.meta.$module) {\n                return '';\n            }\n            return this.$route.meta.$module.color;\n        },\n\n        fullName() {\n            const name = {\n                name: this.salutation(this.customer),\n                company: this.customer.company,\n            };\n\n            return Object.values(name).filter(item => item !== null).join(' - ').trim();\n        },\n\n        salutationCriteria() {\n            const criteria = new Criteria(1, 25);\n\n            criteria.addFilter(Criteria.not('or', [\n                Criteria.equals('id', Defaults.defaultSalutationId),\n            ]));\n\n            return criteria;\n        },\n\n        ...mapPropertyErrors(\n            'customer',\n            [...errorConfig['sw.customer.detail.base'].customer],\n        ),\n\n        accountTypeOptions() {\n            return [{\n                value: CUSTOMER.ACCOUNT_TYPE_PRIVATE, label: this.$tc('sw-customer.customerType.labelPrivate'),\n            }, {\n                value: CUSTOMER.ACCOUNT_TYPE_BUSINESS, label: this.$tc('sw-customer.customerType.labelBusiness'),\n            }];\n        },\n\n        isBusinessAccountType() {\n            return this.customer?.accountType === CUSTOMER.ACCOUNT_TYPE_BUSINESS;\n        },\n    },\n\n    watch: {\n        'customer.accountType'(value) {\n            if (value === CUSTOMER.ACCOUNT_TYPE_BUSINESS || !this.customerCompanyError) {\n                return;\n            }\n\n            Shopware.State.dispatch(\n                'error/removeApiError',\n                {\n                    expression: `customer.${this.customer.id}.company`,\n                },\n            );\n        },\n    },\n\n    methods: {\n        getMailTo(mail) {\n            return `mailto:${mail}`;\n        },\n    },\n};\n","export default \"\\n{% block sw_customer_card %}\\n<sw-card\\n    class=\\\"sw-customer-card\\\"\\n    position-identifier=\\\"sw-customer\\\"\\n    :title=\\\"title\\\"\\n    :is-loading=\\\"isLoading\\\"\\n>\\n    \\n    {% block sw_customer_card_rows %}\\n    <template #grid>\\n        <sw-container rows=\\\"auto auto\\\">\\n            \\n            {% block sw_customer_card_row_primary %}\\n            <sw-card-section divider=\\\"bottom\\\">\\n                \\n                {% block sw_customer_card_metadata_container %}\\n                <sw-container\\n                    columns=\\\"80px 1fr max-content\\\"\\n                    gap=\\\"0px 30px\\\"\\n                >\\n                    \\n                    {% block sw_customer_card_avatar %}\\n                    <sw-avatar\\n                        size=\\\"80px\\\"\\n                        :source-context=\\\"customer\\\"\\n                        :first-name=\\\"customer.firstName\\\"\\n                        :last-name=\\\"customer.lastName\\\"\\n                    />\\n                    {% endblock %}\\n\\n                    \\n                    {% block sw_customer_card_metadata %}\\n                    <div class=\\\"sw-customer-card__metadata\\\">\\n                        \\n                        {% block sw_customer_card_metadata_customer_name %}\\n                        \\n                        {% block sw_custsomer_card_metadata_customer_name_label %}\\n                        <template v-if=\\\"!editMode\\\">\\n                            <div\\n                                v-if=\\\"customer\\\"\\n                                class=\\\"sw-customer-card__metadata-customer-name\\\"\\n                            >\\n                                {{ fullName }}\\n                                <sw-label\\n                                    v-if=\\\"customer.guest\\\"\\n                                    appearance=\\\"pill\\\"\\n                                    size=\\\"small\\\"\\n                                    class=\\\"sw-customer-card__metadata-customer-guest-label\\\"\\n                                >\\n                                    {{ $tc('sw-customer.card.labelGuest') }}\\n                                </sw-label>\\n                            </div>\\n                        </template>\\n                        {% endblock %}\\n\\n                        \\n                        {% block sw_customer_card_metadata_customer_name_editor %}\\n                        <div v-else>\\n                            <sw-container\\n                                columns=\\\"1fr 1fr\\\"\\n                                gap=\\\"10px\\\"\\n                            >\\n                                \\n                                {% block sw_customer_card_account_type_field %}\\n                                <sw-single-select\\n                                    {% if VUE3 %}\\n                                    v-model:value=\\\"customer.accountType\\\"\\n                                    {% else %}\\n                                    v-model=\\\"customer.accountType\\\"\\n                                    {% endif %}\\n                                    class=\\\"sw-customer-card__account-type-select\\\"\\n                                    :label=\\\"$tc('sw-customer.customerType.labelAccountType')\\\"\\n                                    :placeholder=\\\"$tc('sw-customer.customerType.placeholderAccountType')\\\"\\n                                    :options=\\\"accountTypeOptions\\\"\\n                                />\\n                                {% endblock %}\\n\\n                                \\n                                {% block sw_customer_card_metadata_customer_name_editor_salutation %}\\n                                <sw-entity-single-select\\n                                    {% if VUE3 %}\\n                                    v-model:value=\\\"customer.salutationId\\\"\\n                                    {% else %}\\n                                    v-model=\\\"customer.salutationId\\\"\\n                                    {% endif %}\\n                                    class=\\\"sw-customer-card__salutation-select\\\"\\n                                    entity=\\\"salutation\\\"\\n                                    label-property=\\\"displayName\\\"\\n                                    :label=\\\"$tc('sw-customer.card.labelSalutation')\\\"\\n                                    :criteria=\\\"salutationCriteria\\\"\\n                                />\\n                                {% endblock %}\\n\\n                                \\n                                {% block sw_customer_card_metadata_customer_name_editor_title %}\\n                                <sw-text-field\\n                                    {% if VUE3 %}\\n                                    v-model:value=\\\"customer.title\\\"\\n                                    {% else %}\\n                                    v-model=\\\"customer.title\\\"\\n                                    {% endif %}\\n                                    :label=\\\"$tc('sw-customer.card.labelTitle')\\\"\\n                                    :placeholder=\\\"$tc('sw-customer.card.placeholderTitle')\\\"\\n                                />\\n                                {% endblock %}\\n                            </sw-container>\\n\\n                            <sw-container\\n                                columns=\\\"1fr 1fr\\\"\\n                                gap=\\\"10px\\\"\\n                            >\\n                                \\n                                {% block sw_customer_card_metadata_customer_name_editor_first_name %}\\n                                <sw-text-field\\n                                    {% if VUE3 %}\\n                                    v-model:value=\\\"customer.firstName\\\"\\n                                    {% else %}\\n                                    v-model=\\\"customer.firstName\\\"\\n                                    {% endif %}\\n                                    :label=\\\"$tc('sw-customer.card.labelFirstName')\\\"\\n                                    validation=\\\"required\\\"\\n                                    required\\n                                    :error=\\\"customerFirstNameError\\\"\\n                                    :placeholder=\\\"$tc('sw-customer.card.placeholderFirstName')\\\"\\n                                />\\n                                {% endblock %}\\n\\n                                \\n                                {% block sw_customer_card_metadata_customer_name_editor_last_name %}\\n                                <sw-text-field\\n                                    {% if VUE3 %}\\n                                    v-model:value=\\\"customer.lastName\\\"\\n                                    {% else %}\\n                                    v-model=\\\"customer.lastName\\\"\\n                                    {% endif %}\\n                                    :label=\\\"$tc('sw-customer.card.labelLastName')\\\"\\n                                    validation=\\\"required\\\"\\n                                    required\\n                                    :error=\\\"customerLastNameError\\\"\\n                                    :placeholder=\\\"$tc('sw-customer.card.placeholderLastName')\\\"\\n                                />\\n                                {% endblock %}\\n                            </sw-container>\\n\\n                            \\n                            {% block sw_customer_card_metadata_customer_name_editor_company %}\\n                            <sw-text-field\\n                                {% if VUE3 %}\\n                                v-model:value=\\\"customer.company\\\"\\n                                {% else %}\\n                                v-model=\\\"customer.company\\\"\\n                                {% endif %}\\n                                :required=\\\"isBusinessAccountType\\\"\\n                                :error=\\\"customerCompanyError\\\"\\n                                :label=\\\"$tc('sw-customer.card.labelCompany')\\\"\\n                                :placeholder=\\\"$tc('sw-customer.card.placeholderCompany')\\\"\\n                            />\\n                            {% endblock %}\\n                        </div>\\n                        {% endblock %}\\n                        {% endblock %}\\n\\n                        \\n                        {% block sw_customer_card_vat_ids %}\\n                        <sw-text-field\\n                            v-if=\\\"editMode && isBusinessAccountType\\\"\\n                            {% if VUE3 %}\\n                            v-model:value=\\\"customer.vatIds[0]\\\"\\n                            {% else %}\\n                            v-model=\\\"customer.vatIds[0]\\\"\\n                            {% endif %}\\n                            name=\\\"vatId\\\"\\n                            :label=\\\"$tc('sw-customer.card.labelVatId')\\\"\\n                            :placeholder=\\\"$tc('sw-customer.card.placeholderVatId')\\\"\\n                            :error=\\\"customerVatIdsError\\\"\\n                        />\\n                        {% endblock %}\\n\\n                        \\n                        {% block sw_customer_card_metadata_customer_email %}\\n                        \\n                        {% block sw_customer_card_metadata_customer_email_label %}\\n                        <div\\n                            v-if=\\\"customer.email && !editMode\\\"\\n                            class=\\\"sw-customer-card__metadata-item \\\"\\n                        >\\n                            <a\\n                                class=\\\"sw-customer-card-email-link\\\"\\n                                :href=\\\"getMailTo(customer.email)\\\"\\n                            >{{ customer.email }}</a>\\n                        </div>\\n                        {% endblock %}\\n\\n                        \\n                        {% block sw_customer_card_metadata_customer_email_editor %}\\n                        <sw-email-field\\n                            v-else\\n                            {% if VUE3 %}\\n                            v-model:value=\\\"customer.email\\\"\\n                            {% else %}\\n                            v-model=\\\"customer.email\\\"\\n                            {% endif %}\\n                            validation=\\\"required\\\"\\n                            required\\n                            :label=\\\"$tc('sw-customer.card.labelEmail')\\\"\\n                            :placeholder=\\\"$tc('sw-customer.card.placeholderEmail')\\\"\\n                            :error=\\\"customerEmailError\\\"\\n                        />\\n                        {% endblock %}\\n                        {% endblock %}\\n\\n                        \\n                        {% block sw_customer_card_password %}\\n                        <sw-password-field\\n                            v-if=\\\"editMode\\\"\\n                            {% if VUE3 %}\\n                            v-model:value=\\\"customer.passwordNew\\\"\\n                            {% else %}\\n                            v-model=\\\"customer.passwordNew\\\"\\n                            {% endif %}\\n                            autocomplete=\\\"new-password\\\"\\n                            :disabled=\\\"customer.guest\\\"\\n                            :label=\\\"$tc('sw-profile.index.labelNewPassword')\\\"\\n                            :placeholder=\\\"$tc('sw-customer.card.placeholderNewPassword')\\\"\\n                            :error=\\\"customerPasswordError\\\"\\n                        />\\n                        {% endblock %}\\n\\n                        \\n                        {% block sw_customer_card_password_confirm %}\\n                        <sw-password-field\\n                            v-if=\\\"editMode\\\"\\n                            {% if VUE3 %}\\n                            v-model:value=\\\"customer.passwordConfirm\\\"\\n                            {% else %}\\n                            v-model=\\\"customer.passwordConfirm\\\"\\n                            {% endif %}\\n                            autocomplete=\\\"new-password\\\"\\n                            :disabled=\\\"customer.guest\\\"\\n                            :label=\\\"$tc('sw-profile.index.labelNewPasswordConfirm')\\\"\\n                            :placeholder=\\\"$tc('sw-customer.card.placeholderNewPasswordConfirm')\\\"\\n                            :error=\\\"customerPasswordConfirmError\\\"\\n                        />\\n                        {% endblock %}\\n\\n                        \\n                        {% block sw_customer_card_metadata_customer_tag %}\\n                        <sw-entity-tag-select\\n                            {% if VUE3 %}\\n                            v-model:entityCollection=\\\"customer.tags\\\"\\n                            {% else %}\\n                            v-model=\\\"customer.tags\\\"\\n                            {% endif %}\\n                            :label=\\\"editMode ? $tc('sw-customer.baseForm.labelTags') : ''\\\"\\n                            class=\\\"sw-customer-card__tag-select\\\"\\n                            :disabled=\\\"!editMode\\\"\\n                            :size=\\\"editMode ? 'default' : 'medium'\\\"\\n                        />\\n                        {% endblock %}\\n\\n                        \\n                        {% block sw_customer_card_metadata_additional %}\\n                        <slot name=\\\"metadata-additional\\\">\\n                            \\n                            {% block sw_customer_card_slot_metadata_additional %}{% endblock %}\\n                        </slot>\\n                        {% endblock %}\\n\\n                        \\n                        {% block sw_customer_card_actions %}\\n                        <div\\n                            v-if=\\\"hasActionSlot\\\"\\n                            class=\\\"sw-customer-card__actions\\\"\\n                        >\\n                            <slot name=\\\"actions\\\">\\n                                \\n                                {% block sw_customer_card_slot_actions %}{% endblock %}\\n                            </slot>\\n                        </div>\\n                        {% endblock %}\\n                    </div>\\n\\n                    {% endblock %}\\n                </sw-container>\\n                {% endblock %}\\n            </sw-card-section>\\n            {% endblock %}\\n\\n            \\n            {% block sw_customer_card_row_secondary %}\\n            <sw-card-section\\n                secondary\\n                slim\\n            >\\n                <slot name=\\\"default\\\">\\n                    \\n                    {% block sw_customer_card_slot_default %}{% endblock %}\\n                </slot>\\n            </sw-card-section>\\n            {% endblock %}\\n        </sw-container>\\n    </template>\\n    {% endblock %}\\n</sw-card>\\n{% endblock %}\\n\";"],"sourceRoot":""}