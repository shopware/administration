(this.webpackJsonpAdministration=this.webpackJsonpAdministration||[]).push([[420],{"+w0V":function(t,n,e){"use strict";e.r(n);e("k5ii");var s=Shopware.Mixin,i=Shopware.Data.Criteria;n.default={template:'\n{% block sw_settings_list %}\n\n{% block sw_settings_country_index %}\n<sw-page class="sw-settings-country-list">\n\n    \n    {% block sw_settings_country_list_search_bar %}\n    <template #search-bar>\n        <sw-search-bar\n            initial-search-type="country"\n            :placeholder="$tc(\'sw-settings-country.general.placeholderSearchBar\')"\n            :initial-search="term"\n            @search="onSearch"\n        />\n    </template>\n    {% endblock %}\n\n    \n    {% block sw_settings_country_list_smart_bar_header %}\n    <template #smart-bar-header>\n        \n        {% block sw_settings_country_list_smart_bar_header_title %}\n        <h2>\n            \n            {% block sw_settings_country_list_smart_bar_header_title_text %}\n            {{ $tc(\'sw-settings.index.title\') }} <sw-icon\n                name="regular-chevron-right-xs"\n                small\n            /> {{ $tc(\'sw-settings-country.list.textHeadline\') }}\n            {% endblock %}\n\n            \n            {% block sw_settings_country_list_smart_bar_header_amount %}\n            <span\n                v-if="!isLoading"\n                class="sw-page__smart-bar-amount"\n            >\n                ({{ total }})\n            </span>\n            {% endblock %}\n        </h2>\n        {% endblock %}\n    </template>\n    {% endblock %}\n\n    \n    {% block sw_settings_country_list_smart_bar_actions %}\n    <template #smart-bar-actions>\n        \n        {% block sw_settings_country_list_smart_bar_actions_add %}\n        <sw-button\n            v-tooltip.bottom="{\n                message: $tc(\'sw-privileges.tooltip.warning\'),\n                disabled: acl.can(\'country.creator\'),\n                showOnDisabledElements: true\n            }"\n            class="sw-settings-country-list__button-create"\n            variant="primary"\n            :router-link="{ name: \'sw.settings.country.create\' }"\n            :disabled="!acl.can(\'country.creator\')"\n        >\n            {{ $tc(\'sw-settings-country.list.buttonAddCountry\') }}\n        </sw-button>\n        {% endblock %}\n    </template>\n    {% endblock %}\n\n    \n    {% block sw_settings_country_list_language_switch %}\n    <template #language-switch>\n        <sw-language-switch @on-change="onChangeLanguage" />\n    </template>\n    {% endblock %}\n\n    \n    {% block sw_settings_country_list_content %}\n    <template #content>\n        <sw-card-view>\n            \n            {% block sw_settings_country_list_content_card %}\n            <sw-card\n                v-if="isLoading || country"\n                position-identifier="sw-settings-country-list"\n            >\n                \n                {% block sw_settings_country_list_grid %}\n                <template #grid>\n                    \n                    {% block sw_settings_country_list_grid_inner %}\n                    <sw-entity-listing\n                        ref="swSettingsCountryGrid"\n                        class="sw-settings-country-list-grid"\n                        :items="country"\n                        :columns="getCountryColumns()"\n                        :repository="countryRepository"\n                        :full-page="false"\n                        detail-route="sw.settings.country.detail"\n                        :show-selection="true"\n                        :is-loading="isLoading"\n                        :allow-view="acl.can(\'country.viewer\')"\n                        :allow-edit="acl.can(\'country.editor\')"\n                        :allow-inline-edit="acl.can(\'country.editor\')"\n                        :allow-delete="acl.can(\'country.deleter\')"\n                        @inline-edit-save="onInlineEditSave"\n                    >\n\n                        <template #column-active="{ item, isInlineEdit }">\n                            <template v-if="isInlineEdit">\n                                \n                                {% block sw_settings_country_list_columns_active_editor %}\n                                <sw-checkbox-field\n                                    {% if VUE3 %}\n                                    v-model:value="item.active"\n                                    {% else %}\n                                    v-model="item.active"\n                                    {% endif %}\n                                />\n                                {% endblock %}\n                            </template>\n                            <template v-else>\n                                \n                                {% block sw_settings_country_list_columns_active_label %}\n                                <sw-icon\n                                    v-if="item.active"\n                                    name="regular-checkmark-xs"\n                                    small\n                                    class="is--active"\n                                />\n                                <sw-icon\n                                    v-else\n                                    name="regular-times-s"\n                                    small\n                                    class="is--inactive"\n                                />\n                                {% endblock %}\n                            </template>\n                        </template>\n\n                        \n                        {% block sw_settings_country_list_grid_columns_actions %}\n                        <template #actions="{ item }">\n                            \n                            {% block sw_settings_country_list_grid_columns_actions_edit %}\n                            <sw-context-menu-item\n                                :router-link="{ name: \'sw.settings.country.detail\', params: { id: item.id, edit: \'edit\' }}"\n                                :disabled="!acl.can(\'country.editor\') && !acl.can(\'country.viewer\')"\n                                class="sw-country-list__edit-action"\n                            >\n                                {{ detailPageLinkText }}\n                            </sw-context-menu-item>\n                            {% endblock %}\n\n                            \n                            {% block sw_settings_country_list_grid_columns_actions_delete %}\n                            <sw-context-menu-item\n                                class="sw-country-list__delete-action"\n                                variant="danger"\n                                :disabled="!acl.can(\'country.deleter\')"\n                                @click="onDelete(item.id)"\n                            >\n                                {{ $tc(\'sw-settings-country.list.contextMenuDelete\') }}\n                            </sw-context-menu-item>\n                            {% endblock %}\n                        </template>\n                        {% endblock %}\n\n                        \n                        {% block sw_settings_country_list_grid_action_modals %}\n                        <template #action-modals="{ item }">\n                            \n                            {% block sw_settings_country_list_delete_modal %}\n                            <sw-modal\n                                v-if="showDeleteModal === item.id"\n                                :title="$tc(\'global.default.warning\')"\n                                variant="small"\n                                @modal-close="onCloseDeleteModal"\n                            >\n                                \n                                {% block sw_settings_country_list_delete_modal_confirm_delete_text %}\n                                <p class="sw-settings-country-list__confirm-delete-text">\n                                    {{ $tc(\'sw-settings-country.list.textDeleteConfirm\', 0, { name: item.name }) }}\n                                </p>\n                                {% endblock %}\n\n                                \n                                {% block sw_settings_country_list_delete_modal_footer %}\n                                <template #modal-footer>\n                                    \n                                    {% block sw_settings_country_list_delete_modal_cancel %}\n                                    <sw-button\n                                        size="small"\n                                        @click="onCloseDeleteModal"\n                                    >\n                                        {{ $tc(\'sw-settings-country.list.buttonCancel\') }}\n                                    </sw-button>\n                                    {% endblock %}\n\n                                    \n                                    {% block sw_settings_country_list_delete_modal_confirm %}\n                                    <sw-button\n                                        variant="danger"\n                                        size="small"\n                                        @click="onConfirmDelete(item.id)"\n                                    >\n                                        {{ $tc(\'sw-settings-country.list.buttonDelete\') }}\n                                    </sw-button>\n                                    {% endblock %}\n                                </template>\n                                {% endblock %}\n                            </sw-modal>\n                            {% endblock %}\n                        </template>\n                        {% endblock %}\n                    </sw-entity-listing>\n                    {% endblock %}\n                </template>\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n        </sw-card-view>\n    </template>\n    {% endblock %}\n</sw-page>\n    {% endblock %}\n{% endblock %}\n',inject:["repositoryFactory","acl"],mixins:[s.getByName("listing")],data:function(){return{entityName:"country",country:null,sortBy:"country.name",isLoading:!1,sortDirection:"ASC",naturalSorting:!0,showDeleteModal:!1}},metaInfo:function(){return{title:this.$createTitle()}},computed:{countryRepository:function(){return this.repositoryFactory.create("country")},detailPageLinkText:function(){return!this.acl.can("country.editor")&&this.acl.can("country.viewer")?this.$tc("global.default.view"):this.$tc("global.default.edit")}},methods:{getList:function(){var t=this,n=new i(this.page,this.limit);this.isLoading=!0,this.naturalSorting="name"===this.sortBy,n.setTerm(this.term),n.addSorting(i.sort(this.sortBy,this.sortDirection,this.naturalSorting)),this.countryRepository.search(n,Shopware.Context.api).then((function(n){return t.total=n.total,t.country=n,t.isLoading=!1,n})).catch((function(){t.isLoading=!1}))},onInlineEditSave:function(t,n){var e=this;t.then((function(){e.createNotificationSuccess({message:e.$tc("sw-settings-country.detail.messageSaveSuccess",0,{name:n.name})})})).catch((function(){e.getList(),e.createNotificationError({message:e.$tc("sw-settings-country.detail.messageSaveError")})}))},onChangeLanguage:function(t){Shopware.State.commit("context/setApiLanguageId",t),this.getList()},onDelete:function(t){this.showDeleteModal=t},onCloseDeleteModal:function(){this.showDeleteModal=!1},onConfirmDelete:function(t){var n=this;return this.showDeleteModal=!1,this.countryRepository.delete(t).then((function(){n.getList()}))},getCountryColumns:function(){return[{property:"name",dataIndex:"name",inlineEdit:"string",label:"sw-settings-country.list.columnName",routerLink:"sw.settings.country.detail",primary:!0},{property:"position",inlineEdit:"number",label:"sw-settings-country.list.columnPosition"},{property:"iso",inlineEdit:"string",label:"sw-settings-country.list.columnIso"},{property:"iso3",inlineEdit:"string",label:"sw-settings-country.list.columnIso3"},{property:"active",inlineEdit:"string",label:"sw-settings-country.list.columnActive"}]}}}},k5ii:function(t,n,e){var s=e("y6sL");s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,e("P8hj").default)("1adacf6d",s,!0,{})},y6sL:function(t,n,e){}}]);
//# sourceMappingURL=37ace20a49a90e7367aa.js.map