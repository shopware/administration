(window.webpackJsonpAdministration=window.webpackJsonpAdministration||[]).push([[11922],{264975:function(){},411922:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}}),n(149342);let{Filter:s}=Shopware;var a={template:'\n{% block sw_cms_create_wizard %}\n<div class="sw-cms-create-wizard">\n    <div class="sw-cms-create-wizard__inner">\n\n        \n        {% block sw_cms_create_wizard_first_step %}\n        <div\n            v-if="step === 1"\n            class="sw-cms-create-wizard__step-1"\n        >\n            <h2 class="sw-cms-create-wizard__title">\n                {{ $tc(\'sw-cms.createWizard.choosePageTypeTitle\') }}\n            </h2>\n\n            \n            {% block sw_cms_create_wizard_page_type %}\n            <div class="sw-cms-create-wizard__page-type-selection">\n                \n                {% block sw_cms_create_wizard_page_type_options %}\n                <div\n                    v-for="pageType in visiblePageTypes"\n                    :key="pageType.name"\n                    class="sw-cms-create-wizard__page-type"\n                    :class="pageType.class"\n                    role="button"\n                    tabindex="0"\n                    @click="onPageTypeSelect(pageType.name)"\n                    @keyup.enter="onPageTypeSelect(pageType.name)"\n                >\n                    <sw-icon\n                        :name="pageType.icon"\n                        size="24"\n                    />\n                    <p>{{ $tc(pageType.title) }}</p>\n                </div>\n                {% endblock %}\n            </div>\n            {% endblock %}\n\n            \n            {% block sw_cms_create_wizard_first_step_abort %}\n            <router-link\n                class="sw-cms-create-wizard__back"\n                :to="{ name: \'sw.cms.index\' }"\n            >\n                <sw-icon\n                    name="regular-times-s"\n                    small\n                /> {{ $tc(\'sw-cms.createWizard.abortCreation\') }}\n            </router-link>\n            {% endblock %}\n\n            \n            {% block sw_cms_create_wizard_first_step_helptext %}\n            <p class="sw-cms-create-wizard__step1-helptext">\n                {{ $tc(\'sw-cms.createWizard.choosePageTypeHelpText\') }}\n            </p>\n            {% endblock %}\n\n        </div>\n        {% endblock %}\n\n        \n        {% block sw_cms_create_wizard_second_step %}\n        <div\n            v-if="step === 2"\n            class="sw-cms-create-wizard__step-2"\n        >\n            <h2 class="sw-cms-create-wizard__title">\n                {{ $tc(\'sw-cms.createWizard.chooseSectionTitle\') }}\n            </h2>\n\n            \n            {% block sw_cms_create_wizard_section %}\n            <div class="sw-cms-create-wizard__section-selection">\n                <sw-cms-stage-section-selection @section-select="onSectionSelect" />\n            </div>\n            {% endblock %}\n\n            \n            {% block sw_cms_create_wizard_second_step_back %}\n            <div\n                class="sw-cms-create-wizard__back"\n                role="button"\n                tabindex="0"\n                @click="goToStep(\'pageType\')"\n                @keydown.enter="goToStep(\'pageType\')"\n            >\n                <sw-icon\n                    name="regular-long-arrow-left"\n                    small\n                /> {{ $tc(\'sw-cms.createWizard.stepBack\') }}\n            </div>\n            {% endblock %}\n\n            \n            {% block sw_cms_create_wizard_second_step_helptext %}\n            <p class="sw-cms-create-wizard__step2-helptext">\n                {{ $tc(\'sw-cms.createWizard.chooseSectionHelpText\') }}\n            </p>\n            {% endblock %}\n        </div>\n        {% endblock %}\n\n        \n        {% block sw_cms_create_wizard_third_step %}\n        <div\n            v-if="step === 3"\n            class="sw-cms-create-wizard__step-3"\n        >\n            <h2 class="sw-cms-create-wizard__title">\n                {{ $tc(\'sw-cms.createWizard.chooseNameTitle\') }}\n            </h2>\n\n            <div class="sw-cms-create-wizard__name-select">\n                \n                {% block sw_cms_create_wizard_page_preview %}\n                <div class="sw-cms-create-wizard__page-preview">\n                    <div\n                        class="sw-cms-create-wizard__preview_image"\n                        :style="pagePreviewStyle"\n                    ></div>\n                    <div class="sw-cms-create-wizard__preview_info">\n                        <sw-icon\n                            :name="currentPageType?.icon"\n                            size="16"\n                        />\n                        <p>{{ $tc((currentPageType?.title ?? "")) }}</p>\n                    </div>\n                </div>\n                {% endblock %}\n\n                \n                {% block sw_cms_create_wizard_page_completion %}\n                <div class="sw-cms-create-wizard__page-completion">\n\n                    \n                    {% block sw_cms_create_wizard_page_name %}\n                    <sw-text-field\n                        v-model:value="page.name"\n                        class="sw-cms-create-wizard__page-completion-name"\n                        :label="$tc(\'sw-cms.detail.label.pageName\')"\n                        :placeholder="$tc(\'sw-cms.detail.label.pageNamePlaceholder\')"\n                        @keypress.enter="onCompletePageCreation"\n                    />\n                    {% endblock %}\n\n                    <sw-single-select\n                        v-if="isCustomEntityType"\n                        v-model:value="page.entity"\n                        class="sw-cms-create-wizard__page-completion-custom-entity"\n                        :label="$tc(\'sw-cms.detail.label.pageEntity\')"\n                        :placeholder="$tc(\'sw-cms.detail.label.pageEntityPlaceholder\')"\n                        :options="customEntities"\n                        require\n                    />\n\n                    \n                    {% block sw_cms_create_wizard_page_completion_buttons %}\n                    <div class="sw-cms-create-wizard__page-completion-buttons">\n                        \n                        {% block sw_cms_create_wizard_page_completion_save_button %}\n                        <sw-button\n                            variant="primary"\n                            :disabled="!isCompletable"\n                            @click="onCompletePageCreation"\n                        >\n                            {{ $tc(\'sw-cms.createWizard.createLayout\') }}\n                        </sw-button>\n                        {% endblock %}\n                    </div>\n                    {% endblock %}\n                </div>\n                {% endblock %}\n            </div>\n\n            \n            {% block sw_cms_create_wizard_third_step_back %}\n            <div\n                class="sw-cms-create-wizard__back"\n                role="button"\n                tabindex="0"\n                @click="goToStep(\'sectionType\')"\n                @keydown.enter="goToStep(\'sectionType\')"\n            >\n                <sw-icon\n                    name="regular-long-arrow-left"\n                    small\n                /> {{ $tc(\'sw-cms.createWizard.stepBack\') }}\n            </div>\n            {% endblock %}\n        </div>\n        {% endblock %}\n    </div>\n</div>\n{% endblock %}\n',inject:["feature","cmsPageTypeService","customEntityDefinitionService"],props:{page:{type:Object,required:!0}},data(){return{step:1,steps:{pageType:1,sectionType:2,pageName:3}}},computed:{visiblePageTypes(){return this.cmsPageTypeService.getVisibleTypes()},currentPageType(){return this.cmsPageTypeService.getType(this.page.type)},isCustomEntityType(){return this.page.type.startsWith("custom_entity_")},isCompletable(){return[this.page.name,!this.isCustomEntityType||this.page.entity].every(e=>e)},customEntities(){return this.customEntityDefinitionService.getCmsAwareDefinitions().map(e=>{let t=`${e.entity}.moduleTitle`,n=e.entity;return{value:n,label:this.$te(t)?this.$tc(t):n}})},pagePreviewMedia(){return this.page.sections.length<1?"":`url(${this.assetFilter(`administration/static/img/cms/preview_${this.page.type}_${this.page.sections[0].type}.png`)})`},pagePreviewStyle(){return{"background-image":this.pagePreviewMedia,"background-size":"cover"}},assetFilter(){return s.getByName("asset")},cmsPageStore(){return Shopware.Store.get("cmsPageState")}},watch:{step(e){"sectionType"===this.getStepName(e)&&(this.page.sections=[])}},methods:{goToStep(e){this.step=this.steps[e]},getStepName(e){let t=Object.entries(this.steps).find(t=>e===t[1]);return t?t[0]:""},onPageTypeSelect(e){this.cmsPageStore.setCurrentPageType(e),this.page.type=e,this.goToStep("sectionType")},onSectionSelect(e){this.goToStep("pageName"),this.$emit("on-section-select",e)},onCompletePageCreation(){this.page.name&&this.$emit("wizard-complete")}}}},149342:function(e,t,n){var s=n(264975);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals),n(745346).Z("f51b012a",s,!0,{})}}]);