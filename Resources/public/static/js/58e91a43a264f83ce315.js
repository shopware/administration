(window.webpackJsonpAdministration=window.webpackJsonpAdministration||[]).push([[91235],{60270:function(){},91235:function(n,i,t){"use strict";t.r(i),t.d(i,{default:function(){return a}}),t(47520);let{Criteria:e}=Shopware.Data;var a={template:'\n{% block sw_product_variants_delivery_listing %}\n<div class="sw-product-variants-delivery-listing">\n    \n    {% block sw_product_variants_delivery_listing_mode %}\n    <div class="sw-product-variants-delivery-listing-mode">\n        \n        {% block sw_product_variants_delivery_listing_mode_selection %}\n        <sw-radio-field\n            :value="product.listingMode"\n            :options="listingModeOptions"\n            @update:value="updateListingMode"\n        />\n        {% endblock %}\n    </div>\n    {% endblock %}\n\n    \n    {% block sw_product_variants_delivery_listing_config %}\n    <div class="sw-product-variants-delivery-listing-config">\n\n        \n        {% block sw_product_variants_delivery_listing_config_single %}\n        <div\n            class="sw-product-variants-delivery-listing-config-options"\n            :class="{ \'is--disabled\': isDisabledListingMode(\'single\') }"\n        >\n\n            \n            {% block sw_product_variants_delivery_variant_mode_selection %}\n            <sw-radio-field\n                class="sw-product-variants-delivery-listing_variant-selection"\n                :value="product.variantListingConfig.displayParent"\n                :options="mainVariantModeOptions"\n                :disabled="isDisabledListingMode(\'single\')"\n                @update:value="updateVariantMode"\n            />\n            {% endblock %}\n\n            \n            {% block sw_product_variants_delivery_listing_config_single_main_variant_label %}\n            <p>{{ $tc(\'sw-product.variations.deliveryModal.listingLabelMainVariant\') }}</p>\n            {% endblock %}\n\n            \n            {% block sw_product_variants_delivery_listing_config_single_main_variant_select %}\n            <sw-entity-single-select\n                id="mainVariant"\n                :key="product.id"\n                class="sw-product-variants-delivery-listing_entity-select"\n                :value="mainVariant"\n                entity="product"\n                label-property="name"\n                :criteria="variantCriteria"\n                :context="context"\n                :disabled="isDisabledListingMode(\'single\')"\n                :placeholder="$tc(\'sw-product.variations.deliveryModal.listingPlaceholderSelectMainVariant\')"\n                show-clearable-button\n                @update:value="updateMainVariant"\n                @select-collapsed="onSelectCollapsed"\n                @search-term-change="onSearchTermChange"\n            >\n                <template #selection-label-property="{ item }">\n                    <slot\n                        name="selection-label-property"\n                        v-bind="{ item }"\n                    >\n                        <sw-product-variant-info\n                            :variations="item.variation"\n                        >\n                            {{ item.name || item.translated.name }}\n                        </sw-product-variant-info>\n                    </slot>\n                </template>\n\n                <template #result-item="{ item, index }">\n                    <slot\n                        name="result-item"\n                        v-bind="{ item, index, isSelected }"\n                    >\n                        <sw-select-result\n                            :selected="isSelected(item)"\n                            v-bind="{ item, index }"\n                        >\n                            \n                            {% block sw_product_variants_results_list_result_label %}\n                            <span class="sw-select-result__result-item-text">\n                                <sw-product-variant-info\n                                    :variations="item.variation"\n                                >\n                                    {{ item.translated.name || item.name }}\n                                </sw-product-variant-info>\n                            </span>\n                            {% endblock %}\n                        </sw-select-result>\n                    </slot>\n                </template>\n            </sw-entity-single-select>\n            {% endblock %}\n\n            \n            {% block sw_product_variants_delivery_listing_config_single_main_variant_explanation %}\n            <div class="sw-product-variants-delivery-listing__option-explanation">\n                <p v-if="product.variantListingConfig.displayParent">\n                    {{ $tc(\'sw-product.variations.deliveryModal.listingExplanationModeMainProduct\') }}\n                </p>\n                <p v-else>\n                    {{ $tc(\'sw-product.variations.deliveryModal.listingExplanationModeSingle\') }}\n                </p>\n            </div>\n            {% endblock %}\n        </div>\n        {% endblock %}\n\n        \n        {% block sw_product_variants_delivery_listing_config_expanded %}\n        <div\n            class="sw-product-variants-delivery-listing-config-options"\n            :class="{ \'is--disabled\': isDisabledListingMode(\'expanded\') }"\n        >\n            \n            {% block sw_product_variants_delivery_listing_config_expanded_group_list %}\n            <dl>\n                \n                {% block sw_product_variants_delivery_listing_config_expanded_group_list_items %}\n                <dd\n                    v-for="group in selectedGroupsSorted"\n                    :key="group.id"\n                    :disabled="isDisabledListingMode(\'expanded\')"\n                    class="sw-product-variants-delivery-listing__groupElement"\n                >\n                    \n                    {% block sw_product_variants_delivery_listing_config_expanded_group_list_item %}\n                    <sw-checkbox-field\n                        :value="isActiveGroupInListing(group.id)"\n                        :disabled="isDisabledListingMode(\'expanded\')"\n                        :label="group.translated.name"\n                        @update:value="onChangeGroupListing($event, group.id)"\n                    />\n                    {% endblock %}\n                </dd>\n                {% endblock %}\n            </dl>\n            {% endblock %}\n        </div>\n        {% endblock %}\n    </div>\n    {% endblock %}\n</div>\n{% endblock %}\n',props:{product:{type:Object,required:!0},selectedGroups:{type:Array,required:!0}},data(){return{searchTerm:""}},computed:{listingModeOptions(){return[{value:"single",name:this.$tc("sw-product.variations.deliveryModal.listingLabelModeSingle")},{value:"expanded",name:this.$tc("sw-product.variations.deliveryModal.listingLabelModeExpanded")}]},listingMode(){return this.mainVariant||!0===this.product.variantListingConfig.displayParent?"single":"expanded"},mainVariantModeOptions(){return[{value:!0,name:this.$tc("sw-product.variations.deliveryModal.listingLabelModeDisplayParent")},{value:!1,name:this.$tc("sw-product.variations.deliveryModal.listingLabelMainVariant")}]},mainVariant(){return this.product.variantListingConfig.mainVariantId},variantCriteria(){let n=new e(1,25);return n.addFilter(e.equals("product.parentId",this.product.id)),n.addAssociation("options.group"),"string"==typeof this.searchTerm&&this.searchTerm.length>0&&n.addQuery(e.contains("product.options.name",this.searchTerm),500),n},context(){return{...Shopware.Context.api,inheritance:!0}},selectedGroupsSorted(){let n=[],i=[...this.selectedGroups];return this.product.variantListingConfig.configuratorGroupConfig&&this.product.variantListingConfig.configuratorGroupConfig.length>0&&(n=this.product.variantListingConfig.configuratorGroupConfig.reduce((n,t)=>{let e=i.find(n=>n.id===t.id);return e&&(n.push(e),i.splice(i.indexOf(e),1)),n},[])),n=[...n,...i]}},created(){this.createdComponent()},methods:{createdComponent(){this.updateListingMode(this.listingMode)},updateListingMode(n){"expanded"===n&&(this.product.variantListingConfig.displayParent=!0),this.product.listingMode=n},updateVariantMode(n){this.product.variantListingConfig.displayParent=n},updateMainVariant(n){this.product.variantListingConfig.mainVariantId=n},isActiveGroupInListing(n){if(!(this.product.variantListingConfig?.configuratorGroupConfig||[]).length)return!1;let i=this.product.variantListingConfig.configuratorGroupConfig.find(i=>i.id===n);return!!i&&i.expressionForListings},onChangeGroupListing(n,i){let t=this.product.variantListingConfig?.configuratorGroupConfig||[],e=t.find(n=>n.id===i);if(e){e.expressionForListings=n;return}t.push({id:i,expressionForListings:n,representation:"box"}),this.product.variantListingConfig.configuratorGroupConfig=t},isActiveListingMode(n){return n===this.product.listingMode},isDisabledListingMode(n){return!this.isActiveListingMode(n)},isSelected(n){return this.mainVariant===n.id},onSearchTermChange(n){this.searchTerm=n},onSelectCollapsed(){this.searchTerm=""}}}},47520:function(n,i,t){var e=t(60270);e.__esModule&&(e=e.default),"string"==typeof e&&(e=[[n.id,e,""]]),e.locals&&(n.exports=e.locals),t(45346).Z("62a5a66e",e,!0,{})}}]);