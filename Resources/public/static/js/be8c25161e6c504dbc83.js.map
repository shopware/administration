{"version":3,"sources":["webpack:///./src/module/sw-settings-product-feature-sets/page/sw-settings-product-feature-sets-detail/index.js","webpack:///./src/module/sw-settings-product-feature-sets/page/sw-settings-product-feature-sets-detail/sw-settings-product-feature-sets-detail.html.twig"],"names":["Mixin","Shopware","mapPropertyErrors","Component","getComponentHelper","template","inject","mixins","getByName","props","productFeatureSetId","type","String","required","default","shortcuts","ESCAPE","data","productFeatureSet","isLoading","isSaveSuccessful","metaInfo","title","this","$createTitle","identifier","computed","_objectSpread","placeholder","productFeatureSetsRepository","repositoryFactory","create","tooltipSave","acl","can","message","$tc","disabled","showOnDisabledElements","systemKey","$device","getSystemKey","concat","appearance","tooltipCancel","watch","createdComponent","created","methods","_this","feature","isActive","$route","params","id","get","then","features","length","loadEntityData","_this2","saveFinish","onSave","_this3","save","$router","push","name","catch","createNotificationError","finally","onCancel","abortOnLanguageChange","hasChanges","saveOnLanguageChange","onChangeLanguage"],"mappings":"mXAKA,IAAQA,EAAUC,SAAVD,MACAE,EAAsBD,SAASE,UAAUC,qBAAzCF,kBAGO,WACXG,SCVW,qwKDYXC,OAAQ,CAAC,oBAAqB,MAAO,WAErCC,OAAQ,CACJP,EAAMQ,UAAU,gBAChBR,EAAMQ,UAAU,gBAGpBC,MAAO,CACHC,oBAAqB,CACjBC,KAAMC,OACNC,UAAU,EACVC,QAAS,OAIjBC,UAAW,CACP,cAAe,SACfC,OAAQ,YAGZC,KAAI,WACA,MAAO,CACHC,kBAAmB,GACnBC,WAAW,EACXC,kBAAkB,IAI1BC,SAAQ,WACJ,MAAO,CACHC,MAAOC,KAAKC,aAAaD,KAAKE,cAItCC,S,iWAAQC,CAAA,CACJF,WAAU,WACN,OAAOF,KAAKK,YAAYL,KAAKL,kBAAmB,SAGpDW,6BAA4B,WACxB,OAAON,KAAKO,kBAAkBC,OAAO,wBAGzCC,YAAW,WACP,IAAKT,KAAKU,IAAIC,IAAI,+BACd,MAAO,CACHC,QAASZ,KAAKa,IAAI,iCAClBC,SAAUd,KAAKU,IAAIC,IAAI,+BACvBI,wBAAwB,GAIhC,IAAMC,EAAYhB,KAAKiB,QAAQC,eAE/B,MAAO,CACHN,QAAQ,GAADO,OAAKH,EAAS,QACrBI,WAAY,UAIpBC,cAAa,WACT,MAAO,CACHT,QAAS,MACTQ,WAAY,WAIjBzC,EACC,oBACA,CAAC,OAAQ,cAAe,iBAIhC2C,MAAO,CACHnC,oBAAmB,WACVa,KAAKb,qBACNa,KAAKuB,qBAKjBC,QAAO,WACHxB,KAAKuB,oBAGTE,QAAS,CACLF,iBAAgB,WAAI,IAADG,EAAA,KAGf,GAFA1B,KAAKJ,WAAY,EAEbI,KAAKb,oBAcL,OAbKa,KAAK2B,QAAQC,SAAS,UACvB5B,KAAKb,oBAAsBa,KAAK6B,OAAOC,OAAOC,SAGlD/B,KAAKM,6BAA6B0B,IAAIhC,KAAKb,qBACtC8C,MAAK,SAACtC,GACCA,EAAkBuC,WAAavC,EAAkBuC,SAASC,SAC1DxC,EAAkBuC,SAAW,IAGjCR,EAAK/B,kBAAoBA,EACzB+B,EAAK9B,WAAY,KAK7BI,KAAKL,kBAAoBK,KAAKM,6BAA6BE,SAC3DR,KAAKJ,WAAY,GAGrBwC,eAAc,WAAI,IAADC,EAAA,KACbrC,KAAKM,6BAA6B0B,IAAIhC,KAAKb,qBACtC8C,MAAK,SAACtC,GACCA,EAAkBuC,WAAavC,EAAkBuC,SAASC,SAC1DxC,EAAkBuC,SAAW,IAGjCG,EAAK1C,kBAAoBA,MAIrC2C,WAAU,WACNtC,KAAKH,kBAAmB,GAG5B0C,OAAM,WAAI,IAADC,EAAA,KAIL,OAHAxC,KAAKH,kBAAmB,EACxBG,KAAKJ,WAAY,EAEVI,KAAKM,6BAA6BmC,KAAKzC,KAAKL,mBAC9CsC,MAAK,WACFO,EAAK3C,kBAAmB,EACnB2C,EAAKrD,qBACNqD,EAAKE,QAAQC,KAAK,CACdC,KAAM,0CACNd,OAAQ,CAAEC,GAAIS,EAAK7C,kBAAkBoC,SAIhDE,MAAK,WACFO,EAAKJ,oBAERS,OAAM,WACHL,EAAKM,wBAAwB,CACzBlC,QAAS4B,EAAK3B,IAAI,yEAGzBkC,SAAQ,WACLP,EAAK5C,WAAY,MAI7BoD,SAAQ,WACJhD,KAAK0C,QAAQC,KAAK,CAAEC,KAAM,4CAG9BK,sBAAqB,WACjB,OAAOjD,KAAKM,6BAA6B4C,WAAWlD,KAAKL,oBAG7DwD,qBAAoB,WAChB,OAAOnD,KAAKuC,UAGhBa,iBAAgB,WACZpD,KAAKoC","file":"static/js/be8c25161e6c504dbc83.js","sourcesContent":["/**\n * @package inventory\n */\nimport template from './sw-settings-product-feature-sets-detail.html.twig';\n\nconst { Mixin } = Shopware;\nconst { mapPropertyErrors } = Shopware.Component.getComponentHelper();\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    inject: ['repositoryFactory', 'acl', 'feature'],\n\n    mixins: [\n        Mixin.getByName('notification'),\n        Mixin.getByName('placeholder'),\n    ],\n\n    props: {\n        productFeatureSetId: {\n            type: String,\n            required: false,\n            default: null,\n        },\n    },\n\n    shortcuts: {\n        'SYSTEMKEY+S': 'onSave',\n        ESCAPE: 'onCancel',\n    },\n\n    data() {\n        return {\n            productFeatureSet: {},\n            isLoading: false,\n            isSaveSuccessful: false,\n        };\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(this.identifier),\n        };\n    },\n\n    computed: {\n        identifier() {\n            return this.placeholder(this.productFeatureSet, 'name');\n        },\n\n        productFeatureSetsRepository() {\n            return this.repositoryFactory.create('product_feature_set');\n        },\n\n        tooltipSave() {\n            if (!this.acl.can('product_feature_sets.editor')) {\n                return {\n                    message: this.$tc('sw-privileges.tooltip.warning'),\n                    disabled: this.acl.can('product_feature_sets.editor'),\n                    showOnDisabledElements: true,\n                };\n            }\n\n            const systemKey = this.$device.getSystemKey();\n\n            return {\n                message: `${systemKey} + S`,\n                appearance: 'light',\n            };\n        },\n\n        tooltipCancel() {\n            return {\n                message: 'ESC',\n                appearance: 'light',\n            };\n        },\n\n        ...mapPropertyErrors(\n            'productFeatureSet',\n            ['name', 'description', 'features.id'],\n        ),\n    },\n\n    watch: {\n        productFeatureSetId() {\n            if (!this.productFeatureSetId) {\n                this.createdComponent();\n            }\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.isLoading = true;\n\n            if (this.productFeatureSetId) {\n                if (!this.feature.isActive('VUE3')) {\n                    this.productFeatureSetId = this.$route.params.id;\n                }\n\n                this.productFeatureSetsRepository.get(this.productFeatureSetId)\n                    .then((productFeatureSet) => {\n                        if (productFeatureSet.features && !productFeatureSet.features.length) {\n                            productFeatureSet.features = [];\n                        }\n\n                        this.productFeatureSet = productFeatureSet;\n                        this.isLoading = false;\n                    });\n                return;\n            }\n\n            this.productFeatureSet = this.productFeatureSetsRepository.create();\n            this.isLoading = false;\n        },\n\n        loadEntityData() {\n            this.productFeatureSetsRepository.get(this.productFeatureSetId)\n                .then((productFeatureSet) => {\n                    if (productFeatureSet.features && !productFeatureSet.features.length) {\n                        productFeatureSet.features = [];\n                    }\n\n                    this.productFeatureSet = productFeatureSet;\n                });\n        },\n\n        saveFinish() {\n            this.isSaveSuccessful = false;\n        },\n\n        onSave() {\n            this.isSaveSuccessful = false;\n            this.isLoading = true;\n\n            return this.productFeatureSetsRepository.save(this.productFeatureSet)\n                .then(() => {\n                    this.isSaveSuccessful = true;\n                    if (!this.productFeatureSetId) {\n                        this.$router.push({\n                            name: 'sw.settings.product.feature.sets.detail',\n                            params: { id: this.productFeatureSet.id },\n                        });\n                    }\n                })\n                .then(() => {\n                    this.loadEntityData();\n                })\n                .catch(() => {\n                    this.createNotificationError({\n                        message: this.$tc('sw-settings-product-feature-sets.detail.notificationErrorMessage'),\n                    });\n                })\n                .finally(() => {\n                    this.isLoading = false;\n                });\n        },\n\n        onCancel() {\n            this.$router.push({ name: 'sw.settings.product.feature.sets.index' });\n        },\n\n        abortOnLanguageChange() {\n            return this.productFeatureSetsRepository.hasChanges(this.productFeatureSet);\n        },\n\n        saveOnLanguageChange() {\n            return this.onSave();\n        },\n\n        onChangeLanguage() {\n            this.loadEntityData();\n        },\n    },\n};\n","export default \"\\n{% block sw_settings_product_feature_set_detail %}\\n<sw-page class=\\\"sw-settings-product-feature-sets-detail\\\">\\n\\n    \\n    {% block sw_settings_product_feature_set_detail_header %}\\n    <template #smart-bar-header>\\n        <h2>{{ placeholder(productFeatureSet, 'name', $tc('sw-settings-product-feature-sets.detail.textHeadline')) }}</h2>\\n    </template>\\n    {% endblock %}\\n\\n    \\n    {% block sw_settings_product_feature_set_detail_language_switch %}\\n    <template #language-switch>\\n        <sw-language-switch @on-change=\\\"onChangeLanguage\\\" />\\n    </template>\\n    {% endblock %}\\n\\n    \\n    {% block sw_settings_product_feature_set_detail_actions %}\\n    <template #smart-bar-actions>\\n\\n        \\n        {% block sw_settings_product_feature_set_detail_actions_save %}\\n        <sw-button-process\\n            {% if VUE3 %}\\n            v-model:processSuccess=\\\"isSaveSuccessful\\\"\\n            {% else %}\\n            v-model=\\\"isSaveSuccessful\\\"\\n            {% endif %}\\n            v-tooltip.bottom=\\\"tooltipSave\\\"\\n            class=\\\"sw-settings-currency-detail__save-action\\\"\\n            :is-loading=\\\"isLoading\\\"\\n            :disabled=\\\"isLoading || !acl.can('product_feature_sets.editor')\\\"\\n            variant=\\\"primary\\\"\\n            {% if VUE3 %}\\n            @update:process-success=\\\"saveFinish\\\"\\n            {% else %}\\n            @process-finish=\\\"saveFinish\\\"\\n            {% endif %}\\n            @click.prevent=\\\"onSave\\\"\\n        >\\n            {{ $tc('sw-settings-product-feature-sets.detail.buttonSave') }}\\n        </sw-button-process>\\n        {% endblock %}\\n\\n    </template>\\n    {% endblock %}\\n\\n    \\n    {% block sw_settings_product_feature_set_detail_content %}\\n    <template #content>\\n        <sw-card-view>\\n            <template v-if=\\\"isLoading\\\">\\n                <sw-skeleton variant=\\\"detail-bold\\\" />\\n                <sw-skeleton />\\n            </template>\\n\\n            <template v-else>\\n                \\n                {% block sw_settings_product_feature_set_detail_content_language_info %}\\n                <sw-language-info\\n                    :entity-description=\\\"placeholder(productFeatureSet, 'name', $tc('sw-settings-product-feature-sets.detail.textHeadline'))\\\"\\n                />\\n                {% endblock %}\\n\\n                \\n                {% block sw_settings_product_feature_set_detail_content_card %}\\n                <sw-card\\n                    :title=\\\"$tc('sw-settings-product-feature-sets.detail.titleCard')\\\"\\n                    position-identifier=\\\"sw-settings-product-feature-sets-detail\\\"\\n                >\\n\\n                    \\n                    {% block sw_settings_product_feature_set_detail_content_field_name %}\\n                    <sw-text-field\\n                        {% if VUE3 %}\\n                        v-model:value=\\\"productFeatureSet.name\\\"\\n                        {% else %}\\n                        v-model=\\\"productFeatureSet.name\\\"\\n                        {% endif %}\\n                        class=\\\"sw-settings-product-feature-sets-detail__name\\\"\\n                        validation=\\\"required\\\"\\n                        required\\n                        :error=\\\"productFeatureSetNameError\\\"\\n                        :disabled=\\\"!acl.can('product_feature_sets.editor')\\\"\\n                        :label=\\\"$tc('sw-settings-product-feature-sets.detail.labelName')\\\"\\n                        :placeholder=\\\"placeholder(productFeatureSet, 'name', $tc('sw-settings-product-feature-sets.detail.placeholderName'))\\\"\\n                    />\\n                    {% endblock %}\\n\\n                    \\n                    {% block sw_settings_product_feature_set_detail_content_field_description %}\\n                    <sw-textarea-field\\n                        {% if VUE3 %}\\n                        v-model:value=\\\"productFeatureSet.description\\\"\\n                        {% else %}\\n                        v-model=\\\"productFeatureSet.description\\\"\\n                        {% endif %}\\n                        :label=\\\"$tc('sw-settings-product-feature-sets.detail.labelDescription')\\\"\\n                        class=\\\"sw-settings-product-feature-sets-detail__description\\\"\\n                        :error=\\\"productFeatureSetDescriptionError\\\"\\n                        :disabled=\\\"!acl.can('product_feature_sets.editor')\\\"\\n                        :placeholder=\\\"placeholder(productFeatureSet, 'description', $tc('sw-settings-product-feature-sets.detail.placeholderDescription'))\\\"\\n                    />\\n                    {% endblock %}\\n\\n                </sw-card>\\n                {% endblock %}\\n\\n                \\n                {% block sw_settings_product_feature_set_detail_content_values_card %}\\n                <sw-settings-product-feature-sets-values-card\\n                    v-if=\\\"productFeatureSet.id\\\"\\n                    :disabled=\\\"!productFeatureSetId\\\"\\n                    :allow-edit=\\\"acl.can('product_feature_sets.editor')\\\"\\n                    class=\\\"sw-settings-product-feature-sets-detail__tax-rule-grid\\\"\\n                    :product-feature-set=\\\"productFeatureSet\\\"\\n                    :is-loading=\\\"isLoading\\\"\\n                    @product-feature-set-rule-save=\\\"onSave\\\"\\n                />\\n                {% endblock %}\\n            </template>\\n        </sw-card-view>\\n    </template>\\n    {% endblock %}\\n\\n</sw-page>\\n{% endblock %}\\n\";"],"sourceRoot":""}