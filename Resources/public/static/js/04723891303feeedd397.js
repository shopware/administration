(window.webpackJsonpAdministration=window.webpackJsonpAdministration||[]).push([[69188],{498045:function(){},369188:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return a}}),i(531817);let{Filter:n,Context:s}=Shopware;var a={template:'\n{% block sw_media_sidebar %}\n<div\n    class="sw-media-sidebar"\n    :class="mediaSidebarClasses"\n>\n    \n    {% block sw_media_sidebar_headline %}\n    <h3\n        v-if="headLine"\n        class="sw-media-sidebar__headline"\n    >\n        {{ headLine }}\n    </h3>\n    {% endblock %}\n\n    \n    {% block sw_media_sidebar_item_quickinfo_content %}\n    <div class="sw-media-sidebar__quickinfo-scroll-container">\n        <sw-media-quickinfo\n            v-if="isSingleFile && firstEntity.getEntityName() === \'media\'"\n            :item="firstEntity"\n            :editable="editable"\n            v-on="$listeners"\n            @update:item="onFirstItemUpdated"\n        />\n\n        <sw-media-folder-info\n            v-else-if="isSingleFile && firstEntity.getEntityName() === \'media_folder\'"\n            :media-folder="firstEntity"\n            :editable="editable"\n            v-on="$listeners"\n        />\n\n        <sw-media-quickinfo-multiple\n            v-else-if="isMultipleFile"\n            :editable="editable"\n            :items="items"\n            v-on="$listeners"\n        />\n\n        <sw-media-folder-info\n            v-else-if="currentFolder"\n            :media-folder="currentFolder"\n            :editable="editable"\n            @media-folder-renamed="onMediaFolderRenamed"\n            v-on="$listeners"\n        />\n\n        <sw-empty-state\n            v-else\n            :title="$tc(\'sw-media.sidebar.labelNoMediaSelected\')"\n        >\n            <template #icon>\n                <img\n                    :src="assetFilter(\'/administration/static/img/empty-states/media-empty-state.svg\')"\n                    :alt="$tc(\'sw-media.sidebar.labelNoMediaSelected\')"\n                >\n            </template>\n        </sw-empty-state>\n    </div>\n    {% endblock %}\n</div>\n{% endblock %}\n',inject:["repositoryFactory"],mixins:[Shopware.Mixin.getByName("notification")],props:{items:{required:!0,type:Array,validator(e){return 0===e.filter(e=>!["media","media_folder"].includes(e.getEntityName())).length}},currentFolderId:{type:String,required:!1,default:null},editable:{type:Boolean,required:!1,default:!1}},data(){return{currentFolder:null}},computed:{mediaRepository(){return this.repositoryFactory.create("media")},mediaFolderRepository(){return this.repositoryFactory.create("media_folder")},mediaNameFilter(){return n.getByName("mediaName")},mediaSidebarClasses(){return{"no-headline":!this.headLine}},isSingleFile(){return 1===this.items.length},isMultipleFile(){return this.items.length>1},headLine(){return this.isSingleFile?"media"===this.firstEntity.getEntityName()?this.mediaNameFilter(this.firstEntity):this.firstEntity.name:this.isMultipleFile?this.getSelectedFilesCount:this.currentFolder?this.currentFolder.name:null},getSelectedFilesCount(){return`${this.$tc("sw-media.sidebar.labelHeadlineMultiple",this.items.length,{count:this.items.length})}`},firstEntity(){return this.items[0]},assetFilter(){return Shopware.Filter.getByName("asset")}},watch:{currentFolderId(){this.fetchCurrentFolder()}},created(){this.createdComponent()},methods:{createdComponent(){this.fetchCurrentFolder()},async fetchCurrentFolder(){if(!this.currentFolderId){this.currentFolder=null;return}this.currentFolder=await this.mediaFolderRepository.get(this.currentFolderId,s.api)},onMediaFolderRenamed(){this.$emit("media-sidebar-folder-renamed")},async onFirstItemUpdated(e){let t=this.items[0];try{t.isLoading=!0,Object.assign(this.items[0],e),await this.mediaRepository.save(t,s.api),this.createNotificationSuccess({message:this.$tc("global.sw-media-media-item.notification.settingsSuccess.message")})}catch{this.createNotificationError({message:this.$tc("global.notification.unspecifiedSaveErrorMessage")})}finally{t.isLoading=!1}}}}},531817:function(e,t,i){var n=i(498045);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),i(745346).Z("b4ec3a16",n,!0,{})}}]);