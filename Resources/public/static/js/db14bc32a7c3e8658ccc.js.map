{"version":3,"sources":["webpack:///./src/module/sw-cms/component/sw-cms-block/sw-cms-block-config/index.js","webpack:///./src/module/sw-cms/component/sw-cms-block/sw-cms-block-config/sw-cms-block-config.html.twig","webpack:///./src/module/sw-cms/component/sw-cms-block/sw-cms-block-config/sw-cms-block-config.scss"],"names":["_Shopware","Shopware","Mixin","Utils","template","inject","mixins","getByName","props","block","type","Object","required","computed","uploadTag","concat","this","id","mediaRepository","repositoryFactory","create","cmsPageState","State","get","cmsBlocks","cmsService","getCmsBlockRegistry","blockConfig","quickactionsDisabled","isSystemDefaultLanguage","removable","quickactionClasses","methods","onSetBackgroundMedia","_ref","mediaItem","_slicedToArray","backgroundMediaId","backgroundMedia","successfulUpload","media","_this","targetId","then","removeMedia","onBlockDelete","$emit","onBlockDuplicate","onBlockNameChange","debounce","value","name","content","__esModule","default","module","i","locals","exports","add"],"mappings":"uJAGAA,G,UAAyBC,UAAjBC,EAAKF,EAALE,MAAOC,EAAKH,EAALG,MAMA,WACXC,SCVW,q8HDYXC,OAAQ,CACJ,oBACA,cAGJC,OAAQ,CACJJ,EAAMK,UAAU,cAGpBC,MAAO,CACHC,MAAO,CACHC,KAAMC,OACNC,UAAU,IAIlBC,SAAU,CACNC,UAAS,WACL,MAAM,0BAANC,OAAiCC,KAAKP,MAAMQ,KAGhDC,gBAAe,WACX,OAAOF,KAAKG,kBAAkBC,OAAO,UAGzCC,aAAY,WACR,OAAOpB,SAASqB,MAAMC,IAAI,iBAG9BC,UAAS,WACL,OAAOR,KAAKS,WAAWC,uBAG3BC,YAAW,WACP,OAAOX,KAAKQ,UAAUR,KAAKP,MAAMC,OAGrCkB,qBAAoB,WAChB,OAAQZ,KAAKa,0BAA0D,IAA/Bb,KAAKW,YAAYG,WAG7DC,mBAAkB,WACd,MAAO,CACH,eAAgBf,KAAKY,wBAKjCI,QAAS,CACLC,qBAAoB,SAAAC,GAAe,IAAbC,EAAYC,IAAAF,EAAA,GAAH,GAC3BlB,KAAKP,MAAM4B,kBAAoBF,EAAUlB,GACzCD,KAAKP,MAAM6B,gBAAkBH,GAGjCI,iBAAgB,SAACC,GAAQ,IAADC,EAAA,KACpBzB,KAAKP,MAAM4B,kBAAoBG,EAAME,SAErC1B,KAAKE,gBAAgBK,IAAIiB,EAAME,UAAUC,MAAK,SAACR,GAC3CM,EAAKhC,MAAM6B,gBAAkBH,MAIrCS,YAAW,WACP5B,KAAKP,MAAM4B,kBAAoB,KAC/BrB,KAAKP,MAAM6B,gBAAkB,MAGjCO,cAAa,WACL7B,KAAKY,sBAITZ,KAAK8B,MAAM,eAAgB9B,KAAKP,QAGpCsC,iBAAgB,WACR/B,KAAKY,sBAITZ,KAAK8B,MAAM,kBAAmB9B,KAAKP,QAGvCuC,kBAAmB7C,EAAM8C,UAAS,SAA2BC,GACzDlC,KAAKP,MAAM0C,KAAOD,IACnB,Q,uBE9FX,IAAIE,EAAU,EAAQ,QACnBA,EAAQC,aAAYD,EAAUA,EAAQE,SACnB,iBAAZF,IAAsBA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAC7DA,EAAQK,SAAQF,EAAOG,QAAUN,EAAQK,SAG/BE,EADH,EAAQ,QAA2EL,SAC5E,WAAYF,GAAS,EAAM,K","file":"static/js/db14bc32a7c3e8658ccc.js","sourcesContent":["import template from './sw-cms-block-config.html.twig';\nimport './sw-cms-block-config.scss';\n\nconst { Mixin, Utils } = Shopware;\n\n/**\n * @private\n * @package buyers-experience\n */\nexport default {\n    template,\n\n    inject: [\n        'repositoryFactory',\n        'cmsService',\n    ],\n\n    mixins: [\n        Mixin.getByName('cms-state'),\n    ],\n\n    props: {\n        block: {\n            type: Object,\n            required: true,\n        },\n    },\n\n    computed: {\n        uploadTag() {\n            return `cms-block-media-config-${this.block.id}`;\n        },\n\n        mediaRepository() {\n            return this.repositoryFactory.create('media');\n        },\n\n        cmsPageState() {\n            return Shopware.State.get('cmsPageState');\n        },\n\n        cmsBlocks() {\n            return this.cmsService.getCmsBlockRegistry();\n        },\n\n        blockConfig() {\n            return this.cmsBlocks[this.block.type];\n        },\n\n        quickactionsDisabled() {\n            return !this.isSystemDefaultLanguage || this.blockConfig.removable === false;\n        },\n\n        quickactionClasses() {\n            return {\n                'is--disabled': this.quickactionsDisabled,\n            };\n        },\n    },\n\n    methods: {\n        onSetBackgroundMedia([mediaItem]) {\n            this.block.backgroundMediaId = mediaItem.id;\n            this.block.backgroundMedia = mediaItem;\n        },\n\n        successfulUpload(media) {\n            this.block.backgroundMediaId = media.targetId;\n\n            this.mediaRepository.get(media.targetId).then((mediaItem) => {\n                this.block.backgroundMedia = mediaItem;\n            });\n        },\n\n        removeMedia() {\n            this.block.backgroundMediaId = null;\n            this.block.backgroundMedia = null;\n        },\n\n        onBlockDelete() {\n            if (this.quickactionsDisabled) {\n                return;\n            }\n\n            this.$emit('block-delete', this.block);\n        },\n\n        onBlockDuplicate() {\n            if (this.quickactionsDisabled) {\n                return;\n            }\n\n            this.$emit('block-duplicate', this.block);\n        },\n\n        onBlockNameChange: Utils.debounce(function debouncedOnChange(value) {\n            this.block.name = value;\n        }, 400),\n    },\n};\n","export default \"\\n{% block sw_cms_block_config %}\\n<div class=\\\"sw-cms-block-config\\\">\\n\\n    \\n    {% block sw_cms_block_config__quickactions %}\\n    <ul\\n        class=\\\"sw-cms-block-config__quickactions-list\\\"\\n        :class=\\\"quickactionClasses\\\"\\n    >\\n        \\n        {% block sw_cms_block_config__quickaction_duplicate %}\\n        <li\\n            class=\\\"sw-cms-block-config__quickaction\\\"\\n            role=\\\"button\\\"\\n            tabindex=\\\"0\\\"\\n            @click=\\\"onBlockDuplicate\\\"\\n            @keydown.enter=\\\"onBlockDuplicate\\\"\\n        >\\n            <sw-icon\\n                name=\\\"regular-duplicate\\\"\\n                size=\\\"16\\\"\\n            />\\n            {{ $tc('global.default.duplicate') }}\\n        </li>\\n        {% endblock %}\\n\\n        \\n        {% block sw_cms_block_config__quickaction_delete %}\\n        <li\\n            class=\\\"sw-cms-block-config__quickaction is--danger\\\"\\n            role=\\\"button\\\"\\n            tabindex=\\\"0\\\"\\n            @click=\\\"onBlockDelete\\\"\\n            @keydown.enter=\\\"onBlockDelete\\\"\\n        >\\n            <sw-icon\\n                name=\\\"regular-trash\\\"\\n                size=\\\"16\\\"\\n            />\\n            {{ $tc('sw-cms.general.buttonDelete') }}\\n        </li>\\n        {% endblock %}\\n    </ul>\\n    {% endblock %}\\n\\n    \\n    {% block sw_cms_block_config__settings %}\\n    <div class=\\\"sw-cms-section-config__settings\\\">\\n\\n        \\n        {% block sw_cms_block_config_name_field %}\\n        <sw-text-field\\n            :value=\\\"block.name\\\"\\n            :label=\\\"$tc('sw-cms.detail.label.blockNameField')\\\"\\n            :placeholder=\\\"$tc('sw-cms.detail.label.blockNameFieldPlaceholder')\\\"\\n            :help-text=\\\"$tc('sw-cms.detail.tooltip.blockNameField')\\\"\\n            {% if VUE3 %}\\n            @update:value=\\\"onBlockNameChange\\\"\\n            {% else %}\\n            @input=\\\"onBlockNameChange\\\"\\n            {% endif %}\\n        />\\n        {% endblock %}\\n\\n        \\n        {% block sw_cms_block_config_background_color_field %}\\n        <sw-colorpicker\\n            {% if VUE3 %}\\n            v-model:value=\\\"block.backgroundColor\\\"\\n            {% else %}\\n            v-model=\\\"block.backgroundColor\\\"\\n            {% endif %}\\n            :label=\\\"$tc('sw-cms.detail.label.backgroundColorLabel')\\\"\\n            :placeholder=\\\"$tc('sw-cms.detail.label.backgroundColorField')\\\"\\n        />\\n        {% endblock %}\\n\\n        \\n        {% block sw_cms_block_config_background_image_field %}\\n        <sw-media-compact-upload-v2\\n            :source=\\\"block && block.backgroundMedia && block.backgroundMedia.id ? block.backgroundMedia : null\\\"\\n            :upload-tag=\\\"uploadTag\\\"\\n            :label=\\\"$tc('sw-cms.detail.label.backgroundMediaLabel')\\\"\\n            :default-folder=\\\"cmsPageState.pageEntityName\\\"\\n            :allow-multi-select=\\\"false\\\"\\n            @media-upload-remove-image=\\\"removeMedia\\\"\\n            @selection-change=\\\"onSetBackgroundMedia\\\"\\n        />\\n        <sw-upload-listener\\n            :upload-tag=\\\"uploadTag\\\"\\n            auto-upload\\n            @media-upload-finish=\\\"successfulUpload\\\"\\n        />\\n\\n        \\n        {% block sw_cms_block_config_background_image_position_field %}\\n        <sw-select-field\\n            {% if VUE3 %}\\n            v-model:value=\\\"block.backgroundMediaMode\\\"\\n            {% else %}\\n            v-model=\\\"block.backgroundMediaMode\\\"\\n            {% endif %}\\n            :label=\\\"$tc('sw-cms.detail.label.backgroundMediaMode')\\\"\\n            :disabled=\\\"!block.backgroundMediaId\\\"\\n        >\\n            <option value=\\\"auto\\\">\\n                {{ $tc('sw-cms.detail.label.backgroundMediaModeAuto') }}\\n            </option>\\n            <option value=\\\"contain\\\">\\n                {{ $tc('sw-cms.detail.label.backgroundMediaModeContain') }}\\n            </option>\\n            <option value=\\\"cover\\\">\\n                {{ $tc('sw-cms.detail.label.backgroundMediaModeCover') }}\\n            </option>\\n        </sw-select-field>\\n        {% endblock %}\\n        {% endblock %}\\n    </div>\\n    {% endblock %}\\n</div>\\n{% endblock %}\\n\";","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--15-1!../../../../../../node_modules/css-loader/dist/cjs.js??ref--15-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--15-3!./sw-cms-block-config.scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"0b031a7b\", content, true, {});"],"sourceRoot":""}