(this.webpackJsonpAdministration=this.webpackJsonpAdministration||[]).push([[546],{EdcG:function(e,n,a){"use strict";a.r(n);var t=a("CsSd"),i=a.n(t);function o(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function l(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?o(Object(a),!0).forEach((function(n){i()(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var c=Shopware,d=c.Component,s=c.Mixin,f=c.Service,r=Shopware.Classes.ShopwareError,m=d.getComponentHelper().mapState;n.default={template:'\n{% block sw_flow_affiliate_and_campaign_code_modal %}\n<sw-modal\n    class="sw-flow-affiliate-and-campaign-code-modal"\n    :title="$tc(\'sw-flow.modals.affiliateAndCampaignCode.title\')"\n    :closable="false"\n    @modal-close="onClose"\n>\n    \n    {% block sw_flow_affiliate_and_campaign_code_modal_content %}\n    <div class="sw-flow-affiliate-and-campaign-code-modal__content">\n        \n        {% block sw_flow_affiliate_and_campaign_code_modal_entity %}\n        <sw-single-select\n            {% if VUE3 %}\n            v-model:value="entity"\n            {% else %}\n            v-model="entity"\n            {% endif %}\n            class="sw-flow-affiliate-and-campaign-code-modal__entity"\n            required\n            show-clearable-button\n            :label="$tc(\'sw-flow.modals.affiliateAndCampaignCode.labelEntity\')"\n            :placeholder="$tc(\'sw-flow.modals.affiliateAndCampaignCode.placeholderEntity\')"\n            :error="entityError"\n            :options="entityOptions"\n        />\n        {% endblock %}\n\n        <sw-container\n            columns="3fr 1fr"\n            gap="16px"\n        >\n            \n            {% block sw_flow_affiliate_and_campaign_code_modal_affiliate_code %}\n            <sw-text-field\n                {% if VUE3 %}\n                v-model:value="affiliateCode.value"\n                {% else %}\n                v-model="affiliateCode.value"\n                {% endif %}\n                class="sw-flow-affiliate-and-campaign-code-modal__affiliate-code"\n                :label="$tc(\'sw-flow.modals.affiliateAndCampaignCode.labelAffiliateCode\')"\n                :placeholder="$tc(\'sw-flow.modals.affiliateAndCampaignCode.placeholderAffiliateCode\')"\n            />\n            {% endblock %}\n\n            \n            {% block sw_flow_affiliate_and_campaign_code_modal_affiliate_code_overwrite %}\n            <sw-switch-field\n                {% if VUE3 %}\n                v-model:value="affiliateCode.upsert"\n                {% else %}\n                v-model="affiliateCode.upsert"\n                {% endif %}\n                class="sw-flow-affiliate-and-campaign-code-modal__affiliate-code-overwrite"\n                :label="$tc(\'sw-flow.modals.affiliateAndCampaignCode.overwrite\')"\n            />\n            {% endblock %}\n        </sw-container>\n\n        <sw-container\n            columns="3fr 1fr"\n            gap="16px"\n        >\n            \n            {% block sw_flow_affiliate_and_campaign_code_modal_campaign_code %}\n            <sw-text-field\n                {% if VUE3 %}\n                v-model:value="campaignCode.value"\n                {% else %}\n                v-model="campaignCode.value"\n                {% endif %}\n                class="sw-flow-affiliate-and-campaign-code-modal__campaign-code"\n                :label="$tc(\'sw-flow.modals.affiliateAndCampaignCode.labelCampaignCode\')"\n                :placeholder="$tc(\'sw-flow.modals.affiliateAndCampaignCode.placeholderCampaignCode\')"\n            />\n            {% endblock %}\n\n            \n            {% block sw_flow_affiliate_and_campaign_code_modal_campaign_code_overwrite %}\n            <sw-switch-field\n                {% if VUE3 %}\n                v-model:value="campaignCode.upsert"\n                {% else %}\n                v-model="campaignCode.upsert"\n                {% endif %}\n                class="sw-flow-affiliate-and-campaign-code-modal__campaign-code-overwrite"\n                :label="$tc(\'sw-flow.modals.affiliateAndCampaignCode.overwrite\')"\n            />\n            {% endblock %}\n        </sw-container>\n    </div>\n    {% endblock %}\n\n    <template #modal-footer>\n        \n        {% block sw_flow_affiliate_and_campaign_code_modal_footer_cancel_button %}\n        <sw-button\n            class="sw-flow-affiliate-and-campaign-code-modal__cancel-button"\n            size="small"\n            @click="onClose"\n        >\n            {{ $tc(\'global.default.cancel\') }}\n        </sw-button>\n        {% endblock %}\n\n        \n        {% block sw_flow_affiliate_and_campaign_code_modal_footer_save_button %}\n        <sw-button\n            class="sw-flow-affiliate-and-campaign-code-modal__save-button"\n            variant="primary"\n            size="small"\n            @click="onSave"\n        >\n            {{ sequence.id ? $tc(\'sw-flow.modals.buttonSaveAction\') : $tc(\'sw-flow.modals.buttonAddAction\') }}\n        </sw-button>\n        {% endblock %}\n    </template>\n</sw-modal>\n{% endblock %}\n',mixins:[s.getByName("placeholder"),s.getByName("notification")],props:{sequence:{type:Object,required:!0},action:{type:String,required:!1,default:null}},data:function(){return{entityError:null,entity:null,affiliateCode:{value:null,upsert:!1},campaignCode:{value:null,upsert:!1}}},computed:l({entityOptions:function(){var e;if(!this.triggerEvent)return[];var n=null!==(e=this.triggerEvent.aware)&&void 0!==e?e:[];return f("flowBuilderService").getAvailableEntities(this.action,this.triggerActions,n,[])}},m("swFlowState",["triggerEvent","triggerActions"])),watch:{entity:function(e){e&&this.entityError&&(this.entityError=null)}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.entityOptions.length&&(this.entity=this.entityOptions[0].value),this.sequence.config&&(this.entity=this.sequence.config.entity,this.affiliateCode=l({},this.sequence.config.affiliateCode),this.campaignCode=l({},this.sequence.config.campaignCode))},fieldError:function(e){return e&&e.length?null:new r({code:"c1051bb4-d103-4f74-8988-acbcafc7fdc3"})},onSave:function(){if(this.entityError=this.fieldError(this.entity),!this.entityError){var e={entity:this.entity,affiliateCode:this.affiliateCode,campaignCode:this.campaignCode},n=l(l({},this.sequence),{},{config:e});this.$emit("process-finish",n),this.onClose()}},onClose:function(){this.$emit("modal-close")}}}}}]);