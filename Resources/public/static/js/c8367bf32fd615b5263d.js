(window.webpackJsonpAdministration=window.webpackJsonpAdministration||[]).push([[12313],{944893:function(){},512313:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return h}}),i(378754);var r=i(547054);let{Component:s,Context:n}=Shopware,{Criteria:d}=Shopware.Data,{types:c}=Shopware.Utils,{chunk:a}=Shopware.Utils.array,{mapState:l,mapGetters:o}=s.getComponentHelper(),{cloneDeep:u}=Shopware.Utils.object;var h={template:'\n{% block sw_bulk_edit_product %}\n<sw-page\n    :class="{\n        \'sw-bulk-edit-product\': true,\n        \'is--variant\': isChild,\n    }"\n>\n    \n    {% block sw_bulk_edit_product_search_bar %}\n    <template #search-bar>\n        <sw-search-bar />\n    </template>\n    {% endblock %}\n\n    \n    {% block sw_bulk_edit_product_smart_bar_back %}\n    <template #smart-bar-back>\n        <router-link\n            v-if="isChild"\n            class="smart-bar__back-btn"\n            :to="{ name: \'sw.product.detail.variants\', params: { id: $route.params.parentId } }"\n            :style="{ \'color\': $route.meta.$module?.color }"\n        >\n            <sw-icon\n                name="regular-chevron-left"\n                small\n            />\n        </router-link>\n    </template>\n    {% endblock %}\n\n    \n    {% block sw_bulk_edit_product_smart_bar_header %}\n    <template #smart-bar-header>\n        \n        {% block sw_bulk_edit_product_smart_bar_header_title %}\n        <h2>\n            {{ isChild\n            ? $tc(\'sw-bulk-edit.variant.textTitle\', selectedIds.length, { variantTotal: selectedIds.length })\n            : $tc(\'sw-bulk-edit.product.textTitle\', selectedIds.length, { productTotal: selectedIds.length })\n            }}\n        </h2>\n        {% endblock %}\n    </template>\n    {% endblock %}\n\n    \n    {% block sw_bulk_edit_product_content_language_switch %}\n    <template #language-switch>\n        <sw-language-switch @on-change="onChangeLanguage" />\n    </template>\n    {% endblock %}\n\n    \n    {% block sw_bulk_edit_product_content_smart_bar_actions %}\n    <template #smart-bar-actions>\n        \n        {% block sw_bulk_edit_product_actions_save %}\n        <sw-button-process\n            class="sw-bulk-edit-product__save-action"\n            variant="primary"\n            :is-loading="isLoading"\n            :process-success="isSaveSuccessful"\n            :disabled="isLoading || !hasSelectedChanges"\n            @click="openModal"\n        >\n            {{ $tc(\'sw-bulk-edit.applyChanges\') }}\n        </sw-button-process>\n        {% endblock %}\n    </template>\n    {% endblock %}\n\n    \n    {% block sw_bulk_edit_product_content %}\n    <template #content>\n        <sw-card-view v-if="selectedIds.length > 0 && isLoadedData">\n            \n            {% block sw_bulk_edit_product_content_inheritance_card %}\n            <sw-card\n                v-if="isChild"\n                class="sw-bulk-edit-product__inheritance"\n                position-identifier="sw-bulk-edit-product-inheritance"\n            >\n                \n                {% block sw_bulk_edit_product_content_inheritance_alert %}\n                <sw-alert variant="info">\n                    <template #customIcon>\n                        <div class="sw-bulk-edit-product__inheritance-icon">\n                            <sw-icon\n                                name="regular-link"\n                                color="#7363e5"\n                                size="16"\n                            />\n                        </div>\n                    </template>\n                    <template #default>\n                        {{ $tc(\'sw-bulk-edit.product.alertInheritance.message\') }}\n                    </template>\n                </sw-alert>\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            <sw-card\n                v-if="restrictedFields.length"\n                class="sw-bulk-edit-product__restricted-fields"\n                position-identifier="sw-bulk-edit-product-restricted-fields"\n            >\n                <sw-alert\n                    :title="$tc(\'sw-bulk-edit.product.alertRestrictedFields.title\')"\n                    variant="warning"\n                >\n                    <span v-html="$tc(\'sw-bulk-edit.product.alertRestrictedFields.message\')"></span>\n                    <ul>\n                        <li\n                            v-for="(restrictedField, index) in restrictedFields"\n                            :key="index"\n                        >\n                            {{ $tc(`sw-bulk-edit.product.alertRestrictedFields.${restrictedField}`) }}\n                        </li>\n                    </ul>\n                </sw-alert>\n            </sw-card>\n\n            \n            {% block sw_bulk_edit_product_content_gereral_information_card %}\n            <sw-card\n                class="sw-bulk-edit-product-base__info"\n                position-identifier="sw-bulk-edit-product-info"\n                :title="$tc(\'sw-bulk-edit.product.generalInformation.cardTitle\')"\n            >\n                \n                {% block sw_bulk_edit_product_content_gereral_information %}\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields="generalFormFields"\n                    :bulk-edit-data="bulkEditProduct"\n                    :entity="product"\n                    @inheritance-restore="onInheritanceRestore"\n                    @inheritance-remove="onInheritanceRemove"\n                />\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            \n            {% block sw_bulk_edit_product_content_prices_card %}\n            <sw-card\n                class="sw-bulk-edit-product-base__prices"\n                position-identifier="sw-bulk-edit-product-prices"\n                :title="$tc(\'sw-bulk-edit.product.prices.cardTitle\')"\n            >\n                \n                {% block sw_bulk_edit_product_content_prices %}\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields="pricesFormFields"\n                    :bulk-edit-data="bulkEditProduct"\n                    :entity="product"\n                    @change-value="onChangePrices"\n                    @inheritance-restore="onInheritanceRestore"\n                    @inheritance-remove="onInheritanceRemove"\n                />\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            \n            {% block sw_bulk_edit_product_content_advanced_prices_card %}\n            <sw-card\n                class="sw-bulk-edit-product-base__advanced-prices"\n                position-identifier="sw-bulk-edit-product-advanced-prices"\n                :title="$tc(\'sw-bulk-edit.product.advancedPrices.cardTitle\')"\n            >\n                \n                {% block sw_bulk_edit_product_content_advanced_prices %}\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields="advancedPricesFormFields"\n                    :bulk-edit-data="bulkEditProduct"\n                    :entity="product"\n                >\n                    <template #valueFieldWithBoxType="{ formField, entity, index }">\n                        <sw-inheritance-switch\n                            v-if="isChild"\n                            :is-inherited="bulkEditProduct[formField.name].isInherited"\n                            @inheritance-restore="onInheritanceRestore(formField)"\n                            @inheritance-remove="onInheritanceRemove(formField)"\n                        />\n\n                        <a\n                            v-if="[\'add\', \'overwrite\'].includes(bulkEditProduct[formField.name].type)"\n                            :class="{ \'is--disabled\': !!bulkEditProduct[formField.name].isInherited }"\n                            class="sw-card__quick-link"\n                            role="link"\n                            tabindex="0"\n                            @click="displayAdvancePricesModal = true"\n                            @keydown.enter="displayAdvancePricesModal = true"\n                        >\n                            {{ $tc(\'sw-bulk-edit.product.advancedPrices.newAdvancedPrices\', 0, { count: entity[formField.name] ? Object.keys(priceRuleGroups).length : 0 }) }}\n                            <sw-icon\n                                name="regular-long-arrow-right"\n                                small\n                            />\n                        </a>\n\n                        \n                        {% block sw_bulk_edit_product_content_advanced_prices_rule_selection %}\n                        <sw-entity-multi-select\n                            v-else-if="bulkEditProduct[formField.name].type === \'remove\'"\n                            class="sw-bulk-edit-product-base__advanced-prices-selection"\n                            :placeholder="$tc(\'sw-bulk-edit.product.advancedPrices.selectRule\')"\n                            :criteria="ruleCriteria"\n                            entity-name="rule"\n                            :entity-collection="!!bulkEditProduct[formField.name].isInherited ? [] : entity[formField.name]"\n                            :disabled="!!bulkEditProduct[formField.name].isInherited"\n                            @update:entity-collection="onRuleChange"\n                        >\n                            <template #selection-label-property="{ item }">\n                                {{ item.ruleName }}\n                            </template>\n\n                            <template #result-item="{ item, index, labelProperty, isSelected, addItem, getKey }">\n                                <sw-select-result\n                                    :selected="isSelected(item)"\n                                    :disabled="!!priceRuleGroups[item.id]"\n                                    v-bind="{ item, index }"\n                                    @item-select="addItem"\n                                >\n                                    {{ getKey(item,labelProperty) || getKey(item, `translated.${labelProperty}`) }}\n                                </sw-select-result>\n                            </template>\n                        </sw-entity-multi-select>\n                        {% endblock %}\n                    </template>\n                </sw-bulk-edit-change-type-field-renderer>\n                {% endblock %}\n\n                \n                {% block sw_bulk_edit_product_content_advanced_prices_modal %}\n                <sw-modal\n                    v-if="displayAdvancePricesModal"\n                    class="sw-bulk-edit-product-content-advanced-prices-modal"\n                    variant="large"\n                    :title="$tc(\'sw-bulk-edit.product.advancedPrices.cardTitle\')"\n                    @modal-close="displayAdvancePricesModal = false"\n                >\n                    <sw-product-detail-context-prices\n                        :is-set-default-price="true"\n                        :can-set-loading-rules="false"\n                    />\n\n                    \n                    {% block sw_bulk_edit_product_content_advanced_prices_modal_footer %}\n                    <template #modal-footer>\n                        <slot name="sw-bulk-edit-modal-cancel">\n                            <sw-button\n                                size="small"\n                                @click="displayAdvancePricesModal = false"\n                            >\n                                {{ $tc(\'global.default.close\') }}\n                            </sw-button>\n                        </slot>\n                    </template>\n                    {% endblock %}\n                </sw-modal>\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            \n            {% block sw_bulk_edit_product_content_property_card %}\n            <sw-card\n                class="sw-bulk-edit-product-base__property"\n                position-identifier="sw-bulk-edit-product-property"\n                :title="$tc(\'sw-bulk-edit.product.property.cardTitle\')"\n            >\n                \n                {% block sw_bulk_edit_product_content_property %}\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields="propertyFormFields"\n                    :bulk-edit-data="bulkEditProduct"\n                    :entity="product"\n                    @inheritance-restore="onInheritanceRestore"\n                    @inheritance-remove="onInheritanceRemove"\n                />\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            \n            {% block sw_bulk_edit_product_content_deliverability_card %}\n            <sw-card\n                class="sw-bulk-edit-product-base__deliverability"\n                position-identifier="sw-bulk-edit-product-deliverability"\n                :title="$tc(\'sw-bulk-edit.product.deliverability.cardTitle\')"\n            >\n                \n                {% block sw_bulk_edit_product_content_deliverability %}\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields="deliverabilityFormFields"\n                    :bulk-edit-data="bulkEditProduct"\n                    :entity="product"\n                    @inheritance-restore="onInheritanceRestore"\n                    @inheritance-remove="onInheritanceRemove"\n                />\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            \n            {% block sw_bulk_edit_product_content_assignments_card %}\n            <sw-card\n                class="sw-bulk-edit-product-base__assignment"\n                position-identifier="sw-bulk-edit-product-assignment"\n                :title="$tc(\'sw-bulk-edit.product.assignment.cardTitle\')"\n            >\n                \n                {% block sw_bulk_edit_product_content_assignments %}\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields="assignmentFormFields"\n                    :bulk-edit-data="bulkEditProduct"\n                    :entity="product"\n                    @inheritance-restore="onInheritanceRestore"\n                    @inheritance-remove="onInheritanceRemove"\n                />\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            \n            {% block sw_bulk_edit_product_content_media_card %}\n            <sw-card\n                class="sw-bulk-edit-product-base__media"\n                position-identifier="sw-bulk-edit-product-media"\n                :title="$tc(\'sw-bulk-edit.product.media.cardTitle\')"\n            >\n                \n                {% block media %}\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields="mediaFormFields"\n                    :bulk-edit-data="bulkEditProduct"\n                    :entity="product"\n                    @inheritance-restore="onInheritanceRestore"\n                    @inheritance-remove="onInheritanceRemove"\n                />\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            \n            {% block sw_bulk_edit_product_content_labelling_card %}\n            <sw-card\n                class="sw-bulk-edit-product-base__labelling"\n                position-identifier="sw-bulk-edit-product-labelling"\n                :title="$tc(\'sw-bulk-edit.product.labelling.cardTitle\')"\n            >\n                \n                {% block sw_bulk_edit_product_content_labelling %}\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields="labellingFormFields"\n                    :bulk-edit-data="bulkEditProduct"\n                    :entity="product"\n                    @inheritance-restore="onInheritanceRestore"\n                    @inheritance-remove="onInheritanceRemove"\n                />\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            \n            {% block sw_bulk_edit_product_content_seo_card %}\n            <sw-card\n                class="sw-bulk-edit-product-base__seo"\n                position-identifier="sw-bulk-edit-product-seo"\n                :title="$tc(\'sw-bulk-edit.product.seo.cardTitle\')"\n            >\n                \n                {% block sw_bulk_edit_product_content_seo %}\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields="seoFormFields"\n                    :bulk-edit-data="bulkEditProduct"\n                    :entity="product"\n                    @inheritance-restore="onInheritanceRestore"\n                    @inheritance-remove="onInheritanceRemove"\n                />\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            \n            {% block sw_bulk_edit_product_content_meansures_packaging_card %}\n            <sw-card\n                class="sw-bulk-edit-product-base__measures"\n                position-identifier="sw-bulk-edit-product-measures"\n                :title="$tc(\'sw-bulk-edit.product.measuresAndPackaging.cardTitle\')"\n            >\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields="measuresPackagingFields"\n                    :bulk-edit-data="bulkEditProduct"\n                    :entity="product"\n                    @inheritance-restore="onInheritanceRestore"\n                    @inheritance-remove="onInheritanceRemove"\n                />\n            </sw-card>\n            {% endblock %}\n\n            \n            {% block sw_bulk_edit_product_content_essential_card %}\n            <sw-card\n                class="sw-bulk-edit-product-base___essential"\n                position-identifier="sw-bulk-edit-product-essential"\n                :title="$tc(\'sw-bulk-edit.product.featureSets.cardTitle\')"\n            >\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields="essentialCharacteristicsFormFields"\n                    :bulk-edit-data="bulkEditProduct"\n                    :entity="product"\n                    @inheritance-restore="onInheritanceRestore"\n                    @inheritance-remove="onInheritanceRemove"\n                />\n            </sw-card>\n            {% endblock %}\n\n            \n            {% block sw_bulk_edit_product_content_meansures_custom_field_card %}\n            <sw-card\n                v-if="customFieldSets.length > 0"\n                class="sw-bulk-edit-product-base__custom_fields"\n                position-identifier="sw-bulk-edit-product-custom-fields"\n                :title="$tc(\'sw-bulk-edit.product.customFields.cardTitle\')"\n            >\n                <sw-bulk-edit-custom-fields\n                    class="sw-bulk-edit__custom-fields"\n                    :sets="customFieldSets"\n                    :entity="product"\n                    :parent-entity="parentProduct"\n                    @change="onCustomFieldsChange"\n                />\n            </sw-card>\n            {% endblock %}\n        </sw-card-view>\n        <sw-empty-state\n            v-if="!isLoading && selectedIds.length == 0"\n            :title="$tc(\'sw-bulk-edit.product.messageEmptyTitle\')"\n            :subline="$tc(\'sw-bulk-edit.product.messageEmptySubline\')"\n        />\n\n        \n        {% block sw_bulk_edit_product_save_modal %}\n        <router-view\n            v-slot="{ Component }"\n        >\n            <component\n                :is="Component"\n                :item-total="selectedIds.length"\n                :is-loading="isLoading"\n                :process-status="processStatus"\n                @modal-close="closeModal"\n                @bulk-save="onSave"\n            />\n        </router-view>\n        {% endblock %}\n    </template>\n    {% endblock %}\n</sw-page>\n{% endblock %}\n',inject:["feature","bulkEditApiFactory","repositoryFactory"],data(){return{isLoading:!1,isLoadedData:!1,isSaveSuccessful:!1,displayAdvancePricesModal:!1,isDisabledListPrice:!0,isDisabledRegulationPrice:!0,bulkEditProduct:{},bulkEditSelected:[],taxRate:{},currency:{},customFieldSets:[],processStatus:"",rules:[],parentProductFrozen:null,isComponentMounted:!0}},metaInfo(){return{title:this.$createTitle()}},computed:{...l("swProductDetail",["product","parentProduct","taxes"]),...o("swProductDetail",["defaultCurrency","defaultPrice"]),selectedIds(){return Shopware.State.get("shopwareApps").selectedIds},customFieldSetRepository(){return this.repositoryFactory.create("custom_field_set")},currencyRepository(){return this.repositoryFactory.create("currency")},taxRepository(){return this.repositoryFactory.create("tax")},productRepository(){return this.repositoryFactory.create("product")},hasSelectedChanges(){return Object.values(this.bulkEditProduct).some(e=>e.isChanged)||this.bulkEditSelected.length>0},customFieldSetCriteria(){let e=new d(1,null);return e.addFilter(d.equals("relations.entityName","product")),e},currencyCriteria(){return new d(1,25).addSorting(d.sort("name","ASC"))},taxCriteria(){let e=new d(1,500);return e.addSorting(d.sort("position")),e},productCriteria(){let e=new d(1,25);return e.getAssociation("media").addSorting(d.sort("position","ASC")),e.getAssociation("properties").addSorting(d.sort("name","ASC",!0)),e.getAssociation("prices").addSorting(d.sort("quantityStart","ASC",!0)),e.getAssociation("tags").addSorting(d.sort("name","ASC")),e.getAssociation("seoUrls").addFilter(d.equals("isCanonical",!0)),e.getAssociation("crossSellings").addSorting(d.sort("position","ASC")).getAssociation("assignedProducts").addSorting(d.sort("position","ASC")).addAssociation("product").getAssociation("product").addAssociation("options.group"),e.addAssociation("cover").addAssociation("categories").addAssociation("visibilities.salesChannel").addAssociation("options").addAssociation("configuratorSettings.option").addAssociation("unit").addAssociation("productReviews").addAssociation("seoUrls").addAssociation("mainCategories").addAssociation("options.group").addAssociation("customFieldSets").addAssociation("featureSet").addAssociation("cmsPage").addAssociation("featureSet"),e.getAssociation("manufacturer").addAssociation("media"),e},isChild(){return"null"!==this.$route.params.parentId},restrictedFields(){let e=[],t=this.$route.params.includesDigital;return("1"===t||"2"===t)&&(e=["isCloseout","restockTime","maxPurchase","purchaseSteps","minPurchase","shippingFree"]),"1"===t&&e.push("stock"),e},generalFormFields(){return[{name:"description",type:"html",canInherit:this.isChild,config:{componentName:"sw-bulk-edit-product-description",changeLabel:this.$tc("sw-bulk-edit.product.generalInformation.description.changeLabel"),disabled:this.bulkEditProduct?.description?.isInherited}},{name:"manufacturerId",canInherit:this.isChild,config:{componentName:"sw-entity-single-select",entity:"product_manufacturer",changeLabel:this.$tc("sw-bulk-edit.product.generalInformation.manufacturer.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.generalInformation.manufacturer.placeholderManufacturer"),disabled:this.bulkEditProduct?.manufacturerId?.isInherited}},{name:"active",type:"bool",canInherit:this.isChild,config:{type:"switch",label:this.$tc("sw-bulk-edit.product.generalInformation.active.switchLabel"),changeLabel:this.$tc("sw-bulk-edit.product.generalInformation.active.changeLabel"),disabled:this.bulkEditProduct?.active?.isInherited}},{name:"markAsTopseller",type:"bool",canInherit:this.isChild,config:{type:"switch",label:this.$tc("sw-bulk-edit.product.generalInformation.productPromotion.switchLabel"),changeLabel:this.$tc("sw-bulk-edit.product.generalInformation.productPromotion.changeLabel"),disabled:this.bulkEditProduct?.markAsTopseller?.isInherited}}]},pricesFormFields(){let e=[{name:"taxId",canInherit:this.isChild,config:{componentName:"sw-entity-single-select",entity:"tax",changeLabel:this.$tc("sw-bulk-edit.product.prices.taxRate.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.prices.taxRate.placeholderTax"),disabled:this.bulkEditProduct?.taxId?.isInherited}},{name:"price",config:{componentName:"sw-price-field",price:this.product.price,taxRate:this.taxRate,currency:this.currency,changeLabel:this.isChild?this.$tc("sw-bulk-edit.product.prices.price.label"):this.$tc("sw-bulk-edit.product.prices.price.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.prices.price.placeholderPrice"),disabled:!!this.isChild&&this.bulkEditProduct?.isPriceInherited?.isInherited}},{name:"purchasePrices",config:{componentName:"sw-price-field",price:this.product.purchasePrices,taxRate:this.taxRate,currency:this.currency,changeLabel:this.isChild?this.$tc("sw-bulk-edit.product.prices.purchasePrices.label"):this.$tc("sw-bulk-edit.product.prices.purchasePrices.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.prices.purchasePrices.placeholderPurchasePrices"),disabled:!!this.isChild&&this.bulkEditProduct?.isPriceInherited?.isInherited}},{name:"listPrice",config:{componentName:"sw-price-field",price:this.product.listPrice,taxRate:this.taxRate,currency:this.currency,changeLabel:this.isChild?this.$tc("sw-bulk-edit.product.prices.listPrice.label"):this.$tc("sw-bulk-edit.product.prices.listPrice.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.prices.listPrice.placeholderListPrice"),disabled:this.isChild?this.bulkEditProduct?.isPriceInherited?.isInherited:this.isDisabledListPrice}},{name:"regulationPrice",config:{componentName:"sw-price-field",price:this.product.regulationPrice,taxRate:this.taxRate,currency:this.currency,changeLabel:this.isChild?this.$tc("sw-bulk-edit.product.prices.regulationPrice.label"):this.$tc("sw-bulk-edit.product.prices.regulationPrice.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.prices.regulationPrice.placeholderRegulationPrice"),disabled:this.isChild?this.bulkEditProduct?.isPriceInherited?.isInherited:this.isDisabledRegulationPrice}}];if(this.isChild){let t={name:"isPriceInherited",canInherit:this.isChild,config:{componentName:"",changeLabel:this.$tc("sw-bulk-edit.product.prices.isPriceInherited.changeLabel")}};e.splice(1,0,t)}return e},advancedPricesFormFields(){return[{name:"prices",canInherit:this.isChild,config:{allowOverwrite:!0,allowClear:!0,allowAdd:!0,allowRemove:!0,changeLabel:this.$tc("sw-bulk-edit.product.advancedPrices.changeLabel")}}]},propertyFormFields(){return[{name:"properties",canInherit:this.isChild,config:{componentName:"sw-product-properties",allowOverwrite:!0,allowClear:!0,allowAdd:!0,allowRemove:!0,changeLabel:this.$tc("sw-bulk-edit.product.property.changeLabel"),disabled:this.bulkEditProduct?.properties?.isInherited,isAssociation:!1,showInheritanceSwitcher:!1}}]},deliverabilityFormFields(){return[{name:"stock",type:"int",canInherit:!1,config:{componentName:"sw-number-field",changeLabel:this.$tc("sw-bulk-edit.product.deliverability.stock.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.deliverability.stock.placeholderStock"),numberType:"int",allowEmpty:!0,allowOverwrite:!0,allowClear:!0,min:0}},{name:"isCloseout",type:"bool",canInherit:this.isChild,config:{type:"switch",label:this.$tc("sw-bulk-edit.product.deliverability.isCloseout.switchLabel"),changeLabel:this.$tc("sw-bulk-edit.product.deliverability.isCloseout.changeLabel"),disabled:this.bulkEditProduct?.isCloseout?.isInherited}},{name:"deliveryTimeId",canInherit:this.isChild,config:{componentName:"sw-entity-single-select",entity:"delivery_time",changeLabel:this.$tc("sw-bulk-edit.product.deliverability.deliveryTime.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.deliverability.deliveryTime.placeholderDeliveryTime"),disabled:this.bulkEditProduct?.deliveryTimeId?.isInherited}},{name:"restockTime",type:"int",canInherit:this.isChild,config:{componentName:"sw-number-field",changeLabel:this.$tc("sw-bulk-edit.product.deliverability.restockTime.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.deliverability.restockTime.placeholderRestockTime"),numberType:"int",allowEmpty:!0,allowOverwrite:!0,allowClear:!0,min:0,disabled:this.bulkEditProduct?.restockTime?.isInherited}},{name:"shippingFree",type:"bool",canInherit:this.isChild,config:{type:"switch",label:this.$tc("sw-bulk-edit.product.deliverability.freeShipping.switchLabel"),changeLabel:this.$tc("sw-bulk-edit.product.deliverability.freeShipping.changeLabel"),disabled:this.bulkEditProduct?.shippingFree?.isInherited}},{name:"minPurchase",type:"int",canInherit:this.isChild,config:{componentName:"sw-number-field",changeLabel:this.$tc("sw-bulk-edit.product.deliverability.minOrderQuantity.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.deliverability.minOrderQuantity.placeholderMinOrderQuantity"),numberType:"int",allowOverwrite:!0,allowClear:!0,allowEmpty:!0,min:1,disabled:this.bulkEditProduct?.minPurchase?.isInherited}},{name:"purchaseSteps",type:"int",canInherit:this.isChild,config:{componentName:"sw-number-field",changeLabel:this.$tc("sw-bulk-edit.product.deliverability.purchaseSteps.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.deliverability.purchaseSteps.placeholderPurchaseSteps"),numberType:"int",allowOverwrite:!0,allowClear:!0,allowEmpty:!0,min:1,disabled:this.bulkEditProduct?.purchaseSteps?.isInherited}},{name:"maxPurchase",type:"int",canInherit:this.isChild,config:{componentName:"sw-number-field",changeLabel:this.$tc("sw-bulk-edit.product.deliverability.maxOrderQuantity.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.deliverability.maxOrderQuantity.placeholderMaxOrderQuantity"),numberType:"int",allowOverwrite:!0,allowClear:!0,allowEmpty:!0,min:0,disabled:this.bulkEditProduct?.maxPurchase?.isInherited}}].filter(e=>!this.restrictedFields.includes(e.name))},assignmentFormFields(){return[{name:"visibilities",canInherit:this.isChild,config:{componentName:"sw-bulk-edit-product-visibility",bulkEditProduct:this.bulkEditProduct,allowOverwrite:!0,allowClear:!0,allowAdd:!0,allowRemove:!0,changeLabel:this.$tc("sw-bulk-edit.product.assignment.visibilities.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.assignment.visibilities.placeholder"),disabled:this.bulkEditProduct?.visibilities?.isInherited}},{name:"categories",canInherit:this.isChild,config:{componentName:"sw-category-tree-field",categoriesCollection:this.product.categories,allowOverwrite:!0,allowClear:!0,allowAdd:!0,allowRemove:!0,changeLabel:this.$tc("sw-bulk-edit.product.assignment.categories.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.assignment.categories.placeholder"),disabled:this.bulkEditProduct?.categories?.isInherited}},{name:"tags",canInherit:this.isChild,config:{componentName:"sw-entity-tag-select",entityCollection:this.product.tags,entityName:"tag",allowOverwrite:!0,allowClear:!0,allowAdd:!0,allowRemove:!0,changeLabel:this.$tc("sw-bulk-edit.product.assignment.tags.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.assignment.tags.placeholder"),disabled:this.bulkEditProduct?.tags?.isInherited}},{name:"searchKeywords",canInherit:this.isChild,config:{componentName:"sw-multi-tag-select",value:this.product.searchKeywords,allowOverwrite:!0,allowClear:!0,allowAdd:!1,allowRemove:!1,changeLabel:this.$tc("sw-bulk-edit.product.assignment.searchKeywords.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.assignment.searchKeywords.placeholder"),disabled:this.bulkEditProduct?.searchKeywords?.isInherited}}]},mediaFormFields(){return[{name:"media",canInherit:this.isChild,config:{componentName:"sw-bulk-edit-product-media",allowOverwrite:!0,allowClear:!0,allowAdd:!0,changeLabel:this.$tc("sw-bulk-edit.product.media.changeLabel"),disabled:this.bulkEditProduct?.media?.isInherited}}]},labellingFormFields(){return[{name:"releaseDate",type:"datetime",canInherit:this.isChild,config:{type:"date",dateType:"datetime-local",changeLabel:this.$tc("sw-bulk-edit.product.labelling.releaseDate.changeLabel"),disabled:this.bulkEditProduct?.releaseDate?.isInherited}}]},seoFormFields(){return[{name:"metaTitle",type:"text",canInherit:this.isChild,config:{componentName:"sw-field",type:"text",changeLabel:this.$tc("sw-bulk-edit.product.seo.metaTitle.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.seo.metaTitle.placeholderMetaTitle"),disabled:this.bulkEditProduct?.metaTitle?.isInherited}},{name:"metaDescription",type:"text",canInherit:this.isChild,config:{componentName:"sw-field",type:"textarea",changeLabel:this.$tc("sw-bulk-edit.product.seo.metaDescription.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.seo.metaDescription.placeholderMetaDescription"),disabled:this.bulkEditProduct?.metaDescription?.isInherited}},{name:"keywords",type:"text",canInherit:this.isChild,config:{componentName:"sw-field",type:"text",changeLabel:this.$tc("sw-bulk-edit.product.seo.seoKeywords.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.seo.seoKeywords.placeholderSeoKeywords"),disabled:this.bulkEditProduct?.keywords?.isInherited}}]},measuresPackagingFields(){return[{name:"width",type:"int",canInherit:this.isChild,config:{componentName:"sw-number-field",changeLabel:this.$tc("sw-bulk-edit.product.measuresAndPackaging.widthTitle.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.measuresAndPackaging.widthTitle.placeholder"),numberType:"float",suffixLabel:"mm",min:0,disabled:this.bulkEditProduct?.width?.isInherited}},{name:"height",type:"int",canInherit:this.isChild,config:{componentName:"sw-number-field",changeLabel:this.$tc("sw-bulk-edit.product.measuresAndPackaging.heightTitle.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.measuresAndPackaging.heightTitle.placeholder"),numberType:"float",suffixLabel:"mm",min:0,disabled:this.bulkEditProduct?.height?.isInherited}},{name:"length",type:"int",canInherit:this.isChild,config:{componentName:"sw-number-field",changeLabel:this.$tc("sw-bulk-edit.product.measuresAndPackaging.lengthTitle.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.measuresAndPackaging.lengthTitle.placeholder"),numberType:"float",suffixLabel:"mm",min:0,disabled:this.bulkEditProduct?.length?.isInherited}},{name:"weight",type:"int",canInherit:this.isChild,config:{componentName:"sw-number-field",changeLabel:this.$tc("sw-bulk-edit.product.measuresAndPackaging.weightTitle.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.measuresAndPackaging.weightTitle.placeholder"),numberType:"float",suffixLabel:"kg",min:0,disabled:this.bulkEditProduct?.weight?.isInherited}},{name:"purchaseUnit",type:"int",canInherit:this.isChild,config:{componentName:"sw-number-field",numberType:"float",min:0,changeLabel:this.$tc("sw-bulk-edit.product.measuresAndPackaging.sellingUnitTitle.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.measuresAndPackaging.sellingUnitTitle.placeholder"),disabled:this.bulkEditProduct?.purchaseUnit?.isInherited}},{name:"unitId",canInherit:this.isChild,config:{componentName:"sw-entity-single-select",entity:"unit",changeLabel:this.$tc("sw-bulk-edit.product.measuresAndPackaging.scaleUnitTitle.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.measuresAndPackaging.scaleUnitTitle.placeholder"),disabled:this.bulkEditProduct?.unitId?.isInherited}},{name:"packUnit",type:"text",canInherit:this.isChild,config:{componentName:"sw-field",type:"text",changeLabel:this.$tc("sw-bulk-edit.product.measuresAndPackaging.packUnitTitle.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.measuresAndPackaging.packUnitTitle.placeholder"),disabled:this.bulkEditProduct?.packUnit?.isInherited}},{name:"packUnitPlural",type:"text",canInherit:this.isChild,config:{componentName:"sw-field",type:"text",changeLabel:this.$tc("sw-bulk-edit.product.measuresAndPackaging.packUnitPluralTitle.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.measuresAndPackaging.packUnitPluralTitle.placeholder"),disabled:this.bulkEditProduct?.packUnitPlural?.isInherited}},{name:"referenceUnit",type:"int",canInherit:this.isChild,config:{componentName:"sw-number-field",numberType:"float",min:0,changeLabel:this.$tc("sw-bulk-edit.product.measuresAndPackaging.basicUnitTitle.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.measuresAndPackaging.basicUnitTitle.placeholder"),disabled:this.bulkEditProduct?.referenceUnit?.isInherited}}]},essentialCharacteristicsFormFields(){return[{name:"featureSetId",canInherit:this.isChild,config:{componentName:"sw-entity-single-select",entity:"product_feature_set",changeLabel:this.$tc("sw-bulk-edit.product.featureSets.changeLabel"),placeholder:this.$tc("sw-bulk-edit.product.featureSets.placeholder"),disabled:this.bulkEditProduct?.featureSetId?.isInherited}}]},ruleRepository(){return this.repositoryFactory.create("rule")},priceRepository(){return this.product?.prices?this.repositoryFactory.create(this.product.prices.entity,this.product.prices.source):null},ruleCriteria(){let e=new d(1,500);return e.addFilter(d.multi("OR",[d.contains("rule.moduleTypes.types","price"),d.equals("rule.moduleTypes",null)])),e},priceRuleGroups(){return this.product.prices?this.product.prices.reduce((e,t)=>(e[t.ruleId]=[...e[t.ruleId]||[],t],e),{}):{}}},watch:{"bulkEditProduct.prices.type"(e){this.product?.prices?.length&&"remove"===e&&(this.product.prices?.getIds()).forEach(e=>this.product.prices.remove(e))},"product.visibilities":{handler(e){this.isChild&&this.$set(this.bulkEditProduct.visibilities,"value",e)}},"bulkEditProduct.isPriceInherited.isChanged":{handler(e){this.isChild&&(this.$set(this.bulkEditProduct.price,"isChanged",e),this.$set(this.bulkEditProduct.purchasePrices,"isChanged",e),this.$set(this.bulkEditProduct.listPrice,"isChanged",e),this.$set(this.bulkEditProduct.regulationPrice,"isChanged",e))}},"bulkEditProduct.isPriceInherited.isInherited":{handler(e){this.isChild&&(this.$set(this.bulkEditProduct.price,"isInherited",e),this.$set(this.bulkEditProduct.purchasePrices,"isInherited",e),this.$set(this.bulkEditProduct.listPrice,"isInherited",e),this.$set(this.bulkEditProduct.regulationPrice,"isInherited",e))}},"product.listPrice":{deep:!0,handler(e){!this.isChild||!this.bulkEditProduct?.price?.value?.length||this.bulkEditProduct?.price?.value[0]?.listPrice||this.$set(this.bulkEditProduct.price.value[0],"listPrice",e[0])}},"product.regulationPrice":{deep:!0,handler(e){!this.isChild||!this.bulkEditProduct?.price?.value?.length||this.bulkEditProduct?.price?.value[0]?.regulationPrice||this.$set(this.bulkEditProduct.price.value[0],"regulationPrice",e[0])}}},beforeCreate(){Shopware.State.registerModule("swProductDetail",r.Z)},beforeUnmount(){Shopware.State.unregisterModule("swProductDetail")},created(){this.createdComponent()},methods:{async createdComponent(){this.setRouteMetaModule(),this.isLoading=!0,this.isChild&&await this.getParentProduct(),Promise.all([this.loadCurrencies(),this.loadTaxes(),this.loadCustomFieldSets(),this.loadDefaultCurrency(),this.loadRules()]).then(()=>{this.loadBulkEditData();let e=this.isChild?this.parentProduct:this.productRepository.create();Shopware.State.commit("swProductDetail/setProduct",e),this.definePricesBulkEdit(),this.isChild&&this.setBulkEditProductValue(),this.isLoading=!1,this.isLoadedData=!0})},setRouteMetaModule(){this.$set(this.$route.meta.$module,"color","#57D9A3"),this.$set(this.$route.meta.$module,"icon","regular-products")},setBulkEditProductValue(){Object.keys(this.bulkEditProduct).forEach(e=>{this.$set(this.bulkEditProduct[e],"value",u(this.parentProduct?.[e])),"searchKeywords"===e&&this.setProductSearchKeywords()})},getParentProduct(){return this.productRepository.get(this.$route.params.parentId,Shopware.Context.api,this.productCriteria).then(e=>{e.stock=null,Shopware.State.commit("swProductDetail/setParentProduct",e),this.parentProductFrozen=JSON.stringify(e)}).catch(()=>{Shopware.State.commit("swProductDetail/setParentProduct",{})})},loadDefaultCurrency(){return this.currencyRepository.get(n.app.systemCurrencyId).then(e=>{this.currency=e})},defineBulkEditData(e,t=null,i="overwrite",r=!1){if(!this.bulkEditProduct[e]){if("stock"===e){this.$set(this.bulkEditProduct,e,{value:t,type:i,isChanged:r,isInherited:!1});return}this.$set(this.bulkEditProduct,e,{isChanged:r,type:i,value:t,isInherited:this.isChild})}},loadBulkEditData(){[this.generalFormFields,this.deliverabilityFormFields,this.pricesFormFields,this.advancedPricesFormFields,this.propertyFormFields,this.assignmentFormFields,this.mediaFormFields,this.labellingFormFields,this.seoFormFields,this.measuresPackagingFields,this.essentialCharacteristicsFormFields].forEach(e=>{e.forEach(e=>{this.defineBulkEditData(e.name)})})},loadCustomFieldSets(){return this.customFieldSetRepository.search(this.customFieldSetCriteria).then(e=>{this.customFieldSets=e})},loadTaxes(){return this.taxRepository.search(this.taxCriteria).then(e=>{this.taxRate=this.isChild?this.parentProduct?.tax:e[0],Shopware.State.commit("swProductDetail/setTaxes",e)})},productTaxRate(){return this.taxes?this.taxes.find(e=>e.id===this.product.taxId):{}},loadCurrencies(){return this.currencyRepository.search(new d(1,500)).then(e=>{Shopware.State.commit("swProductDetail/setCurrencies",e)})},definePricesBulkEdit(){if(this.isComponentMounted){if(this.isChild&&!c.isEmpty(this.parentProduct)){this.$set(this.product,"price",this.parentProduct.price),this.$set(this.product,"purchasePrices",this.parentProduct.purchasePrices),this.setProductPrice("listPrice"),this.setProductPrice("regulationPrice");return}this.product.price??=[{currencyId:this.currency.id,net:null,linked:!0,gross:null}],this.product.purchasePrices??=[{currencyId:this.currency.id,net:null,linked:!0,gross:null}],this.product.listPrice=[{currencyId:this.currency.id,net:null,linked:!0,gross:null}],this.product.regulationPrice=[{currencyId:this.currency.id,net:null,linked:!0,gross:null}]}},setProductPrice(e){let t=[{currencyId:this.currency.id,net:null,linked:!0,gross:null}];c.isEmpty(this.parentProduct.price[0][e])?this.$set(this.product,`${e}`,t):this.$set(this.product,`${e}`,[this.parentProduct.price[0][e]])},onChangePrices(e,t=null){if("taxId"===e){this.taxRate=this.productTaxRate();return}"price"===e&&(this.isDisabledListPrice=!this.bulkEditProduct.price.isChanged,this.isDisabledRegulationPrice=!this.bulkEditProduct.price.isChanged),t&&"boolean"!=typeof t&&this.$set(this.product,`${e}`,[t])},onCustomFieldsChange(e){if(Object.keys(e).length<=0){this.bulkEditSelected=this.bulkEditSelected.filter(e=>"customFields"!==e.field);return}this.bulkEditSelected.push({field:"customFields",type:"overwrite",value:e})},onProcessData(){let e=!1,t=!1;Object.keys(this.bulkEditProduct).forEach(i=>{let r=u(this.bulkEditProduct[i]);if(!r.isChanged)return;if("listPrice"===i){e=!0;return}if("regulationPrice"===i){t=!0;return}let s=this.product[i];["minPurchase","maxPurchase","purchaseSteps","restockTime"].includes(i)&&"clear"===r.type?(s=null,r.type="overwrite"):"searchKeywords"===i&&(i="customSearchKeywords"),r.isInherited&&(s=null);let n={field:i,type:r.type,value:s};"visibilities"===i?n.mappingReferenceField="salesChannelId":"media"===i?n.mappingReferenceField="mediaId":"prices"===i&&(n.mappingReferenceField="ruleId"),this.isChild&&null!==n.value&&c.isArray(n.value)&&n.value.forEach(e=>{delete e.id}),this.bulkEditSelected.push(n)}),e&&this.processListPrice(),t&&this.processRegulationPrice()},processListPrice(){let e=this.bulkEditSelected.find(e=>"price"===e.field&&!c.isEmpty(e.value));e&&this.$set(e.value[0],"listPrice",this.product.listPrice[0])},processRegulationPrice(){let e=this.bulkEditSelected.find(e=>"price"===e.field&&!c.isEmpty(e.value));e&&this.$set(e.value[0],"regulationPrice",this.product.regulationPrice[0])},openModal(){this.isComponentMounted=!1,this.$router.push({name:"sw.bulk.edit.product.save",params:{parentId:this.$route.params.parentId}})},async onSave(){this.isLoading=!0,this.onProcessData();let e=a(this.selectedIds,50).map(e=>this.bulkEditApiFactory.getHandler("product").bulkEdit(e,this.bulkEditSelected));return this.bulkEditSelected=[],Promise.all(e).then(e=>{let t=e.every(e=>e.data);this.processStatus=t?"success":"fail"}).catch(()=>{this.processStatus="fail"}).finally(()=>{this.isLoading=!1})},closeModal(){this.$router.push({name:"sw.bulk.edit.product"})},onChangeLanguage(e){Shopware.State.commit("context/setApiLanguageId",e)},loadRules(){return this.ruleRepository.search(this.ruleCriteria).then(e=>{this.rules=e})},onRuleChange(e){if(e.length>this.product.prices.length){let t=this.priceRepository.create();t.productId=this.product.id,t.quantityStart=1,t.quantityEnd=null,t.currencyId=this.defaultCurrency.id,t.price=[{currencyId:this.defaultCurrency.id,gross:0,linked:this.defaultPrice.linked,net:0,listPrice:null,regulationPrice:null}],this.defaultPrice.listPrice&&(t.price[0].listPrice={currencyId:this.defaultCurrency.id,gross:this.defaultPrice.listPrice.gross,linked:this.defaultPrice.listPrice.linked,net:this.defaultPrice.listPrice.net}),this.defaultPrice.regulationPrice&&(t.price[0].regulationPrice={currencyId:this.defaultCurrency.id,gross:this.defaultPrice.regulationPrice.gross,linked:this.defaultPrice.regulationPrice.linked,net:this.defaultPrice.regulationPrice.net}),e.forEach(e=>{this.product.prices.some(t=>t.ruleId===e.ruleId)||(t.ruleId=e.id,t.ruleName=e.name,this.product.prices.add(t))});return}this.product.prices.forEach(t=>{e.some(e=>t.ruleId===e.ruleId)||this.product.prices.remove(t.id)})},onInheritanceRestore(e){let t=JSON.parse(this.parentProductFrozen);if(this.$set(this.bulkEditProduct[e.name],"isInherited",!0),this.$set(this.bulkEditProduct[e.name],"value",t[e.name]),"taxId"===e.name){this.taxRate=t.tax,this.$set(this.product,"taxId",t.taxId);return}if("isPriceInherited"===e.name){this.$set(this.product.price,0,t.price[0]),this.$set(this.product.purchasePrices,0,t.purchasePrices[0]);let e=c.isEmpty(t.price[0].listPrice)?{currencyId:this.currency.id,net:null,linked:!0,gross:null}:t.price[0].listPrice;this.$set(this.product,"listPrice",[e]),this.$set(this.product.price[0],"listPrice",e);let i=c.isEmpty(t.price[0].regulationPrice)?{currencyId:this.currency.id,net:null,linked:!0,gross:null}:t.price[0].regulationPrice;this.$set(this.product,"regulationPrice",[i]),this.$set(this.product.price[0],"regulationPrice",i);return}if("categories"===e.name){this.setProductAssociation(e.name,t);return}if("media"===e.name){this.$set(this.product,"media",t.media);return}if("prices"===e.name||"properties"===e.name){this.setProductAssociation(e.name,t);return}if("searchKeywords"===e.name){this.setProductSearchKeywords();return}this.$set(this.product,e.name,t[e.name])},onInheritanceRemove(e){["properties","prices"].includes(e.name)&&this.setProductAssociation(e.name),this.$set(this.bulkEditProduct[e.name],"isInherited",!1)},setProductSearchKeywords(){if(c.isEmpty(this.parentProduct?.customSearchKeywords)){this.$set(this.bulkEditProduct.searchKeywords,"value",[]),this.$set(this.product,"searchKeywords",[]);return}this.$set(this.bulkEditProduct.searchKeywords,"value",this.parentProduct.customSearchKeywords),this.$set(this.product,"searchKeywords",this.parentProduct.customSearchKeywords)},setProductAssociation(e,t=null){if(this.product[e].getIds().forEach(t=>this.product[e].remove(t)),!t){this.$set(this.bulkEditProduct[e],"value",[]);return}t[e].forEach(t=>this.product[e].add(t))}}}},547054:function(e,t){"use strict";t.Z={namespaced:!0,state(){return{product:{},parentProduct:{},currencies:[],apiContext:{},taxes:[],variants:[],customFieldSets:[],defaultFeatureSet:{},loading:{init:!1,product:!1,parentProduct:!1,manufacturers:!1,currencies:!1,taxes:!1,customFieldSets:!1,media:!1,rules:!1,variants:!1,defaultFeatureSet:!1,advancedMode:!1},localMode:!1,advancedModeSetting:{},modeSettings:["general_information","prices","deliverability","visibility_structure","media","labelling","measures_packaging","properties","essential_characteristics","custom_fields"],creationStates:[]}},getters:{isLoading:e=>Object.values(e.loading).some(e=>e),defaultCurrency(e){return e.currencies&&e.currencies.length&&e.currencies.find(e=>e.isSystemDefault)||{}},defaultPrice(e,t){let i=e.product.price;if(!i){if(!e.parentProduct.price)return{};i=e.parentProduct.price}return i.find(e=>e.currencyId===t.defaultCurrency.id)},defaultFeatureSet(e){return e.defaultFeatureSet?e.defaultFeatureSet:{}},productTaxRate(e){return e.taxes?e.taxes.find(t=>e.product.taxId?t.id===e.product.taxId:e.parentProduct.taxId?t.id===e.parentProduct.taxId:{}):{}},isChild(e){return!!e.product?.parentId&&!!e.product.parentId},showModeSetting(e){return!!e.product?.parentId||e.advancedModeSetting.value?.advancedMode.enabled},showProductCard(e,t){return i=>!!e.product?.parentId||(!["essential_characteristics","custom_fields","labelling"].includes(i)||!!t.showModeSetting)&&e.modeSettings.includes(i)},advanceModeEnabled(e){return e.advancedModeSetting.value?.advancedMode.enabled},productStates(e){return e.product.isNew()&&e.creationStates?e.creationStates:e.product.states?e.product.states:[]}},mutations:{setApiContext(e,t){e.apiContext=t},setCustomFields(e,t){e.customFieldSets=e.customFieldSets.map(e=>e.id===t.id?t:e)},setLocalMode(e,t){e.localMode=t},setLoading(e,t){let i=t[0],r=t[1];return"boolean"==typeof r&&void 0!==e.loading[i]&&(e.loading[i]=r,!0)},setAssignedProductsFromCrossSelling(e,{id:t,collection:i}){e.product.crossSellings.get(t).assignedProducts=i},setProductId(e,t){e.productId=t},setProduct(e,t){e.product=t},setVariants(e,t){e.variants=t},setParentProduct(e,t){e.parentProduct=t},setCurrencies(e,t){e.currencies=t},setTaxes(e,t){e.taxes=t,!e.product||null!==e.product.taxId||e.parentProduct||e.parentProduct.id||(e.product.taxId=e.taxes[0].id)},setAttributeSet(e,t){e.customFieldSets=t},setDefaultFeatureSet(e,t){e.defaultFeatureSet=t},setAdvancedModeSetting(e,t){e.advancedModeSetting=t},setModeSettings(e,t){e.modeSettings=t},setCreationStates(e,t){e.creationStates=t}}}},378754:function(e,t,i){var r=i(944893);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),i(745346).Z("36aaf1b2",r,!0,{})}}]);