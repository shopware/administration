(this.webpackJsonpAdministration=this.webpackJsonpAdministration||[]).push([[234],{"9bCi":function(t,e,n){},LQiC:function(t,e,n){"use strict";n.r(e);var i=n("J58c"),s=n.n(i);n("qrpc");function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var a=Shopware.Component.getComponentHelper().mapState;e.default={template:'<div class="sw-extension-my-extensions-listing">\n    <sw-skeleton\n        v-if="isLoading"\n        :variant="skeletonVariant"\n    />\n\n    <div\n        v-else\n        class="sw-extension-my-extensions-listing__listing-grid"\n    >\n        <sw-alert\n            v-if="!isAppUrlReachable"\n            class="sw-extension-my-extensions-listing__app-url-warning"\n            variant="warning"\n            :title="$tc(\'sw-app.component.sw-app-wrong-app-url-modal.title\')"\n        >\n\n            <template #default>\n                <div>\n                    {{ $tc(\'sw-app.component.sw-app-wrong-app-url-modal.explanation\') }}\n                </div>\n                <div>\n                    {{ $tc(\'sw-app.component.sw-app-wrong-app-url-modal.textGetSupport\') }}\n                </div>\n            </template>\n\n            <template #actions>\n                <sw-button\n                    class="sw-app-wrong-app-url-modal__content-link-button"\n                    variant="ghost"\n                    :link="$tc(\'sw-app.component.sw-app-wrong-app-url-modal.linkToDocsArticle\')"\n                >\n                    {{ $tc(\'sw-app.component.sw-app-wrong-app-url-modal.labelLearnMoreButton\') }}\n                </sw-button>\n            </template>\n\n        </sw-alert>\n        <sw-meteor-card\n            v-if="!extensionListPaginated.length && !filterByActiveState"\n            class="sw-extension-my-extensions-listing__empty-state"\n        >\n            <img\n                :src="\'administration/static/img/empty-states/extensions-empty-state.svg\' | asset"\n                alt=""\n            >\n\n            <h3 v-if="isThemeRoute">\n                {{ $tc(\'sw-extension-store.component.sw-extension-my-extensions-listing.themes.titleEmptyState\') }}\n            </h3>\n            <h3 v-else>\n                {{ $tc(\'sw-extension-store.component.sw-extension-my-extensions-listing.apps.titleEmptyState\') }}\n            </h3>\n\n            <p v-if="isThemeRoute">\n                {{ $tc(\'sw-extension-store.component.sw-extension-my-extensions-listing.themes.textEmptyState\') }}\n            </p>\n            <p v-else>\n                {{ $tc(\'sw-extension-store.component.sw-extension-my-extensions-listing.apps.textEmptyState\') }}\n            </p>\n\n            <sw-button\n                variant="ghost"\n                @click="openStore"\n            >\n                {{ $tc(\'sw-extension-store.component.sw-extension-my-extensions-listing.btnOpenStore\') }}\n            </sw-button>\n        </sw-meteor-card>\n\n        <template v-else>\n            <div class="sw-extension-my-extensions-listing__container">\n                <sw-extension-my-extensions-listing-controls\n                    @update:active-state="changeActiveState"\n                    @update:sorting-option="changeSortingOption"\n                />\n\n                <sw-meteor-card\n                    v-if="!extensionListPaginated.length && filterByActiveState"\n                    class="sw-extension-my-extensions-listing__empty-state"\n                >\n                    <img\n                        :src="\'administration/static/img/empty-states/extensions-empty-state.svg\' | asset"\n                        alt=""\n                    >\n\n                    <h3 v-if="isThemeRoute">\n                        {{ $tc(\'sw-extension-store.component.sw-extension-my-extensions-listing.themes.noActivePlugins\') }}\n                    </h3>\n                    <h3 v-else>\n                        {{ $tc(\'sw-extension-store.component.sw-extension-my-extensions-listing.apps.noActivePlugins\') }}\n                    </h3>\n                </sw-meteor-card>\n\n                <template v-else>\n                    <template v-for="entry in extensionListPaginated">\n                        <component\n                            :is="entry.storeLicense ? \'sw-extension-card-bought\' : \'sw-self-maintained-extension-card\'"\n                            :key="entry.name"\n                            :extension="entry"\n                            @updateList="updateList"\n                        />\n                    </template>\n\n                    <sw-pagination\n                        :total="total"\n                        :limit="limit"\n                        :page="page"\n                        @page-change="changePage"\n                    />\n                </template>\n            </div>\n        </template>\n    </div>\n</div>\n',inject:["shopwareExtensionService"],data:function(){return{filterByActiveState:!1,sortingOption:"updated-at"}},computed:r(r({},a("context",{isAppUrlReachable:function(t){return t.app.config.settings.appUrlReachable}})),{},{isLoading:function(){return Shopware.State.get("shopwareExtensions").myExtensions.loading},myExtensions:function(){return Shopware.State.get("shopwareExtensions").myExtensions.data},extensionList:function(){var t=this.filterExtensionsByType(this.myExtensions),e=this.sortExtensions(t,this.sortingOption);return this.filterByActiveState?this.filterExtensionsByActiveState(e):e},extensionListPaginated:function(){var t=(this.page-1)*this.limit;return this.extensionListSearched.slice(t,t+this.limit)},extensionListSearched:function(){var t=this;return this.extensionList.filter((function(e){var n=t.term&&t.term.toLowerCase();if(!t.term)return!0;var i=e.label||"",s=e.name||"";return i.toLowerCase().includes(n)||s.toLowerCase().includes(n)}))},isAppRoute:function(){return"sw.extension.my-extensions.listing.app"===this.$route.name},isThemeRoute:function(){return"sw.extension.my-extensions.listing.theme"===this.$route.name},total:function(){return this.extensionListSearched.length||0},limit:{get:function(){return Number(this.$route.query.limit)||25},set:function(t){this.updateRouteQuery({limit:t})}},page:{get:function(){return Number(this.$route.query.page)||1},set:function(t){this.updateRouteQuery({page:t})}},term:{get:function(){return this.$route.query.term||void 0},set:function(t){this.updateRouteQuery({term:t,page:1})}},skeletonVariant:function(){return this.isThemeRoute?"extension-themes":"extension-apps"}}),watch:{"$route.name":function(){this.updateList(),this.filterByActiveState=!1}},mounted:function(){this.mountedComponent()},methods:{mountedComponent:function(){this.updateList(),this.updateRouteQuery()},updateList:function(){this.shopwareExtensionService.updateExtensionData()},openStore:function(){this.$router.push({name:"sw.extension.store.listing"})},updateRouteQuery:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.$route.query,n=t.limit||this.$route.query.limit,i=t.page||this.$route.query.page,s=t.term||this.$route.query.term,o={name:this.$route.name,params:this.$route.params,query:{limit:n||25,page:i||1,term:s||void 0}};Shopware.Utils.types.isEmpty(e)?this.$router.replace(o):this.$router.push(o)},changePage:function(t){var e=t.page,n=t.limit;this.updateRouteQuery({page:e,limit:n})},filterExtensionsByType:function(t){var e=this;return t.filter((function(t){return!(!e.isAppRoute||t.isTheme)||!(!e.isThemeRoute||!t.isTheme)}))},sortExtensions:function(t,e){return t.sort((function(t,n){if("name-asc"===e)return t.label.localeCompare(n.label,{sensitivity:"base"});if("name-desc"===e)return-1*t.label.localeCompare(n.label,{sensitivity:"base"});if("updated-at"===e){if(null===t.updatedAt&&null!==n.updatedAt)return 1;if(null!==t.updatedAt&&null===n.updatedAt)return-1;if(null===n.updatedAt&&null===t.updatedAt)return 0;var i=new Date(t.updatedAt.date),s=new Date(n.updatedAt.date);if(i>s)return-1;if(i<s)return 1;if(i===s)return 0}return 0}))},changeSortingOption:function(t){this.sortingOption=t},changeActiveState:function(t){this.filterByActiveState=t},filterExtensionsByActiveState:function(t){return t.filter((function(t){return t.active}))}}}},qrpc:function(t,e,n){var i=n("9bCi");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("ydqr").default)("e78ecb00",i,!0,{})}}]);